{"version":3,"sources":["store/app/types.ts","store/user/types.ts","components/common/Collapse/Collapse.styled.ts","components/common/Collapse/Collapse.tsx","components/common/CssAnimation/CssAnimation.tsx","components/common/Delay/Delay.tsx","components/common/Loader/Loader.styled.ts","components/common/Loader/Loader.tsx","components/common/SwitchButton/SwitchButton.tsx","components/common/MultipleChoiceItems/MultipleChoiceItems.styled.ts","components/popups/previewGallery/PreviewGallery.styled.ts","components/popups/previewGallery/PreviewGallery.tsx","components/common/MultipleChoiceItems/MultipleChoiceItems.tsx","components/common/ProgressBar/ProgressBar.styled.ts","components/common/ProgressBar/ProgressBar.tsx","components/common/ProgressResult/ProgressResult.styled.ts","components/common/ProgressResult/ProgressResult.tsx","components/common/ShapedIcon/ShapedIcon.styled.ts","components/common/ShapedIcon/ShapedIcon.tsx","components/common/StatusTooltip/StatusTooltip.styled.ts","components/common/StatusTooltip/StatusTooltip.tsx","components/common/Routes/PrivateRoute/PrivateRoute.tsx","components/common/Routes/RouteWithRedirect/RouteWithRedirect.tsx","components/common/Tooltip/Tooltip.styled.ts","components/common/Tooltip/Tooltip.tsx","components/common/CourseLogo/CourseLogo.styled.ts","components/common/CourseLogo/CourseLogo.tsx","components/common/index.ts","core/mappers/settings.ts","store/questions/responseReducers.ts","store/rootReducer.ts","store/app/reducer.ts","store/course/reducer.ts","store/modules/reducer.ts","store/settings/reducer.ts","store/questions/reducer.ts","store/sections/reducer.ts","store/contents/reducer.ts","store/navigation/reducer.ts","store/treeOfContent/reducer.ts","store/popup/reducer.ts","store/user/reducer.ts","store/questions/multipleChoice/responseReducer.ts","store/questions/statementChoice/responseReducer.ts","store/questions/dragAndDropText/responseReducer.ts","store/questions/openQuestion/responseReducer.ts","store/questions/rankingText/responseReducer.ts","store/questions/scenario/responseReducer.ts","store/questions/fillInTheBlank/responseReducer.ts","store/questions/textMatching/responseReducer.ts","store/questions/hotspot/responseReducer.ts","store/index.ts","constants/typeAccess.ts","store/contents/types.ts","components/common/Button/Button.styled.ts","components/common/DropdownInput/DropdownInput.styled.ts","components/common/DropdownInput/popover/DropdownInputPopover.styled.ts","components/common/DropdownInput/popover/DropdownInputPopover.tsx","components/common/DropdownInput/button/DropdownInputButton.styled.ts","components/common/DropdownInput/button/DropdownInputButton.tsx","components/common/DropdownInput/DropdownInput.tsx","components/common/DropdownInput/index.ts","constants/components.ts","components/login/Input/Input.styled.ts","components/login/Input/Input.tsx","components/login/Input/index.ts","components/common/EditableTextarea/EditableTextarea.styled.ts","components/common/EditableTextarea/EditableTextarea.tsx","components/common/EditableTextarea/index.ts","components/common/Button/Button.tsx","components/common/Button/index.ts","store/questions/multipleChoice/selectors.ts","store/questions/scenario/selectors.ts","store/settings/types.ts","store/popup/types.ts","utils/getStringHash.ts","utils/sort.ts","store/questions/dragAndDropText/selectors.ts","components/common/Separator/Separator.tsx","components/common/Separator/index.ts","store/questions/rankingText/selectors.ts","store/questions/textMatching/selectors.ts","store/treeOfContent/types.ts","components/mixins/reviewTypography.ts","components/mixins/images.ts","store/settings/selectors.ts","constants/common.ts","core/events/eventHandler.ts","components/common/NumericList/NumericList.styled.ts","components/common/NumericList/NumericList.tsx","components/common/NumericList/index.ts","components/common/Popup/Popup.styled.ts","components/common/Popup/Popup.tsx","components/common/Popup/index.ts","components/common/Link/Link.styled.ts","components/common/Link/Link.tsx","components/common/Link/index.ts","components/common/DragDrop/DragDrop.styled.ts","components/common/DragDrop/DragDrop.tsx","components/common/DragDrop/index.ts","components/common/TextInput/TextInput.styled.ts","components/common/TextInput/TextInput.tsx","components/common/TextInput/index.ts","components/mixins/typography.ts","core/events/events.ts","store/navigation/types.ts","store/questions/statementChoice/selectors.ts","store/questions/openQuestion/selectors.ts","store/questions/fillInTheBlank/selectors.ts","store/questions/hotspot/selectors.ts","store/questions/statementChoice/types.ts","store/questions/openQuestion/types.ts","store/questions/rankingText/types.ts","store/questions/scenario/types.ts","store/questions/fillInTheBlank/types.ts","store/questions/dragAndDropText/types.ts","store/questions/hotspot/types.ts","store/questions/textMatching/types.ts","store/popup/selectors.ts","constants/questionTypes.ts","core/fonts/loader.ts","components/mixins/interactivity.ts","core/events/eventEmitter.ts","store/course/selectors.ts","components/common/Hint/Hint.styled.ts","components/common/Hint/Hint.tsx","store/questions/selectors.ts","store/questions/informationContent/selectors.ts","constants/navigation.ts","utils/color.ts","utils/window.ts","store/user/selectors.ts","components/common/Icon/Icon.tsx","components/common/Icon/index.ts","store/sections/selectors.ts","components/mixins/normalize.ts","core/progressStorage/storageInterface.ts","core/progressStorage/localStorage/index.ts","core/progressStorage/externalStorage/auth.ts","core/progressStorage/externalStorage/socialNetworks.ts","core/progressStorage/externalStorage/index.ts","core/progressStorage/progressMapper/responseMappers/ResponseMapperBase.ts","core/progressStorage/progressMapper/responseMappers/DragAndDropTextResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/FillInTheBlankResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/HotspotResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/InformationContentResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/ChoiceResponseMapperBase.ts","core/progressStorage/progressMapper/responseMappers/MultipleChoiceResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/OpenQuestionResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/RankingTextResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/ScenarioResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/SingleChoiceResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/SingleChoiceImageResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/StatementChoiceResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/TextMatchingResponseMapper.ts","core/progressStorage/progressMapper/responseMappers/index.ts","core/progressStorage/progressMapper/responseMapper.ts","core/progressStorage/progressMapper/urlMapper.ts","core/progressStorage/idMapper/idShortener.ts","core/progressStorage/idMapper/responseMappers/DragAndDropText.ts","core/progressStorage/idMapper/responseMappers/FillInTheBlank.ts","core/progressStorage/idMapper/responseMappers/HotspotMapper.ts","core/progressStorage/idMapper/responseMappers/InformationContent.ts","core/progressStorage/idMapper/responseMappers/SingleChoice.ts","core/progressStorage/idMapper/responseMappers/MultipleChoice.ts","core/progressStorage/idMapper/responseMappers/OpenQuestion.ts","core/progressStorage/idMapper/responseMappers/StatementChoice.ts","core/progressStorage/idMapper/responseMappers/RankingText.ts","core/progressStorage/idMapper/responseMappers/Scenario.ts","core/progressStorage/idMapper/responseMappers/SingleChoiceImage.ts","core/progressStorage/idMapper/responseMappers/TextMatching.ts","core/progressStorage/idMapper/responseMappers/index.ts","core/progressStorage/idMapper/index.ts","core/progressStorage/progressStorage.ts","utils/compression.ts","core/progressStorage/EventHandler.ts","core/progressStorage/index.ts","constants/progressStorage.ts","constants/screenResolutions.ts","store/initialState.ts","utils/object.ts","components/common/Text/Text.styled.ts","components/common/Text/Text.tsx","components/common/Text/index.ts","store/course/types.ts","constants/review.ts","core/http/requester.ts","store/modules/types.ts","constants/popups.ts","store/questions/types.ts","utils/string.ts","components/common/CircleLoader/CircleLoader.styled.ts","components/common/CircleLoader/CircleLoader.tsx","components/common/CircleLoader/index.ts","core/http/resourceLoader.ts","core/localization/localization.ts","core/localization/index.ts","components/common/SwitchButton/SwitchButton.styled.ts","store/navigation/selectors.ts","store/navigation/actions.ts","components/hocs/withNavigation.tsx","store/modules/selectors.ts","components/review/Reviewable/Reviewable.styled.ts","components/review/Reviewable/Reviewable.tsx","components/sections/SectionContent/SectionContent.styled.ts","components/sections/SectionsList/SectionsList.styled.ts","components/sections/SectionLearningObjective/SectionLearningObjective.styled.ts","components/sections/SectionLearningObjective/SectionLearningObjective.tsx","utils/image.ts","components/sections/SectionImage/SectionImage.styled.ts","components/sections/SectionImage/SectionImage.tsx","components/sections/SectionContent/SectionContent.tsx","components/sections/SectionsList/SectionsList.tsx","core/http/contentLoader.ts","store/contents/actions.ts","store/contents/selectors.ts","utils/element.ts","components/contents/ContentItem/ContentItem.styled.ts","components/contents/ContentWrapper/table.ts","components/contents/ContentWrapper/audio.ts","components/contents/ContentWrapper/video.ts","components/contents/ContentWrapper/image.ts","components/contents/ContentWrapper/index.ts","components/contents/ContentItem/Document/components/DocumentContentParser.ts","components/contents/ContentItem/Document/Document.styled.ts","components/contents/ContentItem/Document/Document.tsx","components/contents/ContentItem/HotspotOnImage/components/HotspotOnImageContentParser.ts","components/contents/ContentItem/HotspotOnImage/HotspotOnImage.styled.ts","components/contents/ContentItem/HotspotOnImage/components/SpotArea.styled.ts","components/contents/ContentItem/HotspotOnImage/components/TooltipContent.styled.ts","components/contents/ContentItem/HotspotOnImage/components/InfoButton.styled.ts","components/contents/ContentItem/HotspotOnImage/components/Spot.tsx","components/contents/ContentItem/HotspotOnImage/HotspotOnImage.tsx","components/contents/ContentItem/ShowMore/ShowMore.styled.ts","components/contents/ContentItem/ShowMore/ShowMore.tsx","components/contents/ContentItem/LinkCuration/LinkCurationContentParser.ts","components/contents/ContentItem/LinkCuration/LinkCuration.styled.ts","components/contents/ContentItem/LinkCuration/LinkCuration.tsx","components/contents/ContentItem/Audio/Audio.styled.ts","components/contents/ContentItem/Video/Video.styled.ts","components/contents/ContentItem/ContentItem.tsx","components/contents/ContentList/ContentList.styled.ts","components/contents/ContentList/ContentList.tsx","components/contents/Contents.tsx","components/mixins/customScrollbars.ts","components/sections/CourseInformation/CourseInformation.styled.ts","components/sections/CourseInformation/CourseInformation.tsx","core/schemas/content.ts","core/schemas/explanationBlock.ts","core/schemas/question.ts","core/schemas/section.ts","core/schemas/afterword.ts","core/schemas/introductions.ts","core/schemas/course.ts","core/mappers/course.ts","store/sections/actions.ts","store/questions/actions.ts","store/user/actions.ts","core/lti/lti.ts","core/lti/eventHandler.ts","core/lti/index.ts","store/modules/actions.ts","store/course/actions.ts","components/mixins/backgrounds.ts","assets/figures/Figure.styled.ts","assets/figures/SecretLink.tsx","components/popups/closeCourse/CloseCourse.styled.ts","components/popups/closeCourse/CloseCourse.tsx","components/popups/continueLater/ContinueLater.styled.ts","components/popups/continueLater/ContinueLater.tsx","components/popups/descriptionWithBackground/DescriptionWithBackground.styled.ts","components/popups/descriptionWithBackground/DescriptionWithBackground.tsx","components/popups/continueLaterInScorm/ContinueLaterInScorm.styled.ts","components/popups/continueLaterInScorm/ContinueLaterInScorm.tsx","assets/figures/Trophy.tsx","components/popups/nps/buttonVote/ButtonVote.styled.ts","components/popups/nps/buttonVote/ButtonVote.tsx","components/popups/nps/evaluateCourse/EvaluateCourse.styled.ts","components/popups/nps/evaluateCourse/EvaluateCourse.tsx","assets/figures/Rate.tsx","components/popups/nps/feedbackStep/FeedbackStep.styled.ts","components/popups/nps/feedbackStep/FeedbackStep.tsx","components/popups/nps/thankForFeedback/ThankForFeedback.styled.ts","components/popups/nps/thankForFeedback/ThankForFeedback.tsx","components/popups/nps/nps.tsx","components/userMenu/UserMenu.styled.ts","components/userMenu/UserMenu.tsx","components/shell/Layout/Layout.styled.ts","components/shell/Layout/Layout.tsx","pages/sections/SectionsPage.styled.ts","pages/sections/SectionsPage.tsx","components/login/AuthForm/AuthForm.styled.ts","components/login/AuthForm/AuthForm.tsx","components/login/AuthForm/EmailInput.tsx","components/login/AuthForm/NameInput.tsx","components/login/AuthForm/PasswordInput.tsx","components/login/SignUpForm/SignUpForm.styled.ts","components/login/SignUpForm/SignUpForm.tsx","components/login/SocialLogin/SocialLogin.styled.ts","components/login/SocialLogin/SocialLogin.tsx","components/login/SwitcherForm/SwitcherForm.styled.ts","components/login/SwitcherForm/SwitcherForm.tsx","components/login/MobileFooter/MobileFooter.styled.ts","components/login/MobileFooter/MobileFooter.tsx","pages/auth/auth.styled.ts","pages/signUp/SignUpPage.styled.ts","pages/signUp/SignUpPage.tsx","components/login/LoginForm/LoginForm.styled.ts","components/login/LoginForm/LoginForm.tsx","pages/login/LoginPage.styled.ts","pages/login/LoginPage.tsx","store/app/selectors.ts","store/treeOfContent/actions.ts","components/treeOfContent/ResultsBlock/ResultsBlock.styled.ts","components/treeOfContent/ResultsBlock/ResultsBlock.tsx","components/treeOfContent/Header/Header.styled.ts","components/treeOfContent/Header/Header.tsx","components/common/ProgressPopover/ProgressPopover.styled.ts","components/common/ProgressPopover/ProgressPopover.tsx","components/treeOfContent/SectionTreeNode/SectionTreeNode.styled.ts","components/treeOfContent/SectionTreeNode/SectionTreeNode.tsx","components/treeOfContent/QuestionTreeNode/QuestionTreeNode.styled.ts","components/treeOfContent/QuestionTreeNode/QuestionTreeNode.tsx","components/treeOfContent/LearningObjectiveTreeNode/LearningObjectiveTreeNode.styled.ts","components/treeOfContent/LearningObjectiveTreeNode/LearningObjectiveTreeNode.tsx","components/treeOfContent/ExpandedToc/ExpandedToc.styled.ts","components/treeOfContent/ExpandedToc/ExpandedToc.tsx","components/treeOfContent/NavigationItem/NavigationItem.styled.ts","components/treeOfContent/NavigationBlock/NavigationBlock.styled.ts","components/treeOfContent/NavigationBlock/NavigationBlock.tsx","components/treeOfContent/NavigationItem/NavigationItem.tsx","components/treeOfContent/CollapsedToc/CollapsedToc.styled.ts","components/treeOfContent/CollapsedToc/CollapsedToc.tsx","components/shell/RouteTransition/viewChecker.ts","components/treeOfContent/TreeOfContent.styled.ts","components/treeOfContent/TreeOfContent.tsx","components/notFound/NotFound.styled.ts","components/notFound/NotFound.tsx","components/hocs/withFallbackToNotFound.tsx","store/questions/multipleChoice/actions.ts","components/questions/MultipleChoice/MultipleChoice.tsx","components/questions/SingleChoiceImage/SingleChoiceImage.tsx","components/questions/Question.styled.ts","store/questions/statementChoice/actions.ts","components/questions/Statement/Switch/Switch.styled.ts","components/questions/Statement/Switch/Switch.tsx","components/common/helpers/AuxWrapper.ts","components/questions/Statement/Option/Option.styled.ts","components/questions/Statement/Option/Option.tsx","components/questions/Statement/MobileAnswerSeparator.tsx","components/questions/Statement/Statement.styled.ts","components/questions/Statement/Statement.tsx","store/questions/openQuestion/actions.ts","components/questions/OpenQuestion/OpenQuestion.styled.ts","components/questions/OpenQuestion/OpenQuestion.tsx","utils/shuffle.ts","store/questions/rankingText/actions.ts","components/questions/RankingText/RankingText.tsx","store/questions/scenario/actions.ts","components/questions/Scenario/BranchTrackProvider/branchtrackProviderPlugin.ts","components/questions/Scenario/Scenario.styled.ts","components/questions/Scenario/Scenario.tsx","store/questions/fillInTheBlank/actions.ts","components/questions/FillInTheBlank/FillInTheBlank.styled.ts","components/questions/FillInTheBlank/FillInTheBlank.tsx","core/http/imageLoader.ts","store/questions/dragAndDropText/actions.ts","components/questions/DragAndDropText/DragAndDropText.styles.ts","components/questions/DragAndDropText/DragAndDropMobile.tsx","components/questions/DragAndDropText/DragAndDropText.tsx","store/questions/textMatching/actions.ts","components/questions/TextMatching/TextMatching.styled.ts","components/questions/TextMatching/TextMatching.tsx","store/questions/hotspot/actions.ts","components/questions/Hotspot/Hotspot.styled.ts","components/questions/Hotspot/Hotspot.tsx","components/questions/Question.tsx","components/question/PageCounter/PageCounter.tsx","components/common/helpers/containerComponentCreator.ts","components/contents/ContentBlock/ContentBlock.styled.ts","components/contents/ContentBlock/ContentBlock.tsx","components/question/Feedback/Feedback.tsx","components/question/Hint/Hint.styled.ts","components/question/Hint/Hint.tsx","components/question/VoiceOver/VoiceOver.styled.ts","components/question/VoiceOver/VoiceOver.tsx","utils/dom.ts","pages/question/actionsBlock/ActionsBlock.styled.ts","pages/question/actionsBlock/ActionsBlock.tsx","pages/question/QuestionPage.styled.ts","pages/question/QuestionPage.tsx","pages/learningObjective/LearningObjective.styled.ts","pages/learningObjective/LearningObjective.tsx","assets/figures/Rocket.tsx","components/popups/startNewAttempt/StartNewAttempt.styled.ts","components/popups/startNewAttempt/StartNewAttempt.tsx","core/documentLoaders/fileLoader.ts","core/documentLoaders/certificateLoader.ts","components/common/courseAfterword/courseAfterword.styled.ts","components/common/courseAfterword/courseAfterword.tsx","pages/results/ResultsPage.styled.ts","pages/results/ResultsPage.tsx","pages/courseOverview/CourseOverview.styled.ts","pages/courseOverview/RouteTransition.tsx","pages/courseOverview/CourseOverview.tsx","pages/noAccess/LimitAccessPage.styled.ts","pages/noAccess/LimitAccessPage.tsx","utils/logger.ts","core/configuration/reader.ts","core/configuration/translationProvider.ts","core/configuration/settingsProcessor.ts","store/app/actions.ts","store/settings/actions.ts","components/hocs/withScrollOnRedirect.tsx","pages/notFound/NotFoundPage.styled.ts","pages/notFound/NotFoundPage.tsx","components/shell/RouteTransition/mobile.ts","components/shell/RouteTransition/domHelper.ts","components/shell/RouteTransition/desktop.ts","components/shell/RouteTransition/RouteTransition.styled.ts","components/shell/RouteTransition/RouteTransition.tsx","components/shell/Shell.tsx","assets/styles/common.ts","assets/styles/animations.ts","assets/styles/index.ts","index.tsx","components/mixins/placement.ts","components/mixins/media.ts","utils/navigation.ts","store/sections/types.ts","store/questions/multipleChoice/types.ts","store/treeOfContent/selectors.ts","store/popup/actions.ts","components/common/Icon/Icon.styled.ts"],"names":["ActionTypes","Content","styled","div","props","css","defaultOpacity","transition","opacityDuration","Container","duration","isVisible","Collapse","isExpanded","containerNode","contentNode","timeout","raf","React","this","animateAppear","updateWithAnimation","update","clear","children","ref","getDefaultOpacity","setHeight","setOpacity","delayOpacityTransition","fadeOut","collapse","call","onCollapsed","expand","scrollIntoView","time","align","top","fadeIn","setTimeout","onExpanded","func","clearTimeout","window","cancelAnimationFrame","animateHeight","isHeightAuto","getContentHeight","requestAnimationFrame","height","current","offsetHeight","style","opacity","defaultProps","AnimationTypes","CssAnimation","animateLeave","type","CSSTransition","in","appear","exit","classNames","unmountOnExit","AnimationType","Delay","timer","componentDidMount","setState","isWaiting","callback","wait","componentWillUnmount","state","PureComponent","ContentLoader","ReactContentLoader","withTheme","width","speed","primaryColor","transparentize","theme","colors","textColor","solidColor","secondaryColor","x","y","rx","ry","SwitchButton","handleImageLoaded","isImageLoaded","onClick","text","selected","multiple","imageUrl","onKeyDown","ariaDisabled","altAnswerImage","tabIndex","size","roleValue","ariaChecked","CircleLoader","alt","src","onLoad","className","name","appearance","Component","SIZES","MEDIUM","ListItemsBlock","ul","isImageQuestion","media","small","ListItem","li","mainColor","xlarge","MEDIA_TABLET","isTreeOfContentExpanded","TOC","EXPANDED_WIDTH","ZoomIconBg","Icon","ZoomIcon","ZoomIconButton","button","attrs","ariaLabel","buttonDefaultStyle","tablet","isShown","ImageItem","figure","Image","img","PreviewGalleryPopup","imageUrls","popupSettings","map","image","index","key","iconSize","localize","connect","MultipleChoiceItems","items","isOpened","selectItem","item","id","isMultiple","forEach","a","showPopup","actions","openPopup","popupId","POPUP_ID_IMAGE_PREVIEW","popupAriaLabelKey","component","PreviewGallery","disableBottomLine","imageQuestion","event","nextProps","prevState","getTreeOfContentVisibility","dispatch","bindActionCreators","ProgressContainer","Progress","progress","correctColor","ProgressBar","StatusIcon","passedMark","ProgressWrapper","ProgressBarMark","styles","color","coverBgOverlayTextColor","ProgressResult","passedMarkStyles","useState","showTooltip","setShowTooltip","toggleShowTooltip","onMouseEnter","onMouseLeave","html","mustPercentSuccess","arrow","open","distance","tooltipTheme","roundFullColor","getColor","roundOutlined","roundShaded","contentBodyColor","defaultBoxShadowColor","IconShape","getShapeSize","IconElement","shape","ICON","SHAPES","ROUND_FULL_COLOR","ROUND_OUTLINED","ROUND_SHADED","LARGE","xsmall","hoverShape","pointerOnHover","getHoverColor","getShapeColor","shapeColor","SMALL","ShapedIcon","fontSize","shapeSize","getIconSize","Error","secondaryFont","MessageContainer","Text","ContainerMessage","layout","TOOLTIP","INCORRECT","incorrectColor","CORRECT","mobile","PopoverButton","PopoverWrapper","StatusTooltip","refButton","popoverPosition","popoverButton","message","onRequestClose","templateTheme","trigger","position","interactive","font","role","PrivateRoute","ComponentNoAccess","componentNoAccess","typeAccess","rest","Route","render","IS_NO_ACCESS","IS_NOT_AUTHORIZED","Redirect","to","LOGIN_PATH","RouteWithRedirect","shouldRedirect","routeTo","progressStorage","url","INDEX_PATH","canRedirect","history","location","pathname","TooltipContentWrapper","shake","TooltipContentArrow","TooltipElement","newProps","popperOptions","modifiers","preventOverflow","boundariesElement","positionFixed","isMobile","useContext","stickyDuration","animateFill","Logo","altText","logoUrl","CourseLogo","options","settings","publishSettings","manifest","translations","publishMode","template","mapTemplateSettings","publish","fonts","reduce","acc","toCamelCase","branding","mainLogo","logo","alternativeLogo","allowToShowMainLogo","allowToShowLogo","normalizeColorName","value","background","general","results","languages","responseReducer","action","payload","hasOwnProperty","question","questionId","response","questionResponseReducers","reducer","reduceQuestionResponse","rootReducer","combineReducers","app","initialState","APP_LOADED","Object","assign","isLoading","isLoaded","APP_LOADING_FAILED","isLoadingFailed","APP_RESOLUTION_CHANGED","course","COURSE_DATA_LOADED","COURSE_DATA_LOADING_FAILED","COURSE_PROGRESS_RESTORED","attemptId","hasBeenContinued","COURSE_LAUNCHED","COURSE_SCORE_UPDATED","score","isPassed","COURSE_CLEANUP","CLEAR_PREVIEW_QUESTION_ID","previewQuestionId","CERTIFICATE_DOWNLOADED","COURSE_IS_PASSED","modules","MODULE_XAPI_INITIALIZED","xapi","isInitialized","MODULE_XAPI_LRS_ON","isLrsTrackingOn","MODULE_XAPI_LRS_OFF","MODULE_XAPI_NPS_ON","isNpsTrackingOn","MODULE_XAPI_NPS_OFF","MODULE_SCORM_INITIALIZED","scorm","MODULE_PROGRESS_STORAGE_ON","isProgressStorageOn","MODULE_PROGRESS_STORAGE_OFF","ENABLE_REVIEW_MODE","review","isReviewModeEnabled","reviewApiUrl","MODULE_LTI_INITIALIZED","lti","SETTINGS_LOADED","settingsMapper","SETTINGS_LOADING_FAILED","router","routerReducer","questions","QUESTIONS_LOADED","QUESTION_ANSWERED","QUESTION_PROGRESS_RESTORE","isAnswered","isAnsweredCorrectly","QUESTION_OPENED","hasBeenOpened","QUESTION_PROGRESS_RESET","getInitialQuestionResponse","QUESTION_RESTORE_RESPONSE","FEEDBACK_ANIMATING","isFeedbackAnimating","responseReducers","sections","SECTIONS_LOADED","SECTION_SCORE_UPDATED","SECTION_IS_PASSED","contents","CONTENTS_LOADED","CONTENT_LOADED","contentId","navigation","SectionsActions","urls","sectionId","learningObjective","push","getLearningObjectiveUrl","getQuestionUrl","RESULTS_PATH","chain","NAVIGATED_INSIDE_THE_APP","prevUrl","treeOfContent","TOC_TOGGLE_VISIBILITY","popup","OPEN_POPUP","CLOSE_POPUP","user","USER_AUTHENTICATED","USER_UNAUTHENTICATED","USER_AUTHENTICATION_SKIPPED","authorizationSkipped","questionState","QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED","toggleArrayElement","answerId","QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED","SET_SINGLE_ANSWER_SELECTED","splice","length","QUESTION_STATEMENT_ANSWER_IS_SELECTED","toggleArrayStatementElement","isCorrect","QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED","answers","OPEN_QUESTION_ANSWER_IS_SELECTED","answeredText","QUESTION_RANKING_ANSWERS_ARE_SELECTED","QUESTION_SCENARIO_BRANCHTRACK_DATA","isFinished","FILL_IN_THE_BLANK_ANSWER","data","QUESTION_MATCHING_ANSWERS_ARE_SELECTED","HOTSPOT_QUESTION_ANSWER","createHashHistory","middleware","thunk","routerMiddleware","composedEnhancers","compose","applyMiddleware","initialize","store","createStore","IS_SUCCESSFUL_ACCESS","TextElement","buttonTextColor","ButtonElement","textTransform","suffixIcon","MEDIA_LARGE","BUTTON","LAYOUT","PRIMARY","ctaButtonColor","SECONDARY","inverted","ButtonLinkElement","withComponent","Helper","isMatchingOption","isMatching","PopoverContent","typography","DropdownInputPopover","classes","baseSelected","matchingSelected","matchingSelectedCurrent","selectedAnswer","isPopoverOpen","highlightedIndex","setHighlightedIndex","getItemProps","data-test","addClasses","pulseAnimationColors","start","middle","end","PlusIcon","centerAbsoluteElement","DropdownButton","pulse","DropdownInputButton","placeholder","answeredPlaceholder","matchingAnswer","disabled","getToggleButtonProps","getLabelProps","getRootProps","isOpen","buttonAnimation","buttonClasses","base","matchingOption","animation","suppressRefError","DropdownInput","onOptionSelect","onStateChange","prevProps","onChange","selectedItem","onSelect","itemToString","getMenuProps","title","COLLAPSED_WIDTH","TAIL_WIDTH","Z_INDEX","SIDEBAR","COLLAPSED_TOC","TOC_TAIL","BLOCKOUT","LINK","DEFAULT","FORM","INPUT_TYPE","TEXT","PASSWORD","EMAIL","InputElement","input","onInvalid","autoComplete","pattern","required","bounce","validationStatusBeforeSubmit","InputLabel","label","ValidIcon","ValidationMessageBlock","TextError","EyeIcon","aiaLabel","InputContainer","isUserExist","Input","validationPassword","isSpaceInPass","test","target","isPatternPass","RegExp","startInputPass","showErrorText","validValue","hasValue","showPassword","showPassValidationBlock","defaultValue","onBlur","classList","remove","validity","typeMismatch","patternMismatch","idInput","labelText","validIcon","textError","refInput","showValidationMessage","onFocus","setTypePassword","onBlurValidationInput","htmlFor","showHidePassword","EditableContentWrapper","EditableTextarea","textAreaNode","isAutofocus","focus","onResize","rows","node","Button","link","loaderIconSize","other","Element","href","ellipsis","getUserAnswers","getQuestion","answer","some","getScore","includes","correctAnswerId","i","getEmbedCode","embedCode","getProjectId","projectId","responseAnswer","masteryScore","getStringHash","string","hash","charCodeAt","sortById","prev","next","dropspots","dropspot","getBackground","getUserResponse","userAnswers","originalAnswers","list","NO_SELECTED_ID","answerText","sort","JSON","stringify","Separator","margin","selectedKey","shownSelectedValue","loadReviewFont","async","loadFontsFromGoogle","fontFamily","fontWeight","reviewFontText","getImageResizeUrl","scaleBySmallerSide","getFonts","getColors","getLogo","getAlternativeLogo","isMainLogoShown","getTranslations","isResultsTrackingEnabled","resultsTracking","enabled","getXapiSettings","xApi","isScoringOfContentPagesAllowed","allowScoringOfContentPages","getPublishSettings","getAuthoringToolUrl","authoringToolUrl","isCrossDeviceSavingEnabled","saveProgressCrossDevice","isNpsEnabled","conductLearnerSatisfactionSurvey","isAccessLimited","accessLimitation","isAllowToSkipTrackingAndTracingEnabled","allowUserToSkipTrackingAndTracing","isTrackingEnabled","isLoginViaSocialMediaEnabled","loginViaSocialMedia","isScormMode","isScorm","isScorm2004Mode","isScorm2004","isPreviewMode","isPreview","isReviewMode","isReview","isPublishMode","getAuthServiceUrl","authServiceUrl","DEFAULT_AUTH_URL","getLearnServiceUrl","learnServiceUrl","DEFAULT_LEARN_URL","getAllowedUsers","allowedUsers","getSelectedLanguage","isAllowedDownloadCertificate","allowUsersToDownloadCertificates","isOverallMasteryScore","isOverall","getMasteryScoreValue","imageResizerQueryPattern","supportedBgSizes","contain","cover","initial","CONTENT_TYPES","DEFAULT_LANGUAGE_CODE","CUSTOM_LANGUAGE_CODE","IMAGE_DEFAULT_DOMAIN","maxCountTocNavigationElements","minCountTocNavigationElements","LTI_CALLBACK_URL_PARAMETER_NAME","FONT_WEIGHTS","SECONDARY_FONT_KEY","MEDIA_FONT_SIZES","heading1","MAXIMUM_VALUE","MULTIPLIER","heading2","heading3","heading4","paragraph","quote","BaseEventHandler","handlers","handler","eventEmitter","on","instance","off","ListCounter","ListCounterItem","lineHeight","NumericList","BottomLine","PopupWrapper","ariaModal","PopupContent","PopupOverlay","CloseBtnWrapper","CloseBtnIcon","CloseBtnText","medium","PopupContainer","containerElement","focusedElementBeforeDialogOpened","handleKeyDown","evt","disablePopupClosing","keyCode","closePopup","preventActions","popupContainer","document","getElementById","contains","activeElement","element","addEventListener","removeEventListener","enableClosePopupByTap","ComponentToRender","aria-label","getPopupSettings","LinkElement","Link","SECTIONS_PATH","restProps","preventDefault","onKeyPress","ArrowIcon","DroppableItemStyle","isMultipleList","isDragging","isPlaceholderVisible","DroppableListStyle","DroppableItemWrapper","isAreaEmpty","isDropDisabled","widthInvisible","ImageWrapper","isImageNotFound","DragDrop","customRefs","imageRefs","move","source","destination","droppableSource","droppableDestination","listsOfItems","result","Array","from","removed","droppableId","reorder","startIndex","endIndex","getItemStyle","draggableStyle","getList","listId","find","setDisableDroppableArea","reorderElementsPosition","reorderedItems","moveItem","moveElementsBetweenLists","onDragEnd","droppableWidth","onDragUpdate","setNumericListHeights","onDragStart","resultArr","draggableId","offsetWidth","setDraggableWidth","itemId","droppableWidthInvisible","numericListHeights","draggableList","slice","refsArray","listsOfItemsArr","nonSelected","shift","getDroppableElement","listItem","setRef","direction","listProvided","data-area-empty-text","innerRef","provided","snapshot","draggableProps","dragHandleProps","dangerouslySetInnerHTML","__html","TextInput","onChangeHandler","maxLength","fontFamilyWithFallback","fallback","mainFont","styledColors","fontStyles","isInverted","InvertedColor","styledFonts","fontStyle","textDecoration","textBackgroundColor","mediaFontSize","percentage","limitSize","bold","mainFontH1","smallFontRatio","mainFontH2","large","mainFontH3","mainFontH4","mainFontText","mainFontSmallText","secondaryFontText","normal","secondaryFontSmallText","highlighted","links","COURSE_STARTED","COURSE_FINISHED","COURSE_FINALIZED","COURSE_EVALUATED","COURSE_PROGRESSED","COURSE_ATTEMPT_STARTED","SECTION_PROGRESSED","INFORMATION_CONTENT_EXPERIENCED","APP_INITIALIZED","APP_NAVIGATED","RESET_QUESTION_PROGRESS","USER_LOGOUT","REVIEW_INITIALIZED","COMMENT_SENT","REVIEWER_AUTHORIZED","REVIEW_RESTORE_USER","r","userSelected","isTrue","compare","trim","questionContent","objectToArray","content","answerGroups","newAnswer","group","matchCase","toLowerCase","undefined","spots","spot","markers","correctMarkers","markIsInSpot","mark","inside","j","xi","yi","xj","yj","isMarkerInsideInSpot","k","getPopupVisibility","INFORMATION_CONTENT","SINGLE_CHOICE","MULTIPLE_CHOICE","STATEMENT_CHOICE","SINGLE_CHOICE_IMAGE","OPEN_QUESTION","RANKING_TEXT","SCENARIO","FILL_IN_THE_BLANK","DRAG_AND_DROP_TEXT","TEXT_MATCHING","HOTSPOT","loadFonts","customFontPlace","mappedFonts","mapFonts","webFontConfig","prepareWebFontConfig","keys","constructor","makeLoadFontRequest","presetFonts","mapPresetFont","templateFonts","family","place","variant","getTemplateFont","concat","samefont","variants","mapVariant","indexOf","addQueryStringParameter","resourceLoader","cacheBuster","places","config","families","fontData","placeData","mapFontName","Promise","resolve","baseConfig","active","inactive","WebFont","load","salt","join","fontVariants","fontLanguages","fontConfig","google","transitionProperty","transitionDuration","transitionFunction","transitionDelay","toTimeString","crossFade","animateFrom","Emmitery","events","eventConstants","getCourseTitle","getCourseIntroductions","introductions","getCourse","getCourseId","getTemplateId","templateId","getAttemptId","getPreviewQuestionId","getCourseStructure","createSelector","getSections","section","affectsProgress","getQuestions","isInformationContent","isSurvey","getQuestionsStructure","questionsSchema","isCourseAccessLimited","email","getEmail","isAnonymous","isCertificateDownloaded","getPassedAfterwords","passedAfterwords","getFailedAfterwords","failedAfterwords","isFinalized","HintWrapper","HintContainer","HintElementsContainer","HintButton","Hint","hintShowOnce","hintName","localStorage","setItem","getItem","showReviewHints","HINT_FOR_GENERAL_COMMENT","HINT_FOR_SPOT_COMMENT","closePopover","hintElements","sticky","getQuestionSection","getQuestionResponse","getAffectProgressQuestionsCount","filter","getCorrectlyAffectProgressAnsweredQuestionsCount","isQuestionAnswered","isQuestionAnsweredCorrectly","multipleChoiceSelectors","statementChoiceSelectors","openQuestionSelector","rankingTextSelector","scenarioSelector","fillInTheBlankSelector","dragAndDropTextSelector","textMatching","hotspot","informationContent","getAffectProgressQuestions","questionExists","SECTION_PATH","QUESTION_PATH","SIGNUP_PATH","LEARNING_OBJECTIVE_PATH","Color","g","b","hex","hex2rgba","white","rgba2rgb","toString","hexColor","alpha","shorthandRegex","replace","m","exec","parseInt","rgbBackground","rgbaColor","isLowerResolution","resolution","innerWidth","getCurrentUrl","protocol","host","getCurrentLocationHash","navigator","userAgent","hasQueryStringParameter","regex","separator","match","getValueFromUrl","decodeURIComponent","clearQueryString","currentHash","searchIndex","cleanHash","replaceState","closeWindow","close","getFilteredQueryParams","queryKey","parsedParams","search","params","lastIndex","getObjectParsedQueryString","filteredParams","removeQueryStringParam","paramName","getUser","getName","getAccount","account","shouldSaveCrossDevice","isAuthenticated","isMeaningfulString","isIntroduced","isAuthorized","getPassword","password","getAvatarLetter","getSection","getQuestionIds","getQuestionCount","getQuestionIndex","questionIds","questionSelectors","getAffectProgressSections","getAffectProgressSectionsCount","getSectionsPassedCount","getAffectProgressQuestionsCountInSection","getCorrectlyAffectProgressQuestionsCountInSection","getAffectCorrectlyAnsweredQuestionsCount","Math","ceil","getSectionScore","sectionExists","StorageInterface","constants","LocalStorage","progressKey","courseId","parse","removeItem","ExternalStorageAuth","courseTitle","courseLink","contentType","bearerToken","headers","Authorization","token","getTokenFromAuthService","requester","get","credentials","retryOptions","retries","getTokenResponse","status","json","responseData","getAuthToken","getHeaders","userInfoResponse","logout","console","error","post","shortTermAccess","query","nocache","_setAuthenticationData","returnUrl","PASSWORD_RESET_SENDING_FAILED","STATUS_OK","IdToUuid","UNKNOWN_ERROR","EMAIL_PASSWORD_COMBINATION_NOT_EXISTS","sessionStorage","SocialNetworks","authStorageUrl","socialNetwork","encodeURIComponent","ExternalStorage","_auth","_socialNetworks","getToken","responseProgress","jsonProgress","courseUrl","put","saveProgressResponse","exists","identify","userData","authorize","register","resetPassword","getAuthLink","sendSecretLink","ResponseMapperBase","mapResponse","isArray","String","DragAndDropTextResponseMapper","hasQuestionResponse","responseItem","e","itemIndex","findIndex","userAnswer","notSelectedItem","unshift","userAnswerIndexes","answerIndex","answerValues","selectedOptionIndex","answerOption","FillInTheBlankResponseMapper","answerItem","questionAnswer","isEmptyAnswer","itemAnswer","HotspotResponseMapper","InformationContentResponseMapper","ChoiceResponseMapperBase","_unMapFailedResponse","MultipleChoiceResponseMapper","OpenQuestionResponseMapper","RankingTextResponseMapper","questionAnswers","hasBeenSelected","ScenarioResponseMapper","SingleChoiceResponseMapper","SingleChoiceImageResponseMapper","StatementChoiceResponseMapper","option","TextMatchingResponseMapper","selectedOption","questionTypes","responseMappers","unMap","IdShortener","translator","shortId","fromUUID","toUUID","_mapId","convertToShort","bind","_mapItems","convertToOriginal","convert","idShortener","_map","ids","userResponse","convertedId","StatementChoice","DragAndDropText","FillInTheBlank","HotspotMapper","InformationContent","MultipleChoice","OpenQuestion","RankingText","Scenario","SingleChoice","SingleChoiceImage","TextMatching","questionType","defaultProgress","finished","storage","questionShortIds","questionsIndexToIdSchema","getProgress","isObject","_mapObjectAnswersToArray","progressIndex","responseMapper","saveProgress","removeProgress","_clearProgress","authorizeUser","registerUser","progressAnswers","_getProgressedQuestion","processedAnswer","_unMapProgress","_hasFullProgressStructure","idMapper","unMapResponse","_rewriteAnswerToShortenStructure","oldStructureResponse","entity","updateQuestionProgress","identifyUser","userExists","getSocialNetworkAuthLink","urlMapper","EventHandler","appInitialize","appNavigated","courseLaunched","courseProgressed","courseAttemptStarted","removeQuestionProgress","userAuthorized","ProgressStorage","eventHandler","use","getAnswers","restoreProgress","MEDIA_XSMALL","MEDIA_SMALL","MEDIA_MEDIUM","MEDIA_XLARGE","MEDIA_SMALL_FONT_RATIO","MEDIA_MOBILE","isLowResolution","createdBy","createdOn","Date","hasIntroductionContent","isCompleted","renameProperty","obj","currPropName","newPropName","modifiedObj","guid","uuidv4","guidWithHyphens","array","s","overwriteMerge","destinationArray","sourceArray","deepMerge","obj1","obj2","deepmerge","arrayMerge","deepExtend","property","hasInternalObjectsOrArrays","destinationObj","sourceObj","getItemPositionValues","deleteNumber","object","counter","sourceKey","shouldReplaceItem","normalizeFocus","Header1","h1","Header2","h2","Header3","h3","Header4","h4","Span","span","Paragraph","p","ellipsisMixin","components","refElement","getShortString","fontName","Wrapper","REVIEW_USER_EMAIL","REVIEW_USER_NAME","COMMENT_SENDING_FAILED","REVIEW_COMMENT_PROPERTIES","DEFAULT_TITLE","TITLE","INTRODUCTION","LEARNING_CONTENT","QUESTION","VOICE_OVER","CONTENT_ITEM","TITLE_OF_THE_SECTION","GENERAL","REVIEW_COMMENT_TYPES","COURSE","SECTION","defaultRetryOptions","retryDelay","retryOn","getRequestOptions","requestOptions","mode","queryString","_buildQueryString","method","_buildHeaders","fetchRetry","body","v","_headers","CACHE_EXPIRATION_DATE_IN_SECONDS","Pragma","Expires","POPUP_ID_CLOSE_COURSE","POPUP_ID_NPS_POPUP","POPUP_ID_CONTINUE_LATER","POPUP_ID_START_NEW_ATTEMPT","POPUP_ID_CONTINUE_LATER_IN_SCORM","matches","toUpperCase","str","countOfSymbols","eos","strLength","substr","getSizeString","sizeStr","toFixed","isMeaningful","isUUID","getBorderColor","circleRotate","keyframes","strokeRotate","strokeFix","strokeLeftGrow","strokeRightGrow","getGeneralLineStyle","lineStyle","getLineStyleStrokeRight","getLineStyleStrokeLeft","generalAnimationCircle","generalAnimation","generalAnimationStroke","generalAnimationRight","generalAnimationLeft","LoaderCircle","LoaderStroke","LoaderStrokeLeft","LoaderStrokeRight","ResourceLoader","expires","relativeUrl","getLocalResource","responseText","templateData","getState","prop","applyTemplateData","CheckIcon","CheckImageIcon","AnswerImage","checkMarkAnimate","ButtonWrapper","getChain","getPrevUrl","navigatedToUrl","currentUrl","emit","goToUrl","withNavigation","WrappedComponent","Navigation","getNextPageUrl","currentUrlIndex","checkHasPrevPage","navigateToPrevPage","navigateToUrl","navigateToNextPage","navigateToIndex","checkIsNextPageResults","combinedProps","shouldInitializeXapi","isReviewEnabled","isLtiInitialized","isVoiceOver","Reviewable","renderSpot","ReviewSpot","default","reviewMode","isGeneral","context","ProgressComponent","SectionContentWrapper","SectionTitle","SectionSubText","IconArrowRight","Footer","footer","SectionProgressStatusWrapper","SectionProgressStatusIconWrapper","SectionsList","SectionsListItem","isDummy","SectionsButton","CollapseWrapper","CollapseInnerWrapper","CollapseButton","ButtonText","IconClose","IconCircleObjective","LearningObjectiveText","CollapseContent","SectionLearningObjective","toggleExpanded","stopPropagation","getImageDimensions","reject","onload","onerror","getThumbnailUrl","BackgroundImage","bgSize","SectionImage","isUnmounted","imageDimensions","isImageLoading","originalImage","coincidences","substring","_getOriginalImageUrl","getBgProps","isBgColorTransparent","SectionContent","SectionsListComponent","navigateToQuestion","navigateToLearningObjective","dummyElements","getDummyElements","dummy","xss","contentsLoaded","promises","loadContent","all","loadAll","contentLoader","CONTENT_LOADING_FAILED","loadContents","getContents","hasClass","selector","findClosest","prototype","closest","msMatchesSelector","parentElement","getStyles","getListStylesForTextBlocks","divider","division","round","TableWrapper","finder","tables","querySelectorAll","table","wrapper","createElement","add","float","getAttribute","parentNode","insertBefore","appendChild","AudioWrapper","audioFrames","oldEditorAudioFrames","audioFrame","contentWindow","VideoWrapper","videoFrames","oldEditorVideoFrames","videoFrame","images","cssFloat","tagName","ContentWrapper","innerHTML","wrap","DocumentContentParser","contentHtml","container","getElementsByClassName","titleContainer","linkContainer","iframe","getElementsByTagName","dataset","documentId","innerText","documentType","documentSize","HeaderContainer","TitleContainer","IconWrapper","TextWrapper","ButtonContainer","IframeContainer","Iframe","data-type","HotspotOnImageContentParser","ImageSpotsWrapper","SpotArea","parseFloat","naturalWidth","naturalHeight","left","TooltipContent","InfoIcon","InfoButton","Spot","isDisabled","setDisabledState","outline","aria-describedby","HotspotOnImage","getImageNaturalSizes","imageNaturalWidth","imageNaturalHeight","spotData","renderSpots","ExpandableBlock","ExpandableBlockWrapper","ContentListWrapper","ExpandableContentWrapper","AnimateHeight","ExpandIconWrapper","centerAbsoluteElementY","ExpandIcon","ShowMore","expandBlock","handleOnKeyDown","childrenContents","ownProps","childrenElements","LinkCurationContentParser","customDescription","contentInnerWrapper","textWrapper","staticLink","imageWrapper","imgUrl","imgClasses","resourceUrl","LinkCurationContainer","LinkContentWrapper","CustomDescription","ImageContainer","LinkImage","Title","StaticLink","LinkIcon","StaticLinkWrapper","descriptionNode","createRef","useEffect","plainHtml","attribute","getAttributeFromHtml","renderContent","LoaderContainer","List","Item","supportedContentTypesSelectors","ContentList","createHTMLWrapper","querySelector","supportedContentType","filterContents","renderList","Contents","loadData","getCustomScrollbars","scrollColor","CourseInfoContainer","CourseInfoWrapper","ContentsContainer","LogoWrapper","ProgressSectionsWrapper","ProgressPerSection","ProgressMasteryScore","ProgressCaption","CourseInformation","refContainer","alternativeLogoUrl","courseProgress","isCourseProgress","sectionsPassedCount","affectProgressSectionsCount","forwardedRef","percentSuccess","countSectionsSuccess","countSections","renderCourseIntroduction","schema","Entity","processStrategy","parent","explanationBlock","answerList","explanationBlockId","explanationBlocks","block","define","transferPropBetweenObj","currentList","nameOfTargetProp","targetList","instructions","hints","correctFeedback","incorrectFeedback","hasContent","learningContents","questionInstructions","questionCorrectFeedbacks","questionIncorrectFeedbacks","explanation","hasCorrectFeedback","hasIncorrectFeedback","afterword","introduction","normalized","normalize","filterCourseData","courseSchema","entities","updateScore","scorePerCourse","correctQuestions","floor","sectionIsPassed","updateProgress","sectionsLoaded","questionsLoaded","scoreContentPages","sectionActions","courseActions","informationContentExperienced","markAsOpened","resetProgress","initialScore","cleanup","loadFeedback","contentActions","animateFeedback","isAnimating","authenticate","getUserFromUrl","signInData","signUpData","skipAuthentication","callbackUrl","submitResultToLti","subscribeLti","subscribe","isLTI","markCourseAsPassed","affectProgressSections","updateScorePerCourse","affectProgressQuestions","coursePassed","updateScorePerSection","totalScore","sum","every","masteryScorePerCourse","COURSE_DATA_LOADING_STARTED","courseMapper","questionActions","contentsActions","reason","onCourseLaunched","onCourseStarted","launch","userActions","userInfoProvider","getUsername","getAccountId","homePage","getAccountHomePage","progressProvider","restoreStatus","defaultLrsUrl","defaultLRSUrl","defaultNpsUrl","actor","username","subscribeLrs","subscribeNps","unsubscribeAll","finalized","startNewAttempt","clearPreviewQuestionId","certificateDownloaded","evaluate","backgroundColor","backgroundImage","repeat","bodyBackground","texture","headerBackground","header","headerBackgroundImage","Figure","svg","arialabel","viewBox","version","xmlns","filterUnits","fill","fillRule","d","cx","cy","transform","stroke","strokeOpacity","strokeWidth","ButtonsWrapper","CloseCourse","scormMode","navigationActions","EmailWrapper","DescriptionElement","DescriptionWrapper","TitleElement","ContinueLaterWrapper","ContinueLater","onSendSecretLink","emailSent","emailSentError","onCloseCourse","CloseCoursePopup","hideMessage","renderDescription","descriptionElements","split","random","renderSecretLink","tooltipType","tooltipMessageKey","article","DescriptionText","DescriptionIcon","DescriptionWithBackground","iconName","descriptionText","descriptionTextAppearance","descriptionChildren","ContinueLaterInScorm","closeCourse","courseAction","popupAction","popupActions","stdDeviation","TextLabel","ButtonVote","rating","ratingLabelKey","ButtonsListItem","ButtonsListWrapper","EvaluateCourse","npsScore","renderButtonsVote","fillOpacity","promoters","textAnchor","number","FeedbackContainer","EditableTextareaContainer","FeedbackStep","onSubmit","ThankForFeedback","fromDownloadCertificateButton","backTo","NpsPopup","steps","updateNpsScore","goToNextStep","updateTextFeedback","textFeedback","submitNpsFeedback","backToResult","openClosePopup","closeCourseInScormMode","currentStep","currentNameBlock","closePopupByTap","fadeInDown","IconContainer","ItemText","ActionListContainer","AvatarLetterElement","AvatarLetterContainer","ExpandableWrapper","ariaHidden","MenuContainer","closeCoursePopupSettings","npsPopupSettings","UserMenu","toggle","onLogout","onContinueLater","onContinueLaterInScorm","onSubmitResult","npsEnabled","clickAction","itemTextKey","iconSettings","additionalProps","avatarLetter","saveCrossDevice","courseIsFinalized","display","renderListItem","fullSizeAbsoluteBlock","LayoutContainer","BackgroundContainer","PageSidebarChild","PageContentChild","PageContainer","PageSidebarContainer","aside","PageContentContainer","BasicStylesSidebar","coverOverlay","BasicStyledSidebar","PageContent","Layout","popupExpanded","bgHeader","shouldRenderUserMenu","aria-hidden","Popup","isUserAuthenticated","trackingEnabled","SectionsPageContainer","SectionsPageSidebar","SectionsPageContent","SectionListContainer","Sections","clearPreviewQuestionIdAction","previewSectionId","Form","form","idElement","FormContentWrapper","AuthForm","fieldRefs","beforeSubmitValidation","returnValidationStatusElem","elem","valid","setValidationStatusElem","elemValid","setRefs","userEmail","userName","formId","resetPasswordSendMessage","isEmailPasswordCombinationNotExists","refEmail","noValidate","EmailInput","checkIsUserExist","NameInput","PasswordInput","ButtonSubmitSingUp","SignUp","variables","facebook","linkedin","SocialLoginContainer","TextSocial","SeparatorContainer","SocialLogin","ListItemElements","ariaCurrent","ListElement","LinksWrapper","nav","SwitcherForm","signUp","logIn","MobileFooterContainer","Note","LinkToPageContainer","LinkToPageText","MobileFooter","noteTextKey","navigationTextKey","navigateTo","navigationToTextKey","AuthPageSidebar","AuthPageContent","AuthContainer","AuthSection","CourseLogoSidebarWrapper","CourseLogoSidebar","FormLabel","AuthTextForm","AuthSocialLoginContainer","SwitcherFormContainer","SignupSection","SignupContainer","TextForm","FootNoteText","SignUpPage","courseAccessLimited","launchCourse","isUnknownError","urlToNavigate","loginViaSocialMediaEnabled","SignUpForm","CheckboxContainer","ButtonSubmit","ControlContainer","MessageText","MessageTextWrapper","LinkWrapper","LoginForm","onPasswordRestore","emailValid","resetStatuses","renderWithTooltip","aria-checked","actionElement","LoginSection","LoginContainer","SkipLinkContainer","LoginPage","onAuthorizationSkip","allowToSkipTrackingAndTracingEnabled","accessLimitationEnable","isAppLoadingFailed","isAppLoading","toggleTreeOfContentVisibility","adaptToResolution","isTocExpanded","isActive","ResultsIcon","isCollapsed","ResultsBlock","navigateToResults","collapsed","colored","CourseBackIcon","CourseTitleText","CourseBackButton","Header","PopoverContentWrapper","ClosePopoverIcon","QuestionsProgress","CongratsMessageWrapper","CongratsMessageTitle","NotPassedMessageWrapper","QuestionProgressText","ProgressPopover","renderPopoverContent","correctlyAffectProgressQuestionsCountInSection","affectProgressQuestionsCountInSection","affectCorrectlyAnsweredQuestionsCount","path","strokeLinecap","trail","correctQuestionsCount","totalQuestionsCount","nextState","right","bottom","ProgressPopoverWrapper","SectionItem","TitleIcon","QuestionList","ariaExpanded","SectionText","StatusText","Status","SectionTreeNode","toggleIsExpanded","aria-haspopup","QuestionIcon","TitleText","QuestionItem","fullColor","QuestionTreeNode","getTitleQuestion","renderQuestionIcon","LearningObjectiveItem","ItemTitle","LearningObjectiveTreeNode","ExpandedTocContainer","ProgressMasteryScoreWrapper","ExpandedTocSection","courseStructure","activeSectionId","activeQuestionId","isLearningObjectiveView","sectionIndex","ExpandedTocItems","questionIndex","ExpandedToc","isResultsActive","Fragment","scaleAnimation","NavigationItemIcon","ItemsLimiter","NavButton","Items","topShift","NavigationBlock","windowResizeHandler","throttle","windowHeight","innerHeight","setTocNavigationElements","countTocNavigationElements","isIndexInView","nextPage","totalItems","navigationElementsCount","updatePagingState","prevPage","range","postDelta","pre","getRange","hasPrevPage","hasNextPage","calculatePaging","activeItemIndex","limiterHeight","NavigationLearningItem","sectionTitle","getNavigationItemIcon","getContentIconProps","configs","getDefaultQuestionColor","getAnsweredQuestionColor","NavigationItem","iconProps","getQuestionIconProps","CollapsedTocContainer","mainBackground","SectionProgress","isNavigationExist","CollapsedToc","showProgressScore","activeQuestionIndex","isIndexView","pathToRegexp","isSectionsView","isSectionView","isResultsView","isQuestionView","isHomeView","isCourseOverviewView","TailIcon","Tail","TreeOfContent","navigate","isAppInLowResolution","tocProps","withRouter","getLocationParams","learningObjectiveParams","NotFoundPageSidebar","NotFoundPageContent","HomeButton","Description","withFallbackToNotFound","predicateForNotFound","toggleAnswerIsSelected","setSingleAnswerSelected","isSingleAnswer","QuestionContainer","QuestionContainerOverlay","statementAnswerIsSelected","SwitchBlock","SwitchContainer","aux","SwitchOption","ariaDisable","Option","ariaRole","DEFAULT_PROPS","MobileAnswerSeparator","AnswerText","CaptionMobileContainer","CaptionWrapper","Caption","AnswersList","CaptionContainer","AnswerListItem","Switch","trueText","falseText","aria-labelledby","openQuestionAnswerIsSelected","EditableContainer","onFocusOutTextArea","shuffle","temp","ctr","rankingAnswersAreSelected","elements","scenarioBranchtrackData","BranchtrackProvider","instances","messageProvider","eventOrigin","supportedMessageTypes","init","scene","choice","finish","success","isEmpty","subscribeMessageEvent","branchtrack","BranchtrackInstance","unsubscribeMessageEvent","messageEventHadler","origin","provider","messageDataType","details","project","branchtrackInstance","playlog","err","ScenarioIframeSection","ScenarioResults","refFrameScenario","instanceId","branchTrackEventHandler","getScoreBranchtrack","createInstance","initBranchtrack","setAttribute","resetInstace","destroyInstance","getEmbedHtml","fillInTheBlankAnswer","AnswerContentWrapper","AnswerContainer","wrappTables","el","parseSelect","attribs","dataId","answerValue","class","onSelectChange","domToReact","onInputFocusOut","Parser","getImage","noCache","getImageCheckUrl","imageName","getImageNameByUrl","imageFolderUrl","requestUrl","dragAndDropAnswersAreSelected","DragDropMobileWrapper","DragDropMobile","DragAndDropMobile","onSelectElement","droppableElement","originalDropspots","listsOfItemsMobile","getPositionDependingImageScale","originalListPosition","scale","setPositionDependingImageScale","changeImageState","imageLoader","isImageExists","imageNotFound","dragAndDropActions","matchingAnswersAreSelected","TextMatchingItem","TextMatchingItemKey","TextMatchingItemSelected","DropdownInputWrapper","DropdownInputContainer","markItemInList","newList","isShuffled","shuffleAnswersKey","activeElem","blur","inputData","onSelectMatching","mapAnswersToOptions","isAnyValueSelected","placeholders","plus","renderDropdownInput","hotspotQuestionAnswer","CloseIcon","SpotWrapper","Hotspot","getCoordinates","rect","getBoundingClientRect","clientX","clientY","addMarker","marker","newMarkers","removeMarker","Question","Statement","renderQuestion","PageCounter","total","createContainer","typeName","propTypes","PropTypes","isRequired","Body","ContentContainer","ContentBlock","contentRef","getChildrenObject","child","childrenObj","validationChildren","typeNames","toArray","Feedback","refFeedback","onShown","animate","onHidden","isOpenQuestionType","feedbackContentItems","getTitle","delay","isGeneralFeedback","questionResponse","currentAnswer","visible","ButtonComponent","ButtonSeparator","SeparatorComponent","ContainerHint","aria-expanded","IframeElement","allow","audioid","VoiceOver","iframeNode","DOMParser","parseFromString","firstChild","attrName","attributes","getAttributesNodeElement","iframeAttr","nodeValue","getIframeSrcWithStyleVariable","renderIframeElement","ActionButtonsContainer","isHidden","NavButtonsBlock","SurveyHint","ActionBlocks","hidePopover","submit","isJustSubmitted","canGoNext","canGoToNextQuestion","getNextNavigationText","isLastPageInSection","isNextPageResults","tryAgain","feedbackAnimated","slideInDown","renderNavButtonsBlock","questionCountInSection","goToNextPage","canTryAgainQuestion","QuestionTitleWrapper","QuestionTitle","tabindex","QuestionPage","setTitlePage","feedbackContentList","logoShown","renderInstructions","renderHints","renderFeedback","renderVoiceOver","voiceOver","PageTitle","LearningObjectiveSectionTitle","LearningObjectiveWrapper","LearningObjectiveContent","LearningObjectiveTitle","LearningObjectiveResult","LearningObjectiveIcon","LearningObjective","affectedProgressCount","affectedProgressCorrectlyAnsweredQuestionsCount","sectionSelectors","StartNewAttempt","restoreAttemptStarted","setRestoreAttemptStarted","newAttempt","downloadUrl","fileName","fetch","catch","er","blob","isChrome","isFirefox","download","reader","FileReader","out","Blob","write","readAsDataURL","learnStorageUrl","selectedLanguage","getNewLogoUrl","getCertificateUrl","fileLoader","AfterwordContainer","courseSelectors","passedAfterwordsIds","failedAfterwordsIds","afterWordsIds","StyledText","SeparatorElement","WidthLimiterContainer","ResultsPage","continueCourse","openStartNewAttemptPopup","submitResults","openNpsPopup","downloadCertificate","isCertificateLoading","certificateLoader","showCertificateLoadedError","npsPopupWasOpened","certificateButton","courseHasBeenContinued","affectProgressQuestionsCount","correctlyAnsweredQuestionsCount","isLti","correctSectionsCount","totalSectionsCount","renderDownloadCertificateButton","renderContinueCourseButton","renderCloseCourseButton","renderStartNewAttemptButton","renderSubmitResultsButton","settingSelectors","Blockout","CourseOverviewSidebar","CourseOverviewContent","CourseOverviewRouteTransition","unlistenHistory","onEnter","isAppearing","urlsChain","TweenMax","fromTo","clearProps","onExit","listen","listenLocation","TransitionGroup","Transition","CourseOverview","exact","NotFound","LoginPageSidebar","LoginPageContent","IconLimitAccess","TextLimitAccess","ContainerLimitAccess","ButtonLimitAccess","LimitAccessPage","backToLoginAction","warn","info","log","getLocalJsonResource","languageCode","loadTranslation","defaultTranslations","customTranslations","code","processSettings","themeSettings","preset","presets","defaultThemeSettings","processThemeSettings","templateSettings","defaultTemplateSettings","processTemplateSettings","configurationReader","readManifest","readCustomization","customization","readPublishSettings","readThemeSettings","templateThemeSettings","readSettings","logger","editorWindow","locationProtocol","targetOriginUrl","postMessage","supportsNativeReview","ltiCallbackUrl","modulesActions","resolutionChanged","tocActions","withScrollOnRedirect","scrollTo","useMobileTransition","enter","windowWidth","getBodyColor","getNodeByDataAttribute","getNodes","sidebar","sidebarChild","contentChild","useDesktopTransitionForNextPage","nodes","timeLine","TimelineMax","staggerTo","animateToHome","animateToCourseOverview","useDesktopTransition","removeAttribute","zIndex","staggerFrom","eventCallback","n","RouteContainer","RouteTransition","getTransitionKey","MOBILE_TRANSITION_DURATION","Shell","hasError","errorInfo","renderRoute","userAccessIsLimited","forbidRoute","NoAccess","Login","NotFoundPage","commonCSS","animationsCSS","BaseStyles","createGlobalStyle","resetCss","commonCss","animationsCss","ReactDOM","HashRouter","sizes","args","getQuestionAbsoluteUrl","getSectionAbsoluteUrl","getSectionUrl"],"mappings":"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","file":"static/js/main.382a62d6.chunk.js","sourcesContent":["export type AppState = {\n    isLoading: boolean;\n    isLoaded: boolean;\n    isLoadingFailed: boolean;\n    isLowResolution: boolean;\n}\n\nexport enum ActionTypes {\n    APP_LOADED = 'APP_LOADED',\n    APP_LOADING_FAILED = 'APP_LOADING_FAILED',\n    APP_RESOLUTION_CHANGED = 'APP_RESOLUTION_CHANGED'\n}\n\ntype AppLoadedAction = {\n    type: ActionTypes.APP_LOADED;\n    payload?: { [key: string]: any }\n}\n\ntype AppResolutionChangedAction = {\n    type: ActionTypes.APP_RESOLUTION_CHANGED;\n    payload: {\n        isLowResolution: boolean\n    }\n}\n\ntype AppLoadingFailed = {\n    type: ActionTypes.APP_LOADING_FAILED;\n    reason: any;\n    payload?: { [key: string]: any }\n}\n\nexport type AppActionTypes =  AppLoadedAction | AppResolutionChangedAction | AppLoadingFailed;\n","export interface UserState {\n    account: any | null, //TODO: change type any\n    email: string,\n    name: string,\n    password: string | null,\n    shortTermAccess: boolean,\n    authorizationSkipped: boolean\n}\n\nexport enum ActionTypes {\n    USER_AUTHENTICATED = 'USER_AUTHENTICATED',\n    USER_UNAUTHENTICATED = 'USER_UNAUTHENTICATED',\n    USER_AUTHENTICATION_SKIPPED = 'USER_AUTHENTICATION_SKIPPED'\n}\ntype UserAuthenticated = {\n    type: ActionTypes.USER_AUTHENTICATED,\n    payload: any\n}\n\ntype UserUnauthenticated = {\n    type: ActionTypes.USER_UNAUTHENTICATED\n}\n\ntype UserUserAuthenticationSkipped = {\n    type: ActionTypes.USER_AUTHENTICATION_SKIPPED\n}\nexport type UserActionTypes = UserAuthenticated | UserUnauthenticated | UserUserAuthenticationSkipped;\n","import styled, { css } from 'styled-components';\nimport { transition } from 'components/mixins/interactivity';\n\ntype ContentProps = {\n  defaultOpacity: number;\n  opacityDuration: string;\n  ref: any\n}\nexport const Content = styled.div`\n  ${(props: ContentProps) =>\n    css`\n      opacity: ${props.defaultOpacity};\n      ${transition('opacity, height', props.opacityDuration)};\n    `};\n`;\n\ntype ContainerProps = {\n  duration: number;\n  isVisible: boolean;\n  ref: any;\n}\nexport const Container = styled.div`\n  height: 0px;\n  overflow: hidden;\n  ${(props: ContainerProps) =>\n    css`\n      ${transition('height, visibility', props.duration)};\n    `};\n  visibility: ${props => (props.isVisible ? 'visible' : 'hidden')};\n`;\n","import * as React from 'react';\nimport scrollIntoView from 'scroll-into-view';\nimport { Container, Content } from './Collapse.styled';\n\nexport type CollapseProps = {\n  isExpanded: boolean,\n  scrollIntoView: boolean,\n  duration: number,\n  opacityDuration: string,\n  delayOpacityTransition?: boolean,\n  children: React.ReactNode,\n  onExpanded?(): void,\n  onCollapsed?(): void\n  animateAppear?: boolean,\n}\n\nexport class Collapse extends React.PureComponent<CollapseProps, {}> {\n  isExpanded: boolean;\n  containerNode: any;\n  contentNode: any;\n  timeout: any;\n  raf: any;\n\n  constructor(props: CollapseProps) {\n    super(props);\n    this.isExpanded = false;\n    this.containerNode = React.createRef();\n    this.contentNode = React.createRef();\n  }\n\n  static defaultProps = {\n    isExpanded: true,\n    animateAppear: true,\n    scrollIntoView: false,\n    duration: 300,\n    opacityDuration: 100,\n    delayOpacityTransition: false\n  }\n\n  componentDidMount() {\n    if (this.props.animateAppear) {\n      this.updateWithAnimation();\n    } else {\n      this.update();\n    }\n    this.isExpanded = this.props.isExpanded;\n  }\n\n  componentDidUpdate() {\n    this.updateWithAnimation();\n    this.isExpanded = this.props.isExpanded;\n  }\n\n  componentWillUnmount() {\n    this.clear();\n  }\n\n  render() {\n    const { isExpanded, children, opacityDuration, duration } = this.props;\n    return (\n      <Container\n        isVisible={isExpanded}\n        duration={duration}\n        ref={this.containerNode}\n      >\n        {\n          <Content\n            defaultOpacity={this.getDefaultOpacity()}\n            opacityDuration={opacityDuration}\n            ref={this.contentNode}\n          >\n            {children}\n          </Content>\n        }\n      </Container>\n    );\n  }\n\n  update() {\n    const { isExpanded } = this.props;\n    this.setHeight(isExpanded ? 'auto' : 0);\n    this.setOpacity(isExpanded ? 1 : 0);\n  }\n\n  updateWithAnimation() {\n    const { isExpanded, duration, delayOpacityTransition } = this.props;\n    if (this.isExpanded === isExpanded) {\n      return;\n    }\n\n    this.clear();\n    if (!isExpanded) {\n      this.fadeOut();\n      this.collapse();\n      this.call(this.props.onCollapsed);\n      return;\n    }\n\n    this.expand();\n    if (this.props.scrollIntoView) {\n      scrollIntoView(this.containerNode, { time: this.props.duration, align: { top: 0 } });\n    }\n\n    if (!delayOpacityTransition) {\n      this.fadeIn();\n    }\n    this.timeout = setTimeout(() => {\n      this.fadeIn();\n      this.setHeight('auto');\n      this.call(this.props.onExpanded);\n    }, duration);\n  }\n\n  call(func: any) {\n    if (func) {\n      func();\n    }\n  }\n\n  clear() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n      this.timeout = null;\n    }\n    if (this.raf) {\n      window.cancelAnimationFrame(this.raf);\n      this.raf = null;\n    }\n  }\n\n  expand() {\n    this.animateHeight(true);\n  }\n\n  collapse() {\n    this.animateHeight(false);\n  }\n\n  animateHeight(isExpanded: boolean) {\n    if (this.raf) {\n      window.cancelAnimationFrame(this.raf);\n    }\n\n    if (!isExpanded && this.isHeightAuto()) {\n      this.setHeight(this.getContentHeight());\n    }\n\n    this.raf = window.requestAnimationFrame(() => {\n      const height = isExpanded ? this.getContentHeight() : 0;\n      this.raf = window.requestAnimationFrame(() => {\n        this.raf = window.requestAnimationFrame(() => {\n          this.setHeight(height);\n          this.raf = null;\n        });\n      });\n    });\n  }\n\n  fadeIn() {\n    this.setOpacity(1);\n  }\n\n  fadeOut() {\n    this.setOpacity(this.getDefaultOpacity());\n  }\n\n  getContentHeight() {\n    return this.contentNode.current && this.contentNode.current.offsetHeight;\n  }\n\n  setHeight(height: number | string) {\n    if (this.containerNode.current) {\n      this.containerNode.current.style.height = typeof height === 'string' ? height : `${height}px`;\n    }\n  }\n\n  isHeightAuto() {\n    return this.containerNode.current && this.containerNode.current.style.height === 'auto';\n  }\n\n  setOpacity(opacity: number) {\n    if (this.contentNode.current) {\n      this.contentNode.current.style.opacity = opacity;\n    }\n  }\n\n  getDefaultOpacity() {\n    return this.props.delayOpacityTransition ? 0.3 : 0;\n  }\n}\n\nexport default Collapse;\n","import * as React from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nexport enum AnimationTypes {\n  slideInDown = 'slideInDown',\n  fade = 'fade',\n  fadeInDown = 'fadeInDown'\n};\n\ninterface Types {\n  [AnimationTypes.slideInDown]: string;\n  [AnimationTypes.fade]: string;\n  [AnimationTypes.fadeInDown]: string;\n}\n\ntype CssAnimationProps = {\n  isVisible?: boolean;\n  type: keyof Types;\n  animateAppear?: boolean;\n  animateLeave?: boolean;\n  timeout?: number;\n  children: any;\n};\n\nclass CssAnimation extends React.Component<CssAnimationProps, {}> {\n  static AnimationType = AnimationTypes\n  static defaultProps = {\n    timeout: 300,\n    isVisible: true,\n    animateAppear: true,\n    animateLeave: true\n  }\n\n  render() {\n    const { isVisible, animateAppear, animateLeave, children, type, timeout = 0 } = this.props;\n\n    return (\n      <CSSTransition\n        in={isVisible}\n        appear={animateAppear}\n        exit={animateLeave}\n        classNames={type}\n        timeout={timeout}\n        unmountOnExit\n      >\n        {children}\n      </CSSTransition>\n    );\n  }\n}\n\nexport default CssAnimation;\n","import { PureComponent } from 'react';\n\ntype DelayProps = {\n  children?: any;\n  wait?: number;\n  callback?(): void;\n};\n\ntype DelayState = {\n  isWaiting: boolean;\n}\nexport class Delay extends PureComponent<DelayProps, DelayState> {\n  timer: any;\n  constructor(props: DelayProps) {\n    super(props);\n    this.state = { isWaiting: true };\n    this.timer = () => {};\n  }\n\n  static defaultProps = {\n    wait: 250\n  };\n\n  componentDidMount = () => {\n    this.timer = setTimeout(() => {\n      this.setState({\n        isWaiting: false\n      });\n      if (this.props.callback) {\n        this.props.callback();\n      }\n    }, this.props.wait);\n  };\n\n  componentWillUnmount = () => {\n    clearTimeout(this.timer);\n  };\n\n  render() {\n    return this.state.isWaiting ? null : this.props.children;\n  }\n}\n\nexport default Delay;\n","import styled from 'styled-components';\nimport ReactContentLoader from 'react-content-loader';\n\nexport const Container = styled.div`\n  max-width: 400px;\n  width: 100%;\n`;\n\nexport const ContentLoader = styled(ReactContentLoader)`\n  display: flex;\n  opacity: 0.3;\n`;\n","import * as React from 'react';\nimport { withTheme } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { Container, ContentLoader } from './Loader.styled';\n\ntype LoaderProps = {\n  height?: number;\n  width?: number;\n  speed?: number;\n  theme: { [key: string]: any };\n};\n\nexport const Loader = (props: LoaderProps) => {\n  const { height = 8, width = 400, speed = 2 } = props;\n  const space = 16;\n  return (\n    <Container>\n      <ContentLoader\n        height={height * 2 + space}\n        width={width}\n        speed={speed}\n        primaryColor={transparentize(props.theme.colors.textColor, 0.08, { solidColor: true })}\n        secondaryColor={transparentize(props.theme.colors.textColor, 0.1, { solidColor: true })}\n      >\n        <rect x=\"0\" y=\"0\" rx=\"3\" ry=\"3\" width={width / 2 - 10} height={height} />\n        <rect x=\"0\" y={height + space} rx=\"3\" ry=\"3\" width={width} height={height} />\n      </ContentLoader>\n    </Container>\n  );\n};\n\nexport default withTheme(Loader);\n","import React, { Component } from 'react';\nimport { SIZES } from 'constants/components';\nimport CircleLoader from 'components/common/CircleLoader';\nimport {\n  ButtonElement,\n  TextElement,\n  CheckIcon,\n  CheckImageIcon,\n  ButtonWrapper,\n  AnswerImage\n} from './SwitchButton.styled';\n\ninterface Sizes {\n  [SIZES.SMALL]: string;\n  [SIZES.MEDIUM]: string;\n}\n\ntype SwitchButtonProps = {\n  multiple: boolean;\n  selected: boolean;\n  type?: string;\n  text: string;\n  imageUrl?: string;\n  onClick(e?: any): void;\n  size: keyof Sizes;\n  onKeyDown(e?: any): void;\n  ariaDisabled?: boolean;\n  altAnswerImage?: string;\n  tabIndex: number;\n};\n\ntype SwitchButtonState = {\n  isImageLoaded: boolean;\n}\n\nexport class SwitchButton extends Component<SwitchButtonProps, SwitchButtonState> {\n  constructor(props: SwitchButtonProps) {\n    super(props);\n    this.state = { isImageLoaded: false };\n  }\n  static defaultProps = {\n    size: SIZES.MEDIUM\n  };\n\n  handleImageLoaded = () => {\n    this.setState({ isImageLoaded: true });\n  };\n\n  render() {\n    const {\n      onClick,\n      text,\n      selected,\n      multiple,\n      imageUrl,\n      onKeyDown,\n      ariaDisabled = false,\n      altAnswerImage,\n      tabIndex,\n      size\n    } = this.props;\n    const { isImageLoaded } = this.state;\n    return (\n      <ButtonWrapper\n        selected={selected}\n        imageUrl={imageUrl}\n        onClick={onClick}\n        onKeyDown={onKeyDown}\n        ariaDisabled={ariaDisabled}\n        roleValue={multiple ? 'checkbox' : 'radio'}\n        ariaChecked={selected}\n        tabIndex={tabIndex}\n      >\n        {imageUrl && !isImageLoaded && <CircleLoader />}\n        {imageUrl && (\n          <AnswerImage\n            alt={altAnswerImage}\n            src={`${imageUrl}?height=260&amp;width=260&amp;scaleBySmallerSide=true`}\n            onLoad={() => this.handleImageLoaded()}\n          />\n        )}\n        <ButtonElement\n          size={size}\n          imageUrl={imageUrl}\n          multiple={multiple}\n          selected={selected}\n          className=\"show-on-hover\"\n        >\n          <CheckIcon size={9} name=\"ok\" />\n          {imageUrl && <CheckImageIcon size={60} name=\"check-mark\" />}\n        </ButtonElement>\n        {text && (\n          <TextElement appearance=\"p\" selected={selected}>\n            {text}\n          </TextElement>\n        )}\n      </ButtonWrapper>\n    );\n  }\n}\n\nexport default SwitchButton;\n","import styled, { css } from 'styled-components';\nimport Icon from 'components/common/Icon';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport { MEDIA_TABLET } from 'constants/screenResolutions';\nimport { TOC } from 'constants/components';\nimport buttonDefaultStyle from 'components/mixins/normalize';\n\ntype ListItemsBlockProps = {\n  isImageQuestion: boolean;\n  isTreeOfContentExpanded: boolean\n}\nexport const ListItemsBlock = styled.ul<ListItemsBlockProps>`\n  width: 100%;\n\n  ${(props) =>\n    props.isImageQuestion\n      ? css`\n          display: flex;\n          flex-wrap: wrap;\n\n          ${media.small`\n            justify-content: space-around;\n          `};\n        `\n      : css``};\n`;\n\n\ntype ListItemProps = {\n  selected: boolean;\n  key: number;\n  isImageQuestion: boolean;\n  isTreeOfContentExpanded: boolean;\n}\nexport const ListItem = styled.li<ListItemProps>`\n  display: flex;\n  align-items: center;\n  min-height: 50px;\n  transition: background-color 0.2s linear;\n  cursor: pointer;\n  position: relative;\n\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.textColor, 0.06)};\n  }\n\n  ${(props) =>\n    props.isImageQuestion &&\n    css`\n          width: 260px;\n          height: 260px;\n          background: #f1f1f1;\n          margin-top: 10px;\n          margin-left: 50px;\n          border: solid 2px #fff;\n          border-radius: 4px;\n          overflow: hidden;\n\n          ${\n      props.selected\n        ? css`\n                  border: solid 2px ${props.theme.colors.mainColor};\n                `\n        : css``\n      } &:hover {\n            .show-on-hover {\n              opacity: 0.75;\n            }\n\n            .zoom-button {\n              opacity: 0.5;\n            }\n          }\n          ${media.xlarge`\n            width: 224px;\n            height: 224px;\n            margin-left: 38px;\n          `}\n\n          @media (min-width: ${MEDIA_TABLET +\n      (props.isTreeOfContentExpanded ? TOC.EXPANDED_WIDTH : 0)}px) {\n            &:nth-child(3n + 1) {\n              margin-left: 0;\n            }\n          }\n\n          @media (max-width: ${MEDIA_TABLET +\n      (props.isTreeOfContentExpanded ? TOC.EXPANDED_WIDTH : 0)}px) {\n            width: 260px;\n            height: 260px;\n            margin-left: 40px;\n\n            &:nth-child(2n + 1) {\n              margin-left: 0;\n            }\n          }\n\n          ${media.small`\n            margin-left: 0;\n            margin-bottom: 30px;\n          `};\n        `};\n`;\n\nexport const ZoomIconBg = styled(Icon)`\ncolor: #271100;\n`;\n\nexport const ZoomIcon = styled(Icon)`\ncolor: #d8d8d8;\nposition: absolute;\ntop: 0;\nleft: 0;\n`;\n\ntype ZoomIconButton = {\n  className: string;\n  ariaLabel: string;\n  tabIndex: number;\n  isShown: boolean;\n}\nexport const ZoomIconButton = styled.button.attrs((props: ZoomIconButton) => ({\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel,\n  'data-test': 'zoom-button'\n}))`\n${ buttonDefaultStyle};\nbackground: none;\nborder: 0;\ndisplay: none;\npadding: 0;\nposition: absolute;\nright: 5px;\nbottom: 5px;\nopacity: 0;\ntransition: 0.3s;\n\n  &: hover,\n  &: focus {\n  opacity: 0.8!important;\n}\n\n  &: focus {\n  outline: none;\n}\n\n${\n  media.tablet`\n    opacity: 0.5;\n  `};\n\n${\n  (props: ZoomIconButton) =>\n    props.isShown\n      ? css`\n          & {\n            display: block;\n          }\n        `\n      : css``\n  };\n`;\n","import styled, { css } from 'styled-components';\n\nexport const ImageItem = styled.figure`\n  height: 100%;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  padding: 30px;\n`;\n\ntype ImageProps = {\n  alt: string;\n  isImageLoaded: boolean;\n}\nexport const Image = styled.img.attrs((props: ImageProps) => ({\n  alt: props.alt\n}))<ImageProps>`\n  max-width: 100%;\n  max-height: 100%;\n  display: block;\n  z-index: 1;\n\n  ${props =>\n    props.isImageLoaded\n      ? css`\n          & {\n            display: block;\n          }\n        `\n      : css`\n          display: none;\n        `};\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport CircleLoader from 'components/common/CircleLoader';\nimport { localize } from 'core/localization';\nimport { ImageItem, Image } from './PreviewGallery.styled';\n\ntype PreviewGalleryPopupProps = {\n  popupSettings: { [key: string]: any };\n};\n\ntype PreviewGalleryPopupState = {\n  isImageLoaded: boolean\n}\n\nexport class PreviewGalleryPopup extends React.Component<PreviewGalleryPopupProps, PreviewGalleryPopupState> {\n  constructor(props: PreviewGalleryPopupProps) {\n    super(props);\n    this.state = {\n      isImageLoaded: false\n    };\n  }\n\n  handleImageLoaded = () => {\n    this.setState({ isImageLoaded: true });\n  };\n\n  render() {\n    const { imageUrls } = this.props.popupSettings;\n    const { isImageLoaded } = this.state;\n    return (\n      <>\n        {imageUrls.map((image: any, index: any) => (\n          <ImageItem key={index}>\n            {!isImageLoaded && <CircleLoader iconSize={48} />}\n            <Image\n              src={image}\n              alt={localize('[alt answer image]')}\n              onLoad={() => this.handleImageLoaded()}\n              isImageLoaded={isImageLoaded}\n            />\n          </ImageItem>\n        ))}\n      </>\n    );\n  }\n}\n\nexport default connect()(PreviewGalleryPopup);\n","import * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport SwitchButton from 'components/common/SwitchButton';\nimport { getTreeOfContentVisibility } from 'store/treeOfContent/selectors';\nimport * as actions from 'store/popup/actions';\nimport { localize } from 'core/localization';\nimport { POPUP_ID_IMAGE_PREVIEW } from 'constants/popups';\nimport {\n  ListItemsBlock,\n  ListItem,\n  ZoomIconButton,\n  ZoomIconBg,\n  ZoomIcon\n} from './MultipleChoiceItems.styled';\nimport PreviewGallery from '../../popups/previewGallery/PreviewGallery';\nimport { RootAppState } from 'store/types';\n\nexport type MultipleChoiceItemsProps = {\n  items: any[],\n  id: string,\n  isMultiple: boolean,\n  imageQuestion: boolean,\n  selectItem(id: string, itemId?: string, isMultiple?: boolean): void,\n  actions: {[key: string]: any},\n  isTreeOfContentExpanded: boolean,\n  ariaDisabled: boolean,\n  tabIndex: number\n}\n\nexport class MultipleChoiceItems extends React.Component<MultipleChoiceItemsProps, {}> {\n  state = {\n    items: this.props.items,\n    isOpened: false,\n    imageUrl: []\n  };\n  static defaultProps = {\n    imageQuestion: false,\n    ariaDisabled: false\n  }\n\n  selectItem = (item: any) => {\n    const { id, isMultiple, selectItem } = this.props;\n    const { items } = this.state;\n\n    if (isMultiple) {\n      items.forEach(a => {\n        if (item.id === a.id) {\n          a.selected = !a.selected;\n        }\n      });\n    } else {\n      items.forEach(a => {\n        if (item.id === a.id) {\n          a.selected = true;\n        } else {\n          a.selected = false;\n        }\n      });\n    }\n    if (typeof selectItem === 'function') {\n      selectItem(id, item.id, isMultiple);\n    }\n    this.setState({\n      items\n    });\n  };\n\n  static getDerivedStateFromProps(nextProps: MultipleChoiceItemsProps, prevState: MultipleChoiceItemsProps) {\n    if (prevState.id !== nextProps.id && prevState.items !== nextProps.items) {\n      return {\n        items: nextProps.items\n      };\n    }\n    return null;\n  }\n\n  showPopup = (imageUrl: string) => {\n    this.props.actions.openPopup({\n      popupId: POPUP_ID_IMAGE_PREVIEW,\n      popupAriaLabelKey: '[aria label gallery popup]',\n      component: PreviewGallery,\n      imageUrls: [imageUrl],\n      disableBottomLine: true\n    });\n  };\n\n  render() {\n    const {\n      isMultiple,\n      imageQuestion,\n      isTreeOfContentExpanded,\n      ariaDisabled,\n      tabIndex\n    } = this.props;\n    const { items } = this.state;\n    return (\n      <ListItemsBlock\n        isImageQuestion={imageQuestion}\n        isTreeOfContentExpanded={isTreeOfContentExpanded}\n      >\n        {\n          items.map((item, index) => (\n            <ListItem\n              selected={item.selected}\n              key={index}\n              isImageQuestion={imageQuestion}\n              isTreeOfContentExpanded={isTreeOfContentExpanded}\n            >\n              <SwitchButton\n                multiple={isMultiple}\n                selected={item.selected}\n                text={item.text}\n                imageUrl={item.image}\n                ariaDisabled={ariaDisabled}\n                altAnswerImage={`${localize('[alt answer image]')} ${++index}`}\n                tabIndex={tabIndex}\n                onClick={() => {\n                  if (!ariaDisabled) {\n                    this.selectItem(item);\n                  }\n                }\n                }\n                onKeyDown={(event: any) => {\n                  if ((event.key === ` ` || event.key === 'Enter') && !ariaDisabled) {\n                    this.selectItem(item);\n                  }\n                }}\n              />\n              < ZoomIconButton\n                className=\"zoom-button\"\n                ariaLabel={localize('[aria label zoom button]')}\n                onClick={() => this.showPopup(item.image)}\n                tabIndex={1}\n                isShown={!!item.image}\n              >\n                <ZoomIconBg size={41} name=\"zoom-bg\" />\n                <ZoomIcon size={41} name=\"zoom\" />\n              </ZoomIconButton>\n            </ListItem>\n          ))}\n      </ListItemsBlock>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    isTreeOfContentExpanded: getTreeOfContentVisibility(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(actions, dispatch) };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MultipleChoiceItems);\n","import styled from 'styled-components';\n\ntype ProgressContainerProps = {\n  height: number;\n}\nexport const ProgressContainer = styled.div<ProgressContainerProps>`\n  position: relative;\n  width: 100%;\n  height: ${props => (props.height ? props.height : 2)}px;\n`;\n\ntype ProgressProps = {\n  progress: number;\n}\nexport const Progress = styled.div<ProgressProps>`\n  height: 100%;\n  width: ${props => (props.progress ? props.progress : 0)}%;\n  background-color: ${props => props.theme.colors.correctColor};\n  border-radius: inherit;\n  transition: width 0.2s;\n`;\n","import React from 'react';\nimport { ProgressContainer, Progress } from './ProgressBar.styled';\n\nexport const MAX_PROGRESS = 100;\n\ntype ProgressBarProps = {\n  height?: number;\n  progress?: number;\n  className?: string;\n  children?: any;\n};\n\nexport const ProgressBar = ({ height = 2, progress = 0, className=\"\", children }: ProgressBarProps) => (\n  <ProgressContainer className={className} height={height}>\n    <Progress progress={progress > MAX_PROGRESS ? MAX_PROGRESS : progress} />\n    {children}\n  </ProgressContainer>\n);\n\n\nexport default ProgressBar;\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\n\ntype StatusIconProps = {\n  passedMark: any;\n  progress: any;\n}\nexport const StatusIcon = styled.div<StatusIconProps>`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  bottom: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 16px;\n  height: 16px;\n  background: ${props => props.theme.colors.correctColor};\n  border-radius: 50%;\n  visibility: hidden;\n  opacity: 0;\n  transform: translate(-50%, -50%) scale(0);\n  ${props =>\n    props.passedMark <= props.progress &&\n    css`\n      visibility: visible;\n      opacity: 1;\n      transform: translate(-50%, -50%) scale(1);\n    `}\n`;\n\nexport const ProgressWrapper = styled.div`\n  padding: 10px 0 8px;\n  ${StatusIcon} {\n    transition: all 0.3s;\n  }\n  &:hover ${StatusIcon} {\n    visibility: visible;\n    opacity: 1;\n    transform: translate(-50%, -50%) scale(1);\n  }\n`;\ntype ProgressBarMarkProps = {\n  top: number;\n  passedMark: any;\n  height: any;\n  styles: any;\n}\nexport const ProgressBarMark = styled.div<ProgressBarMarkProps>`\n  position: absolute;\n  top: ${props => (props.top ? props.top : 0)}px;\n  left: ${props => (props.passedMark ? props.passedMark : 0)}%;\n  height: ${props => (props.height ? props.height : 2)}px;\n  width: 2px;\n  border-radius: 1px;\n  background-color: ${props =>\n    props.styles\n      ? transparentize(props.theme.colors[props.styles.color], props.styles.opacity)\n      : transparentize(props.theme.colors.coverBgOverlayTextColor, 0.5)};\n`;\n","import React, { useState } from 'react';\nimport { localize } from 'core/localization';\nimport { Icon, ProgressBar, Tooltip } from 'components/common';\nimport { ProgressWrapper, ProgressBarMark, StatusIcon } from './ProgressResult.styled';\n\ntype ProgressResultProps = {\n  height?: number;\n  progress: number;\n  className?: string;\n  passedMark: number;\n  passedMarkStyles?: { [key: string]: any };\n  forwardedRef?: any;\n};\nconst ProgressResult = ({ height = 2, progress = 0, className=\"\", passedMark, passedMarkStyles }: ProgressResultProps) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  const toggleShowTooltip = () => {\n    setShowTooltip(!showTooltip);\n  };\n\n  return (\n    <ProgressWrapper onMouseEnter={toggleShowTooltip} onMouseLeave={toggleShowTooltip}>\n      <ProgressBar className={className} height={height} progress={progress}>\n        <ProgressBarMark height={8} top={-2} passedMark={passedMark} styles={passedMarkStyles}>\n          <Tooltip\n            html={localize('[reach x to pass the course]', {\n              mustPercentSuccess: passedMark\n            })}\n            arrow={true}\n            open={showTooltip}\n            distance={15}\n            tooltipTheme={'light'}\n            size={'small'}\n          >\n            <StatusIcon progress={progress} passedMark={passedMark}>\n              <Icon name=\"ok\" size={6} />\n            </StatusIcon>\n          </Tooltip>\n        </ProgressBarMark>\n      </ProgressBar>\n    </ProgressWrapper>\n  );\n};\n\n\nexport default ProgressResult;\n","import styled, { css } from 'styled-components';\nimport { ICON, SIZES } from 'constants/components';\nimport { transparentize } from 'utils/color';\nimport { IconElement } from 'components/common/Icon/Icon.styled';\nimport media from 'components/mixins/media';\nimport { pointerOnHover, transition } from 'components/mixins/interactivity';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nconst roundFullColor = css`\n  border-radius: 50%;\n  background-color: ${props => getColor(props)};\n`;\n\nconst roundOutlined = css`\n  border-radius: 50%;\n  border: 1px solid ${props => getColor(props)};\n`;\n\nconst roundShaded = css`\n  border-radius: 50%;\n  background: ${props => props.theme.colors.contentBodyColor};\n  box-shadow: 0 2px 4px 0 ${transparentize(defaultBoxShadowColor, 0.15)};\n`;\n\ntype IconShapeProps = {\n  size: any;\n  shape?: any;\n  hoverShape?: any;\n  getHoverColor?: any;\n  shapeColor?: any;\n}\n/* eslint-disable import/prefer-default-export */\nexport const IconShape = styled.div<IconShapeProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n\n  width: ${props => getShapeSize(props.size)}px;\n  height: ${props => getShapeSize(props.size)}px;\n\n  ${transition('border, background-color, box-shadow')};\n\n  & ${IconElement} {\n    ${transition('none')};\n  }\n\n  ${props => props.shape === ICON.SHAPES.ROUND_FULL_COLOR && roundFullColor};\n  ${props => props.shape === ICON.SHAPES.ROUND_OUTLINED && roundOutlined};\n  ${props => props.shape === ICON.SHAPES.ROUND_SHADED && roundShaded};\n\n  ${props =>\n    props.size === SIZES.LARGE &&\n    media.xsmall`\n      width: 20px;\n      height: 20px;\n  `};\n\n  ${props =>\n    props.hoverShape &&\n    css`\n      ${pointerOnHover};\n      &:hover,\n      &:focus {\n        background-color: ${props.theme.colors.contentBodyColor};\n        border: none;\n        box-shadow: none;\n        ${props.hoverShape === ICON.SHAPES.ROUND_SHADED && roundShaded};\n      }\n    `};\n\n  ${props =>\n    props.getHoverColor &&\n    css`\n      ${pointerOnHover};\n      &:hover ${IconElement}, &:focus ${IconElement} {\n        color: ${getHoverColor(props)};\n      }\n    `};\n`;\n\nfunction getHoverColor(props: any) {\n  if (props.getHoverColor) {\n    return props.getHoverColor(props.theme.colors);\n  }\n}\n\nfunction getColor(props: any) {\n  if (props.getShapeColor) {\n    return props.getShapeColor(props.theme.colors);\n  }\n\n  return props.theme.colors[props.shapeColor];\n}\n\nfunction getShapeSize(size: any) {\n  if (typeof size === 'number') {\n    return size;\n  }\n\n  switch (size) {\n    case SIZES.SMALL:\n      return 16;\n    case SIZES.MEDIUM:\n      return 24;\n    default:\n      return 30;\n  }\n}\n","import * as React from 'react';\nimport { ICON, SIZES } from 'constants/components';\nimport Icon from 'components/common/Icon';\nimport { IconShape } from './ShapedIcon.styled';\n\ninterface Size {\n  [SIZES.SMALL]: string;\n  [SIZES.MEDIUM]: string;\n  [SIZES.LARGE]: string;\n}\n\ninterface Shape {\n  [ICON.SHAPES.ROUND_FULL_COLOR]: string;\n  [ICON.SHAPES.ROUND_OUTLINED]: string;\n  [ICON.SHAPES.ROUND_SHADED]: string;\n}\n\ntype ShapedIconProps = {\n  name: string;\n  color?: string;\n  getColor?(): void;\n  getHoverColor?(): void;\n  className?: string;\n  size: keyof Size | number;\n  fontSize?: number;\n  shape?: keyof Shape;\n  hoverShape?: keyof Shape;\n  shapeColor: string;\n  getShapeColor?(): void;\n};\n\nexport const ShapedIcon = (props: ShapedIconProps) => {\n  const { name = 'ok', shapeColor = 'mainColor', shape = ICON.SHAPES.ROUND_FULL_COLOR, size = SIZES.SMALL, fontSize, color = 'buttonTextColor', getColor } = props;\n\n  return (\n    <IconShape shapeColor={shapeColor} shape={shape} {...props}>\n      <Icon\n        shapeSize={size}\n        size={getIconSize(fontSize, size)}\n        name={name}\n        color={color}\n        getColor={getColor}\n      />\n    </IconShape>\n  );\n};\n\nfunction getIconSize(fontSize: any, size: any) {\n  if (typeof size === 'number' && !fontSize) {\n    throw new Error('fontSize must be specified when size is set as numeric value');\n  }\n\n  if (fontSize) return fontSize;\n  switch (size) {\n    case SIZES.SMALL:\n      return 6;\n    case SIZES.MEDIUM:\n      return 10;\n    default:\n      return 12;\n  }\n}\n\nShapedIcon.SHAPES = ICON.SHAPES;\nShapedIcon.SIZES = SIZES;\n\nexport default ShapedIcon;\n","import styled from 'styled-components';\nimport Text from 'components/common/Text';\nimport Icon from 'components/common/Icon';\nimport { transparentize } from 'utils/color';\nimport { TOOLTIP } from 'constants/components';\nimport { secondaryFont } from 'components/mixins/typography';\nimport media from 'components/mixins/media';\nimport { LayoutType } from './StatusTooltip';\n\nexport const IconElement = styled(Icon)`\n  ${secondaryFont};\n  position: absolute;\n  display: inline;\n  top: 50%;\n  left: 16px;\n  transform: translateY(-50%);\n  font-weight: bold;\n  line-height: 1.5px;\n`;\n\nexport const MessageContainer = styled(Text)`\n  && {\n    color: ${props => props.theme.colors.textColor};\n    font-size: 10px;\n    font-weight: normal;\n    line-height: 1.5;\n    white-space: pre-line;\n    word-break: break-word;\n    word-wrap: break-word;\n  }\n`;\n\ntype ContainerMessageProps = {\n  layout: keyof LayoutType\n}\nexport const ContainerMessage = styled.div<ContainerMessageProps>`\n  position: relative;\n  display: block;\n  width: 320px;\n  padding: 10px 32px 10px 37px;\n  background: ${props =>\n    transparentize(\n      (props.layout === TOOLTIP.INCORRECT && props.theme.colors.incorrectColor) ||\n      (props.layout === TOOLTIP.CORRECT && props.theme.colors.correctColor),\n      0.1\n    )};\n  border: 1px solid\n    ${props =>\n    transparentize(\n      (props.layout === TOOLTIP.INCORRECT && props.theme.colors.incorrectColor) ||\n      (props.layout === TOOLTIP.CORRECT && props.theme.colors.correctColor),\n      0.3\n    )};\n  ${media.mobile`\n      width: 260px;\n    `};\n`;\n\nexport const PopoverButton = styled.div`\n  display: inline-block;\n`;\n\nexport const PopoverWrapper = styled.div`\n  display: block;\n`;\n","import * as React from 'react';\nimport { withTheme } from 'styled-components';\nimport { TOOLTIP } from 'constants/components';\nimport { Tooltip } from 'components/common';\nimport {\n  ContainerMessage,\n  MessageContainer,\n  IconElement,\n  PopoverWrapper,\n  PopoverButton\n} from './StatusTooltip.styled';\n\nexport interface LayoutType {\n  [TOOLTIP.CORRECT]: string;\n  [TOOLTIP.INCORRECT]: string;\n}\ntype StatusTooltipProps = {\n  popoverPosition: any;\n  message: string | React.ReactElement;\n  popoverButton: React.ReactElement;\n  layout: keyof LayoutType;\n  showTooltip: boolean;\n  theme?: any;\n};\n\nexport class StatusTooltip extends  React.Component<any, {}> {\n  refButton: any;\n  constructor(props: StatusTooltipProps) {\n    super(props);\n    this.refButton = React.createRef();\n  }\n\n  render() {\n    const { popoverPosition, popoverButton, message, layout, showTooltip, onRequestClose } = this.props;\n    const templateTheme = this.props.theme;\n    return (\n      <PopoverWrapper>\n        <Tooltip\n          trigger={'manual'}\n          open={showTooltip}\n          onRequestClose={ () => onRequestClose() }\n          tooltipTheme={'light'}\n          position={popoverPosition}\n          interactive\n          distance={20}\n          classNames='status-theme'\n          html={\n            <ContainerMessage layout={layout} theme={templateTheme}>\n              <IconElement\n                theme={templateTheme}\n                name={layout === TOOLTIP.CORRECT ? 'check-mark-2' : ''}\n                fontSize={16}\n                size={11}\n                text={layout === TOOLTIP.INCORRECT ? '!' : ''}\n                color={\n                  (layout === TOOLTIP.INCORRECT && 'incorrectColor') ||\n                  (layout === TOOLTIP.CORRECT && 'correctColor')\n                }\n              />\n              <MessageContainer theme={templateTheme} appearance={'p'} font={'secondaryFont'}>\n                {message}\n              </MessageContainer>\n            </ContainerMessage>\n          }\n        >\n          <PopoverButton\n            role=\"presentation\"\n            ref={this.refButton}\n          >\n            {popoverButton}\n          </PopoverButton>\n        </Tooltip>\n      </PopoverWrapper>\n    );\n  }\n}\n\nexport default withTheme(StatusTooltip);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { IS_NO_ACCESS, IS_NOT_AUTHORIZED } from 'constants/typeAccess';\nimport { LOGIN_PATH } from 'constants/navigation';\n\ntype PrivateRouteProps = {\n  component: any,\n  componentNoAccess: any,\n  typeAccess: string;\n  exact?: any;\n  path: any;\n};\n\nexport const PrivateRoute = ({\n  component: Component,\n  componentNoAccess: ComponentNoAccess,\n  typeAccess,\n  ...rest\n}: PrivateRouteProps) => (\n    <Route\n      {...rest}\n      render={props => {\n        if (typeAccess === IS_NO_ACCESS) {\n          return <ComponentNoAccess {...props} />;\n        }\n        if (typeAccess === IS_NOT_AUTHORIZED) {\n          return <Redirect to={LOGIN_PATH} />;\n        }\n        return <Component {...props} />;\n      }}\n    />\n  );\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport progressStorage from 'core/progressStorage';\nimport { INDEX_PATH } from 'constants/navigation';\n\ntype RouteWithRedirectProps = {\n  component: any;\n  shouldRedirect: boolean;\n  history?: {[key: string]: any};\n  exact: any;\n  path: any;\n};\nexport const RouteWithRedirect = ({ component: Component, shouldRedirect, ...rest }: RouteWithRedirectProps) => (\n  <Route\n    {...rest}\n    render={props => {\n      const routeTo = progressStorage.url || INDEX_PATH;\n      let canRedirect = props.history.location.pathname !== routeTo;\n      return shouldRedirect && canRedirect ? <Redirect to={routeTo} /> : <Component {...props} />;\n    }}\n  />\n);\n\nexport default RouteWithRedirect;\n","import styled from 'styled-components';\nimport { shake } from 'components/mixins/interactivity';\ntype TooltipContentProps = {\n  templateTheme: any;\n}\nexport const TooltipContentWrapper = styled.div<TooltipContentProps>`\n  padding: 5px 7px 7px;\n  background: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n\n  &.dropdown-theme,\n  &.status-theme {\n    padding: 0;\n  }\n  .dropdown-theme & {\n    pointer-events: all;\n  }\n\n  .tippy-popper[x-placement^='bottom'] .hint-popover-theme &,\n  .tippy-popper[x-placement^='top'] .hint-popover-theme & {\n    ${shake('vertical')}\n  }\n\n  .tippy-popper[x-placement^='left'] .hint-popover-theme &,\n  .tippy-popper[x-placement^='right'] .hint-popover-theme & {\n    ${shake('horizontal')}\n  }\n`;\n\nexport const TooltipContentArrow = styled.div.attrs({\n  'x-arrow': 'true'\n}) <TooltipContentProps>`\n  .tippy-popper[x-placement^='top'] .tippy-tooltip ${TooltipContentWrapper} &[x-arrow] {\n    border-top-color: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n  }\n\n  .tippy-popper[x-placement^='bottom'] .tippy-tooltip ${TooltipContentWrapper} &[x-arrow] {\n    border-bottom-color: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n  }\n\n  .tippy-popper[x-placement^='left'] .tippy-tooltip ${TooltipContentWrapper} &[x-arrow] {\n    border-left-color: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n  }\n\n  .tippy-popper[x-placement^='right'] .tippy-tooltip ${TooltipContentWrapper} &[x-arrow] {\n    border-right-color: ${(props: any) => props.templateTheme.colors.contentBodyColor};\n  }\n`;\n\n","import * as React from 'react';\nimport { isMobile } from 'utils/window';\nimport { withTheme } from 'styled-components';\nimport { Tooltip, TooltipProps } from 'react-tippy';\nimport 'react-tippy/dist/tippy.css';\nimport './Tooltip.css';\nimport { TooltipContentWrapper, TooltipContentArrow } from './Tooltip.styled';\n\ninterface TooltipElementProps extends TooltipProps {\n  classNames?: string;\n  children: React.ReactChild;\n  tooltipTheme?: \"dark\" | \"light\" | \"transparent\";\n  templateTheme?: { [key: string]: any };\n}\nconst TooltipElement = ({ ...props }: TooltipElementProps) => {\n  const newProps: TooltipElementProps = props;\n  newProps.html = (\n    <TooltipContentWrapper className={newProps.classNames} templateTheme={newProps.theme}>\n      {props.html}\n      {props.arrow && <TooltipContentArrow templateTheme={newProps.theme} />}\n    </TooltipContentWrapper>\n  );\n  newProps.arrow = false;\n  return <Tooltip {...newProps} theme={newProps.tooltipTheme}>{newProps.children}</Tooltip>;\n};\n\nTooltipElement.defaultProps = {\n  popperOptions: {\n    modifiers: {\n      preventOverflow: {\n        boundariesElement: 'viewport'\n      }\n    },\n    positionFixed: isMobile\n  },\n  useContext: true,\n  stickyDuration: 0,\n  tooltipTheme: 'light',\n  animateFill: false,\n  arrow: false\n};\n\nexport default withTheme(TooltipElement);\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\n\ntype LogoProps = {\n  altText: string;\n  logoUrl: string;\n}\nexport const Logo = styled.img.attrs((props: LogoProps) => ({\n  alt: props.altText,\n  src: props.logoUrl\n})) <LogoProps>`\n  display: block;\n  margin-top: 24px;\n  margin-bottom: 35px;\n  max-width: 200px;\n  max-height: 80px;\n\n  ${media.mobile`\n    max-width: 160px;\n    max-height: 60px;\n    margin-left: 10px;\n  `};\n`;\n\nexport default Logo;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport Logo from './CourseLogo.styled';\n\ntype CourseLogoProps = {\n  logoUrl: string\n};\nconst CourseLogo = (props: CourseLogoProps) => <Logo altText={localize('[alt logo login]')} logoUrl={props.logoUrl} />;\n\nexport default CourseLogo;\n","export { default as Button } from './Button';\nexport { default as CircleLoader } from './CircleLoader';\nexport { default as Collapse } from './Collapse';\nexport { default as CssAnimation } from './CssAnimation';\nexport { default as Delay } from './Delay';\nexport { default as DragDrop } from './DragDrop';\nexport { default as Icon } from './Icon';\nexport { default as Loader } from './Loader';\nexport { default as MultipleChoiceItems } from './MultipleChoiceItems';\nexport { default as NumericList } from './NumericList';\nexport { default as Popup } from './Popup';\nexport { default as ProgressBar } from './ProgressBar';\nexport { default as ProgressResult } from './ProgressResult';\nexport { default as Separator } from './Separator';\nexport { default as ShapedIcon } from './ShapedIcon';\nexport { default as SwitchButton } from './SwitchButton';\nexport { default as Text } from './Text';\nexport { default as Link } from './Link';\nexport { default as TextInput } from './TextInput';\nexport { default as DropdownInput } from './DropdownInput';\nexport { default as StatusTooltip } from './StatusTooltip';\nexport { default as PrivateRoute } from './Routes/PrivateRoute';\nexport { default as RouteWithRedirect } from './Routes/RouteWithRedirect';\nexport { default as EditableTextarea } from './EditableTextarea';\nexport { default as Tooltip } from './Tooltip';\nexport { default as CourseLogo } from './CourseLogo';\nexport { default as Hint } from './Hint';\n","import { normalizeColorName, toCamelCase } from 'utils/string';\n\nexport default {\n  map(options: any) {\n    const { settings, publishSettings, manifest, translations, publishMode } = options;\n    return {\n      template: mapTemplateSettings(settings),\n      publish: publishSettings,\n      manifest,\n      translations,\n      publishMode\n    };\n  }\n};\n\nfunction mapTemplateSettings(settings: any) {\n  return {\n    fonts: mapFonts(settings.fonts),\n    branding: {\n      mainLogo: settings.branding.logo.url,\n      alternativeLogo: settings.branding.alternativeLogo.url,\n      allowToShowMainLogo: settings.branding.logo.allowToShowLogo,\n      colors: mapColors(settings.branding.colors)\n    },\n    background: settings.branding.background,\n    general: settings.general,\n    results: settings.results,\n    languages: settings.languages\n  };\n}\n\nfunction mapFonts(fonts: any) {\n  return fonts.reduce((acc: any, item: any) => {\n    acc[toCamelCase(item.key)] = item;\n    return acc;\n  }, {});\n}\n\nfunction mapColors(colors: any) {\n  return colors.reduce((acc: any, item: any) => {\n    acc[normalizeColorName(item.key)] = item.value;\n    return acc;\n  }, {});\n}\n","import { questionResponseReducers } from 'store/rootReducer';\nimport { QuestionsState } from './types';\n\nexport default function responseReducer(state: QuestionsState, action?: any) {\n  if (!action || !action.payload || !action.payload.hasOwnProperty('questionId')) {\n    return state;\n  }\n\n  const question = state[action.payload.questionId];\n  if (!question) {\n    return state;\n  }\n  question.response = reduceQuestionResponse(question.response, action);\n\n  return state;\n}\n\nfunction reduceQuestionResponse(response: any, action: any) {\n  questionResponseReducers.forEach(reducer => {\n    response = reducer(response, action);\n  });\n\n  return response;\n}\n","import { combineReducers } from 'redux';\nimport { routerReducer } from 'react-router-redux';\n\nimport app from './app/reducer';\nimport settings from './settings/reducer';\nimport navigation from './navigation/reducer';\nimport course from './course/reducer';\nimport sections from './sections/reducer';\nimport contents from './contents/reducer';\nimport modules from './modules/reducer';\nimport treeOfContent from './treeOfContent/reducer';\nimport popup from './popup/reducer';\nimport questions from './questions/reducer';\nimport multipleChoice from './questions/multipleChoice/responseReducer';\nimport StatementChoice from './questions/statementChoice/responseReducer';\nimport openQuestion from './questions/openQuestion/responseReducer';\nimport rankingText from './questions/rankingText/responseReducer';\nimport scenario from './questions/scenario/responseReducer';\nimport fillInTheBlank from './questions/fillInTheBlank/responseReducer';\nimport dragAndDropText from './questions/dragAndDropText/responseReducer';\nimport hotspot from './questions/hotspot/responseReducer';\nimport user from './user/reducer';\nimport textMatching from './questions/textMatching/responseReducer';\n\nconst rootReducer = combineReducers({\n  app,\n  course,\n  modules,\n  settings,\n  router: routerReducer,\n  questions,\n  sections,\n  contents,\n  navigation,\n  treeOfContent,\n  popup,\n  user\n});\n\nexport type RootState = ReturnType<typeof rootReducer>\n\nexport default rootReducer;\n\nexport const questionResponseReducers = [\n  multipleChoice,\n  StatementChoice,\n  dragAndDropText,\n  openQuestion,\n  rankingText,\n  scenario,\n  fillInTheBlank,\n  textMatching,\n  hotspot\n];\n","import initialState from 'store/initialState';\nimport {ActionTypes, AppActionTypes } from './types';\n\nexport default function appReducer(state = initialState.app, action: AppActionTypes) {\n  switch (action.type) {\n    case ActionTypes.APP_LOADED:\n      return Object.assign({}, state, {\n        isLoading: false,\n        isLoaded: true\n      });\n    case ActionTypes.APP_LOADING_FAILED:\n      return Object.assign({}, state, {\n        isLoading: false,\n        isLoadingFailed: true\n      });\n    case ActionTypes.APP_RESOLUTION_CHANGED:\n      return Object.assign({}, state, {\n        ...action.payload\n      });\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, CourseActionTypes } from './types';\n\nexport default function courseReducer(state = initialState.course, action: CourseActionTypes) {\n  switch (action.type) {\n    case ActionTypes.COURSE_DATA_LOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.COURSE_DATA_LOADING_FAILED:\n      return { ...state, ...{ isLoadingFailed: true } };\n    case ActionTypes.COURSE_PROGRESS_RESTORED:\n      return { ...state, ...{ attemptId: action.payload.attemptId, hasBeenContinued: true } };\n    case ActionTypes.COURSE_LAUNCHED:\n      return { ...state, ...{ attemptId: action.payload.attemptId } };\n    case ActionTypes.COURSE_SCORE_UPDATED:\n      return {\n        ...state,\n        ...{\n          score: action.payload.score,\n          isPassed: action.payload.isPassed\n        }\n      };\n    case ActionTypes.COURSE_CLEANUP:\n      return {\n        ...state,\n        ...{\n          score: 0,\n          isPassed: false,\n          attemptId: null,\n          hasBeenContinued: false\n        }\n      };\n    case ActionTypes.CLEAR_PREVIEW_QUESTION_ID:\n      delete state.previewQuestionId;\n      return state;\n    case ActionTypes.CERTIFICATE_DOWNLOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.COURSE_IS_PASSED:\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, ModulesActionTypes} from './types';\n\nexport default function modulesReducer(state = initialState.modules, action: ModulesActionTypes) {\n  switch (action.type) {\n    case ActionTypes.MODULE_XAPI_INITIALIZED:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isInitialized: true }\n      };\n    case ActionTypes.MODULE_XAPI_LRS_ON:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isLrsTrackingOn: true }\n      };\n    case ActionTypes.MODULE_XAPI_LRS_OFF:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isLrsTrackingOn: false }\n      };\n    case ActionTypes.MODULE_XAPI_NPS_ON:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isNpsTrackingOn: true }\n      };\n    case ActionTypes.MODULE_XAPI_NPS_OFF:\n      return {\n        ...state,\n        xapi: { ...state.xapi, isNpsTrackingOn: false }\n      };\n    case ActionTypes.MODULE_SCORM_INITIALIZED:\n      return {\n        ...state,\n        scorm: { ...state.scorm, isInitialized: true }\n      };\n    case ActionTypes.MODULE_PROGRESS_STORAGE_ON:\n      return {\n        ...state,\n        progressStorage: { ...state.progressStorage, isProgressStorageOn: true }\n      };\n    case ActionTypes.MODULE_PROGRESS_STORAGE_OFF:\n      return {\n        ...state,\n        progressStorage: { ...state.progressStorage, isProgressStorageOn: false }\n      };\n    case ActionTypes.ENABLE_REVIEW_MODE:\n      return {\n        ...state,\n        review: {\n          ...{\n            ...state.review,\n            isReviewModeEnabled: true,\n            reviewApiUrl: action.payload.reviewApiUrl\n          }\n        }\n      };\n    case ActionTypes.MODULE_LTI_INITIALIZED:\n      return {\n        ...state,\n        lti: { isInitialized: true }\n      };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport settingsMapper from 'core/mappers/settings';\nimport { ActionTypes, SettingsActionTypes } from './types';\n\nexport default function settingsReducer(state = initialState.settings, action: SettingsActionTypes) {\n  switch (action.type) {\n    case ActionTypes.SETTINGS_LOADED: {\n      return { ...state, ...settingsMapper.map(action.settings) };\n    }\n    case ActionTypes.SETTINGS_LOADING_FAILED:\n      return {\n        ...state,\n        ...{\n          isLoadingFailed: true\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import initialState, { getInitialQuestionResponse } from 'store/initialState';\n\nimport responseReducers from './responseReducers';\nimport { QuestionActionTypes, ActionTypes, QuestionsState } from './types';\n\nexport default function questionReducer(\n  state: QuestionsState = initialState.questions,\n  action: QuestionActionTypes\n) {\n  switch (action.type) {\n    case ActionTypes.QUESTIONS_LOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.QUESTION_ANSWERED:\n    case ActionTypes.QUESTION_PROGRESS_RESTORE:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          isAnswered: true,\n          score: action.payload.score,\n          isAnsweredCorrectly: action.payload.score === 100\n        }\n      };\n    case ActionTypes.QUESTION_OPENED:\n      return {\n        ...state,\n        [action.payload.questionId]: {\n          ...state[action.payload.questionId],\n          hasBeenOpened: action.payload.hasBeenOpened\n        }\n      };\n    case ActionTypes.QUESTION_PROGRESS_RESET:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          isAnswered: false,\n          isAnsweredCorrectly: false,\n          score: 0,\n          response: getInitialQuestionResponse(action.payload.type)\n        }\n      };\n    case ActionTypes.QUESTION_RESTORE_RESPONSE:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          response: action.payload.response,\n          hasBeenOpened: true\n        }\n      };\n    case ActionTypes.FEEDBACK_ANIMATING:\n      return {\n        ...state,\n        [action.payload.id]: {\n          ...state[action.payload.id],\n          isFeedbackAnimating: action.payload.isFeedbackAnimating\n        }\n      };\n    default:\n      return responseReducers(state, action);\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, SectionsActionTypes } from './types';\n\nexport default function sectionsReducer(state = initialState.sections, action: SectionsActionTypes) {\n  switch (action.type) {\n    case ActionTypes.SECTIONS_LOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.SECTION_SCORE_UPDATED:\n      state[action.payload.id] = {\n        ...state[action.payload.id],\n        score: action.payload.score,\n        isPassed: action.payload.isPassed\n      };\n      return { ...state };\n    case ActionTypes.SECTION_IS_PASSED:\n      state[action.payload.id] = {\n        ...state[action.payload.id],\n        isPassed: action.payload.isPassed\n      };\n      return { ...state };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, ContentsActionTypes } from './types';\n\nexport default function contentReducer(state = initialState.contents, action: ContentsActionTypes) {\n  switch (action.type) {\n    case ActionTypes.CONTENTS_LOADED:\n      return { ...state, ...action.payload };\n    case ActionTypes.CONTENT_LOADED:\n      return {\n        ...state,\n        [action.payload.contentId]: {\n          ...state[action.payload.contentId],\n          value: action.payload.value\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { getQuestionUrl, getLearningObjectiveUrl } from 'utils/navigation';\nimport { RESULTS_PATH } from 'constants/navigation';\nimport { ActionTypes as SectionsActions, SectionsActionTypes } from 'store/sections/types';\nimport { ActionTypes, NavigationActionTypes } from './types';\n\nexport default function navigationReducer(state = initialState.navigation, action: NavigationActionTypes | SectionsActionTypes) {\n  switch (action.type) {\n    case SectionsActions.SECTIONS_LOADED: {\n      let urls = [];\n      for (let sectionId in action.payload) {\n        if (action.payload[sectionId].learningObjective) {\n          urls.push(getLearningObjectiveUrl(sectionId));\n        }\n        action.payload[sectionId].questions.forEach((questionId: string) => {\n          urls.push(getQuestionUrl(sectionId, questionId));\n        });\n      }\n\n      urls.push(RESULTS_PATH);\n      return { ...state, ...{ chain: urls } };\n    }\n    case ActionTypes.NAVIGATED_INSIDE_THE_APP: {\n      return { ...state, ...{ prevUrl: action.payload.prevUrl } };\n    }\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, TOCActionTypes } from './types';\n\nexport default function treeOfContentReducer(state = initialState.treeOfContent, action: TOCActionTypes) {\n  switch (action.type) {\n    case ActionTypes.TOC_TOGGLE_VISIBILITY:\n      return { ...state, ...{ isExpanded: !state.isExpanded } };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, PopupActionTypes } from './types';\n\nexport default function popupReducer(state = initialState.popup, action: PopupActionTypes) {\n  switch (action.type) {\n    case ActionTypes.OPEN_POPUP:\n      return {\n        ...state,\n        ...{ isExpanded: !state.isExpanded, settings: action.payload.settings }\n      };\n    case ActionTypes.CLOSE_POPUP:\n      delete state.settings;\n      return { ...state, ...{ isExpanded: !state.isExpanded } };\n    default:\n      return state;\n  }\n}\n","import initialState from 'store/initialState';\nimport { ActionTypes, UserActionTypes } from './types';\n\nexport default function loginReducer(state = initialState.user, action: UserActionTypes) {\n  switch (action.type) {\n    case ActionTypes.USER_AUTHENTICATED:\n      return { ...state, ...action.payload };\n    case ActionTypes.USER_UNAUTHENTICATED:\n      return { ...state, ...initialState.user };\n    case ActionTypes.USER_AUTHENTICATION_SKIPPED:\n      return { ...state, ...initialState.user, ...{ authorizationSkipped: true } };\n    default:\n      return state;\n  }\n}\n","import { toggleArrayElement } from 'utils/object';\nimport { ActionTypes, MultipleChoiceActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: MultipleChoiceActionTypes) {\n  const questionState: any = state;\n\n  switch (action.type) {\n    case ActionTypes.QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED:\n      return toggleArrayElement(questionState, action.payload.answerId);\n    case ActionTypes.QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED:\n    case ActionTypes.SET_SINGLE_ANSWER_SELECTED:\n      questionState.splice(0, questionState.length, action.payload.answerId);\n      return state;\n    default:\n      return state;\n  }\n}\n","import { toggleArrayStatementElement } from 'utils/object';\nimport { ActionTypes, StatementChoiceActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: StatementChoiceActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_STATEMENT_ANSWER_IS_SELECTED:\n      return toggleArrayStatementElement(state as any, {\n        id: action.payload.answerId,\n        isCorrect: action.payload.isCorrect\n      });\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, DragAndDropActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\n\nexport default function reducer(state: QuestionsState, action: DragAndDropActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED:\n      return action.payload.answers;\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, OpenQuestionActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: OpenQuestionActionTypes) {\n  switch (action.type) {\n    case ActionTypes.OPEN_QUESTION_ANSWER_IS_SELECTED:\n      return {\n        id: action.payload.questionId,\n        answeredText: action.payload.answeredText\n      };\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, RankingTextActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: RankingTextActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_RANKING_ANSWERS_ARE_SELECTED:\n      return action.payload.answers;\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, ScenarioActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: ScenarioActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_SCENARIO_BRANCHTRACK_DATA:\n      return {\n        score: action.payload.score,\n        isFinished: action.payload.isFinished\n      };\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, FillInTheBlankActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: FillInTheBlankActionTypes) {\n  switch (action.type) {\n    case ActionTypes.FILL_IN_THE_BLANK_ANSWER:\n      return {\n        data: action.payload.data\n      };\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, TextMatchingActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: TextMatchingActionTypes) {\n  switch (action.type) {\n    case ActionTypes.QUESTION_MATCHING_ANSWERS_ARE_SELECTED:\n      return action.payload.answers;\n    default:\n      return state;\n  }\n}\n","import { ActionTypes, HotspotActionTypes } from './types';\nimport { QuestionsState } from '../types';\n\nexport default function reducer(state: QuestionsState, action: HotspotActionTypes) {\n  switch (action.type) {\n    case ActionTypes.HOTSPOT_QUESTION_ANSWER:\n      return action.payload.data;\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport { routerMiddleware } from 'react-router-redux';\nimport thunk from 'redux-thunk';\nimport { createHashHistory } from 'history';\nimport rootReducer from './rootReducer';\nimport initialState, { initialize } from './initialState';\n\nexport const history = createHashHistory();\n\nconst enhancers = [];\nconst middleware = [thunk, routerMiddleware(history)];\n\nif (process.env.NODE_ENV === 'development') {\n  const devToolsExtension = window.devToolsExtension; // eslint-disable-line prefer-destructuring\n\n  if (typeof devToolsExtension === 'function') {\n    enhancers.push(devToolsExtension());\n  }\n}\n\nconst composedEnhancers = compose(applyMiddleware(...middleware), ...enhancers);\n\ninitialize();\nconst store  = createStore(rootReducer, initialState, composedEnhancers); \n\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","export const IS_NO_ACCESS = `NoAccess`;\nexport const IS_NOT_AUTHORIZED = `NotAuthorized`;\nexport const IS_SUCCESSFUL_ACCESS = `SuccessfulAccess`;\n","export type ContentState = {\n    id: string;\n    children: ContentState[];\n    value: string;\n    url: string;\n}\n\nexport type ContentsState = {\n    [key: string]: ContentState\n}\n\nexport enum ActionTypes {\n    CONTENTS_LOADED = 'CONTENTS_LOADED',\n    CONTENT_LOADED = \"CONTENT_LOADED\",\n    CONTENT_LOADING_FAILED = \"CONTENT_LOADING_FAILED\"\n}\n\ntype ContentsLoaded = {\n    type: ActionTypes.CONTENTS_LOADED,\n    payload: {\n        contents: any\n    }\n}\ntype ContentLoadedSuccess = {\n    type: ActionTypes.CONTENT_LOADED;\n    payload: {\n        contentId: string;\n        value: any;\n    }\n}\n\ntype ContentLoadedFailed = {\n    type: ActionTypes.CONTENT_LOADING_FAILED;\n    payload?: {\n        contentId: string;\n    }\n}\n\n\nexport type ContentsActionTypes =  ContentsLoaded | ContentLoadedSuccess | ContentLoadedFailed;\n","import styled, { css } from 'styled-components';\nimport Text from 'components/common/Text';\nimport { BUTTON, SIZES } from 'constants/components';\nimport Icon from 'components/common/Icon';\nimport { transition } from 'components/mixins/interactivity';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { MEDIA_LARGE } from 'constants/screenResolutions';\nimport { transparentize } from 'utils/color';\nimport { Layout, Size } from './Button';\n\ntype TextElementProps = {\n  layout: keyof Layout;\n}\nexport const TextElement = styled(Text)<TextElementProps>`\n  color: ${props => props.theme.colors.buttonTextColor};\n  font-size: 14px;\n  font-weight: 600;\n  ${transition('padding-right')};\n`;\n\nexport const IconElement = styled(Icon)`\n  visibility: hidden;\n  position: absolute;\n  opacity: 0;\n  top: 50%;\n  transform: translate(0, -250%);\n  right: 30px;\n  transition: transform 0.1s ease-out, opacity 0.2s ease-out;\n  transition-delay: 0.1s;\n`;\ntype ButtonElementProps = {\n  tabIndex: number;\n  'data-test': string;\n  textTransform: string;\n  suffixIcon: string;\n  isLoading: boolean;\n  layout: keyof Layout;\n  size: keyof Size;\n  inverted: boolean;\n}\nexport const ButtonElement = styled.button.attrs((props: ButtonElementProps) => ({\n  tabIndex: props.tabIndex,\n  'data-test': props['data-test']\n})) <ButtonElementProps>`\n  ${buttonDefaultStyle};\n  display: inline-flex;\n  position: relative;\n  overflow: hidden;\n  border-radius: 30px;\n  cursor: pointer;\n  transition: all 0.1s ease-out;\n  align-items: center;\n  text-transform: ${props => (props.textTransform ? props.textTransform : 'none')};\n\n  ${props =>\n    props.suffixIcon &&\n    css`\n      @media (min-width: ${MEDIA_LARGE}px) {\n        &:hover ${TextElement}, &:focus ${TextElement} {\n          padding-right: 20px;\n        }\n        &:hover ${IconElement}, &:focus ${IconElement} {\n          visibility: visible;\n          opacity: 1;\n          transform: translate(0, -50%);\n        }\n      }\n    `};\n\n  ${props =>\n    props.isLoading &&\n    css`\n      pointer-events: none;\n      ${TextElement}, ${IconElement} {\n        visibility: hidden;\n      }\n    `};\n\n  ${props =>\n    props.layout === BUTTON.LAYOUT.PRIMARY &&\n    css`\n      background-color: ${props.theme.colors.ctaButtonColor};\n      &:hover,\n      &:focus {\n        background-color: ${() =>\n        transparentize(props.theme.colors.ctaButtonColor, 0.85, { solidColor: true })};\n      }\n      ${props.isLoading &&\n      css`\n          background-color: ${() => transparentize(props.theme.colors.ctaButtonColor, 0.05)};\n          &:hover,\n          &:focus {\n            background-color: ${() => transparentize(props.theme.colors.ctaButtonColor, 0.05)};\n          }\n        `};\n    `};\n\n  ${props =>\n    props.layout === BUTTON.LAYOUT.SECONDARY &&\n    css`\n      border: 2px solid\n        ${props.inverted\n        ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)\n        : transparentize(props.theme.colors.textColor, 0.1)};\n      background-color: transparent;\n      &:hover,\n      &:focus {\n        background-clip: padding-box;\n        border: 2px solid\n          ${props.inverted\n        ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)\n        : transparentize(props.theme.colors.textColor, 0.1)};\n      }\n      ${TextElement} {\n        color: ${props.inverted\n        ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.4)\n        : transparentize(props.theme.colors.textColor, 0.4)};\n      }\n      &:hover,\n      &:focus {\n        &,\n        &:active {\n          background-color: ${props.inverted\n        ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)\n        : transparentize(props.theme.colors.textColor, 0.1)};\n        }\n\n        ${TextElement},\n        ${IconElement} {\n          color: ${props.inverted\n        ? props.theme.colors.coverBgOverlayTextColor\n        : props.theme.colors.textColor};\n        }\n      }\n      &:active ${TextElement}, &:active ${IconElement} {\n        color: ${props.inverted\n        ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.6)\n        : transparentize(props.theme.colors.textColor, 0.6)};\n      }\n    `};\n  ${props =>\n    props.size === SIZES.MEDIUM &&\n    css`\n      height: 50px;\n      padding: 0 40px;\n      line-height: 14px;\n    `};\n\n  ${props =>\n    props.size === SIZES.SMALL &&\n    css`\n      height: 30px;\n      padding: 0 23px;\n      line-height: 10px;\n    `};\n`;\n\nexport const ButtonLinkElement = styled(ButtonElement.withComponent('a'))`\n  text-decoration: none !important;\n\n  ${TextElement} {\n    margin-top: 1px;\n  }\n`;\n","import styled, { css } from 'styled-components';\nimport media from 'components/mixins/media';\n\ntype HelperProps = {\n  isMatchingOption: boolean;\n  isMatching: boolean;\n}\nexport const Helper = styled.div<HelperProps>`\n  display: inline-flex;\n  ${props =>\n    props.isMatchingOption &&\n    css`\n      width: 100%;\n    `}\n\n  ${media.xsmall`\n    display: block;\n    line-height: 40px;\n  `};\n\n  .dropdown {\n    display: block;\n    outline: none;\n    position: relative;\n\n    ${props =>\n      props.isMatchingOption &&\n      css`\n        width: 100%;\n        max-height: 100%;\n      `}\n\n    ${props =>\n      props.isMatching &&\n      media.xsmall`\n        line-height: 30px;\n      `};\n  }\n\n  ${media.xsmall`\n    max-width: 100%;\n    width: 100%;\n    padding: ${(props: HelperProps) => (props.isMatching ? '0' : '0 30px 0 14px')};\n  `};\n`;\n\nexport default Helper;\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport * as typography from 'components/mixins/typography';\n\ntype PopoverContentProps = {\n  isMatching: boolean;\n  theme: any;\n}\nexport const PopoverContent = styled.div<PopoverContentProps>`\n  position: relative;\n  ${props =>\n    props.isMatching\n      ? css`\n          &:before {\n            content: '';\n            display: block;\n            position: absolute;\n            left: 5px;\n            right: 5px;\n            bottom: 0;\n            height: 16px;\n            z-index: 11;\n            background: linear-gradient(\n              to top,\n              ${props.theme.colors.contentBodyColor},\n              ${transparentize(props.theme.colors.contentBodyColor, 0)}\n            );\n          }\n        `\n      : css``};\n\n  .downshift-dropdown {\n    position: static;\n    width: auto;\n    min-width: 210px;\n    max-width: 340px;\n    max-height: 360px;\n    padding: 10px 0;\n    background-color: ${props => props.theme.colors.contentBodyColor};\n    border: none;\n    border-radius: 2px;\n    text-align: left;\n    box-sizing: border-box;\n    color: ${props => props.theme.colors.textColor};\n    overflow-y: auto;\n    z-index: 10;\n    -webkit-overflow-scrolling: touch;\n    transition: all 0.3s ease-out;\n\n    ${media.xsmall`\n      max-height: 200px;\n      max-width: 250px;\n    `};\n\n    ${props =>\n    props.isMatching\n      ? css`\n            ${media.small`\n              max-width: 40vw;\n            `};\n            ${media.mobile`\n              max-height: 90vh;\n            `};\n            ${media.xsmall`\n              max-height: 200px;\n              max-width: 210px;\n            `};\n            transition: none;\n          `\n      : css``};\n\n    .dropdown-item {\n      font-size: 16px;\n    }\n  }\n\n  .dropdown-item {\n    box-sizing: border-box;\n    color: ${props => props.theme.colors.textColor};\n    cursor: pointer;\n    display: block;\n    padding: 12px 24px;\n    white-space: normal;\n    ${typography.secondaryFontText};\n    line-height: 22px;\n\n    &.main-color {\n      color: ${props => props.theme.colors.mainColor};\n    }\n\n    &.selected {\n      color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n      text-decoration: line-through;\n    }\n\n    &.current-selected {\n      color: ${props => props.theme.colors.mainColor};\n    }\n\n    &:hover {\n      color: ${props => props.theme.colors.mainColor};\n      background-color: ${props => transparentize(props.theme.colors.textColor, 0.05)};\n      margin: auto 3px;\n      padding: 12px 21px;\n\n      &.selected {\n        color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n      }\n    }\n\n    &:focus {\n      color: ${props => props.theme.colors.mainColor};\n      background-color: ${props => transparentize(props.theme.colors.textColor, 0.05)};\n    }\n  }\n`;\n\nexport default PopoverContent;\n","/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\nimport React from 'react';\nimport { Tooltip } from 'components/common';\nimport { withTheme } from 'styled-components';\nimport { PopoverContent } from './DropdownInputPopover.styled';\n\ntype DropdownInputPopoverProps = {\n  data: any[];\n  theme: { [key: string]: any };\n  popoverPosition: any;\n  isPopoverOpen: boolean;\n  isMatching: boolean;\n  getMenuProps(): void;\n  getItemProps(options: any): void;\n  selectedAnswer: any;\n  highlightedIndex: number | null;\n  setHighlightedIndex(index: any): void;\n  children: any;\n};\n\nexport class DropdownInputPopover extends React.Component<DropdownInputPopoverProps, {}> {\n  classes: any;\n  constructor(props: DropdownInputPopoverProps) {\n    super(props);\n    this.classes = {\n      baseSelected: 'selected',\n      matchingSelected: 'selected current',\n      matchingSelectedCurrent: 'current-selected'\n    };\n  }\n\n  addClasses(item: any) {\n    const { isMatching, selectedAnswer } = this.props;\n    const { baseSelected, matchingSelected, matchingSelectedCurrent } = this.classes;\n\n    const { value, selected, current } = item;\n\n    if (!isMatching) {\n      if (selectedAnswer === value) {\n        return baseSelected;\n      }\n      return '';\n    }\n    if (selected && selected.length) {\n      if (current) {\n        return matchingSelectedCurrent;\n      }\n      return matchingSelected;\n    }\n    return '';\n  }\n\n  render() {\n    const { isPopoverOpen, isMatching, popoverPosition, data, highlightedIndex, setHighlightedIndex, getItemProps, children } = this.props;\n    const templateTheme = this.props.theme;\n    return (\n      <Tooltip\n        trigger={'manual'}\n        open={isPopoverOpen}\n        distance={isMatching ? 0 : 16}\n        classNames=\"dropdown\"\n        tooltipTheme={'light'}\n        position={popoverPosition}\n        html={\n          < PopoverContent tabIndex={1} isMatching={isMatching} theme={templateTheme}>\n            <div data-test=\"dropdown-content\" className=\"downshift-dropdown\">\n              {data.map((item: any, index: any) => (\n                <div\n                  key={index}\n                  tabIndex={1}\n                  role=\"button\"\n                  className={`dropdown-item ${this.addClasses(item)}`}\n                  data-test=\"dropdown-item\"\n                  style={{\n                    color: highlightedIndex === index ? templateTheme.colors.mainColor : null\n                  }}\n                  onMouseLeave={() => setHighlightedIndex(null)}\n                  {...getItemProps({\n                    key: index,\n                    index,\n                    item,\n                    'aria-label': `${index + 1} of ${data.length}`\n                  })}\n                >\n                  {item.value}\n                </div>\n              ))}\n            </div>\n          </PopoverContent>\n        }\n      >\n        {children}\n      </Tooltip >\n\n    )\n  }\n}\n\nexport default withTheme(DropdownInputPopover);\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport * as typography from 'components/mixins/typography';\nimport { pulse } from 'components/mixins/interactivity';\nimport Icon from 'components/common/Icon';\nimport { centerAbsoluteElement } from 'components/mixins/placement';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nconst pulseAnimationColors = {\n  start: transparentize(defaultBoxShadowColor, 0.05),\n  middle: transparentize(defaultBoxShadowColor, 0.03),\n  end: transparentize(defaultBoxShadowColor, 0.01)\n};\n\nexport const PlusIcon = styled(Icon)`\n  position: absolute;\n  ${centerAbsoluteElement};\n  text-indent: 0;\n  color: ${props => props.theme.colors.mainColor};\n`;\n\ntype DropdownButtonProps = {\n  isMatching: boolean;\n  isMatchingOption: boolean;\n}\nexport const DropdownButton = styled.button<DropdownButtonProps>`\n  &.dropdown-button {\n    vertical-align: top;\n    position: relative;\n    display: inline-block;\n    max-width: 280px;\n    min-width: 210px;\n    min-height: 40px;\n    margin: 0 8px;\n    padding: 0 30px 0 14px;\n    border: none;\n    border-radius: 2px;\n    background-color: ${props => props.theme.colors.contentBodyColor};\n    box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n    color: ${props => props.theme.colors.textColor};\n    ${typography.secondaryFontText};\n    text-align: left;\n    outline: none;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    word-break: break-word;\n    white-space: nowrap;\n    transition: all 0.1s ease-out;\n    cursor: pointer;\n\n    &::-moz-focus-inner {\n      outline: none;\n      border: 0;\n    }\n\n    .dropdown-arrow {\n      content: '';\n      position: absolute;\n      top: 50%;\n      right: 15px;\n      margin-top: -4px;\n      width: 6px;\n      height: 6px;\n      color: ${props => props.theme.colors.textColor};\n      border-style: solid;\n      border-width: 2px 2px 0 0;\n      vertical-align: top;\n      transform: rotate(135deg);\n      transition: transform 0.1s ease-out;\n\n      &.is-open {\n        margin-top: -3px;\n        transform: rotate(-45deg);\n      }\n    }\n\n    &.pulse {\n      ${pulse(pulseAnimationColors)}\n    }\n\n    &.empty {\n      color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n    }\n\n    &:hover {\n      box-shadow: 0 4px 8px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n    }\n    &:focus {\n      box-shadow: 0 1px 0 0 ${transparentize(defaultBoxShadowColor, 0.1)},\n        inset 0 1px 3px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n    }\n\n    ${props =>\n    props.isMatching\n      ? css`\n            &.dropdown-button {\n              overflow: visible;\n              max-width: auto;\n              min-width: auto;\n              max-height: none;\n              min-height: 40px;\n              width: 40px;\n              height: 40px;\n              border-radius: 50%;\n              padding: 0;\n              background: ${props.theme.colors.contentBodyColor};\n              box-shadow: none;\n              text-indent: -999999px;\n              z-index: 1;\n\n              &:before {\n                content: '';\n                display: block;\n                position: absolute;\n                top: -3px;\n                left: -3px;\n                height: 40px;\n                width: 40px;\n                border-radius: 50%;\n                transition: 0.3s;\n                border: 3px solid ${transparentize(props.theme.colors.contentBodyColor, 0.5)};\n              }\n\n              &:after {\n                content: '';\n                position: absolute;\n                top: 0;\n                bottom: 0;\n                left: 0;\n                right: 0;\n                background: transparent;\n                transition: 0.3s;\n                border-radius: 50%;\n                box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n              }\n\n              &:hover {\n                background: ${transparentize(props.theme.colors.contentBodyColor, 0.9)};\n\n                &:after {\n                  background: ${transparentize(props.theme.colors.mainColor, 0.25)};\n                }\n\n                &:before {\n                  top: -11px;\n                  left: -11px;\n                  border: 11px solid ${transparentize(props.theme.colors.contentBodyColor, 0.2)};\n                }\n              }\n\n              &:focus {\n                background: ${transparentize(props.theme.colors.contentBodyColor, 0.9)};\n\n                &:after {\n                  background: ${transparentize(props.theme.colors.mainColor, 0.25)};\n                }\n              }\n\n              &[aria-expanded='true'] {\n                background: ${props.theme.colors.mainColor};\n                vertical-align: top;\n\n                &:before {\n                  display: none;\n                }\n\n                &:after {\n                  background: transparent;\n                }\n\n                ${PlusIcon} {\n                  color: ${props.theme.colors.contentBodyColor};\n                }\n              }\n\n              .dropdown-arrow {\n                display: none;\n                top: 50%;\n                left: 50%;\n                margin-top: -3px;\n                margin-left: -3px;\n                color: ${props.theme.colors.mainColor};\n\n                &.is-open {\n                  top: 50%;\n                  margin-top: -2px;\n                }\n              }\n\n              & + .chosen-value {\n                background: ${props.theme.colors.contentBodyColor};\n                position: absolute;\n                top: 0;\n                left: 45px;\n                padding: 4px 30px 3px 16px;\n                line-height: 32px;\n                border-radius: 2px;\n                ${typography.secondaryFontText};\n                white-space: nowrap;\n                max-width: 340px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n              }\n\n              ${media.xlarge`\n                width: 36px;\n                height: 36px;\n                min-height: 36px;\n\n                &:before {\n                  height: 36px;\n                  width: 36px;\n                }\n            `}\n\n              ${media.xsmall`\n              width: 30px;\n              height: 30px;\n              min-height: 30px;\n\n              &:before {\n                height: 30px;\n                width: 30px;\n              }\n              ${css`{\n                  ${PlusIcon} {\n                    font-size: 8px;\n                  }\n                }`\n              }\n              & + .chosen-value {\n                left: 39px;\n              }\n            `};\n            }\n          `\n      : css``};\n\n    ${props =>\n    props.isMatching && props.isMatchingOption\n      ? css`\n            &.dropdown-button {\n              ${typography.secondaryFontText};\n              width: 100%;\n              max-width: 100%;\n              height: auto;\n              max-height: 100%;\n              margin: 0;\n              padding: 3px 15px 5px;\n              border-radius: 0;\n              background-color: transparent;\n              box-shadow: none;\n              overflow: hidden;\n              text-overflow: none;\n              white-space: normal;\n              word-break: break-word;\n              text-indent: 0;\n              transition: none;\n              animation: none;\n\n              &.empty-matching-option {\n                color: ${transparentize(props.theme.colors.textColor, 0.4)};\n                text-indent: 0;\n\n                &:hover,\n                &:focus {\n                  color: ${transparentize(props.theme.colors.textColor, 0.7)};\n                  background: ${transparentize(props.theme.colors.mainColor, 0.25)};\n                }\n              }\n\n              &.dropdown-button {\n                &[aria-expanded='true'] {\n                  background: ${transparentize(props.theme.colors.textColor, 0.02)};\n                  vertical-align: top;\n\n                  &:before,\n                  &:after {\n                    display: none;\n                  }\n                }\n\n                &.empty {\n                  &:hover {\n                    color: ${props.theme.colors.textColor};\n                    box-shadow: none;\n                  }\n                }\n\n                &:hover,\n                &:focus {\n                  background: ${transparentize(props.theme.colors.mainColor, 0.25)};\n                  box-shadow: none;\n\n                  &:before,\n                  &:after {\n                    display: none;\n                  }\n                }\n              }\n\n              &:before,\n              &:after {\n                width: 100%;\n                height: 100%;\n                border-radius: 0;\n                border-width: 0;\n                top: 0;\n                left: 0;\n                bottom: 0;\n                right: 0;\n              }\n\n              ${media.xlarge`\n                height: auto;\n              `};\n\n              ${media.xsmall`\n                width: 100%;\n                height: auto;\n\n                &:before {\n                  width: 100%;\n                  height: auto;\n                }\n\n                & + .chosen-value {\n                  left: 0;\n                }\n              `}\n\n              & + .chosen-value {\n                display: none;\n                width: 100%;\n                background: transparent;\n                position: absolute;\n                top: 0;\n                right: 0;\n                bottom: 0;\n                left: 0;\n                color: ${transparentize(props.theme.colors.textColor, 0.5)};\n                text-indent: 0;\n                font-size: 14px;\n                line-height: 32px;\n                word-break: break-word;\n              }\n            }\n          `\n      : css``}\n  }\n`;\n\nexport default DropdownButton;\n","/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\nimport React from 'react';\nimport { localize } from 'core/localization';\nimport { DropdownButton, PlusIcon } from './DropdownInputButton.styled';\n\ntype DropdownInputButtonProps = {\n  placeholder: string;\n  answeredPlaceholder: string;\n  disabled: boolean;\n  selectedAnswer: any;\n  matchingAnswer: string;\n  getToggleButtonProps(options: any): void;\n  getLabelProps(): void;\n  getRootProps(options1: any, options2?: any): void;\n  isOpen: boolean;\n  isMatching: boolean;\n  isMatchingOption: boolean;\n  buttonAnimation: string;\n};\n\nexport const DropdownInputButton = ({\n  placeholder,\n  answeredPlaceholder,\n  selectedAnswer,\n  matchingAnswer,\n  disabled,\n  getToggleButtonProps, // getToggleButtonProps, getLabelProps, getRootProps is required for correct work of Downshift.js\n  getLabelProps,\n  getRootProps,\n  isOpen,\n  isMatching,\n  isMatchingOption,\n  buttonAnimation\n}: DropdownInputButtonProps) => {\n  const renderPlusIcon = () =>\n    isMatching && !isMatchingOption && <PlusIcon size={10} name=\"plus\" />;\n\n  const buttonClasses = {\n    base: `dropdown-button ${!selectedAnswer ? 'empty' : 'dropdown-button'}`,\n    matchingOption: isMatchingOption && !matchingAnswer ? 'empty-matching-option' : '',\n    animation: buttonAnimation || ''\n  };\n\n  const buttonText = () => {\n    if (isMatchingOption && matchingAnswer && selectedAnswer) {\n      return selectedAnswer;\n    }\n    if (!isMatchingOption) {\n      return selectedAnswer || placeholder;\n    }\n    if (isOpen) {\n      return localize('[choose option]');\n    }\n    return placeholder;\n  };\n\n  return (\n    <DropdownButton\n      {...getToggleButtonProps({\n        'aria-label': !selectedAnswer ? placeholder : answeredPlaceholder + selectedAnswer\n      })}\n      {...getLabelProps()}\n      {...getRootProps({}, { suppressRefError: true })}\n      tabIndex={1}\n      disabled={disabled}\n      className={`${buttonClasses.base} ${buttonClasses.matchingOption} ${buttonClasses.animation}`}\n      isMatching={isMatching}\n      isMatchingOption={isMatchingOption}\n    >\n      {buttonText()}\n      <span className={isOpen ? 'dropdown-arrow is-open' : 'dropdown-arrow'} />\n      {renderPlusIcon()}\n    </DropdownButton>\n  );\n};\n\nexport default DropdownInputButton;\n","/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\nimport * as React from 'react';\nimport Downshift from 'downshift';\nimport { withTheme } from 'styled-components';\nimport { Helper } from './DropdownInput.styled';\nimport { DropdownInputPopover } from './popover/DropdownInputPopover';\nimport { DropdownInputButton } from './button/DropdownInputButton';\n\ntype DropdownInputProps = {\n  data: any[];\n  isMatching?: boolean;\n  isMatchingOption?: boolean;\n  onChange(e?: any): void;\n  name: string;\n  placeholder: string;\n  answeredPlaceholder: string;\n  matchingAnswer?: string;\n  value: string;\n  disabled?: boolean;\n  theme?: { [key: string]: any };\n  buttonAnimation?: string;\n  popoverPosition: string;\n  children?: any;\n};\n\ntype DropdownInputState = {\n  selectedAnswer: any;\n  isPopoverOpen: boolean;\n}\nclass DropdownInput extends React.Component<DropdownInputProps, DropdownInputState> {\n  constructor(props: DropdownInputProps) {\n    super(props);\n    this.state = {\n      selectedAnswer: this.props.value,\n      isPopoverOpen: false\n    }\n  }\n\n  onOptionSelect = (selectedAnswer: any) => {\n    if (selectedAnswer) {\n      this.setState({ selectedAnswer: selectedAnswer.value });\n    }\n  };\n\n  componentDidUpdate(prevProps: DropdownInputProps) {\n    if (this.props.value !== prevProps.value) {\n      this.setState({ selectedAnswer: this.props.value });\n    }\n  }\n\n  onStateChange = (state: any) => {\n    if (typeof state.isOpen === 'undefined') {\n      return;\n    }\n    this.setState({ isPopoverOpen: state.isOpen });\n  };\n\n  render() {\n    const {\n      placeholder,\n      answeredPlaceholder,\n      onChange,\n      disabled = false,\n      popoverPosition,\n      buttonAnimation = '',\n      isMatching = false,\n      isMatchingOption = false,\n      matchingAnswer = ''\n    } = this.props;\n    let { selectedAnswer, isPopoverOpen } = this.state;\n\n    if (matchingAnswer) {\n      selectedAnswer = matchingAnswer;\n    }\n\n    return (\n      <Helper isMatching={isMatching} isMatchingOption={isMatchingOption}>\n        <Downshift\n          onChange={onChange}\n          selectedItem={selectedAnswer}\n          onSelect={this.onOptionSelect}\n          itemToString={data => (data ? data.value : '')}\n          onStateChange={this.onStateChange}\n        >\n          {({\n            isOpen,\n            getToggleButtonProps,\n            getItemProps,\n            highlightedIndex,\n            getLabelProps,\n            getMenuProps,\n            getRootProps,\n            setHighlightedIndex\n          }) => {\n            const renderChosenValue = () => <div className=\"chosen-value\">{matchingAnswer}</div>;\n\n            return (\n              <div title={selectedAnswer || placeholder} className={'dropdown'}>\n                <DropdownInputPopover\n                  data={this.props.data}\n                  theme={this.props.theme || {}}\n                  isPopoverOpen={isPopoverOpen}\n                  popoverPosition={popoverPosition}\n                  getMenuProps={getMenuProps}\n                  getItemProps={getItemProps}\n                  selectedAnswer={selectedAnswer}\n                  highlightedIndex={highlightedIndex}\n                  isMatching={isMatching}\n                  setHighlightedIndex={setHighlightedIndex}\n                >\n                  <DropdownInputButton\n                    placeholder={placeholder}\n                    answeredPlaceholder={answeredPlaceholder}\n                    selectedAnswer={selectedAnswer}\n                    matchingAnswer={matchingAnswer}\n                    disabled={disabled}\n                    getToggleButtonProps={getToggleButtonProps}\n                    getLabelProps={getLabelProps}\n                    getRootProps={getRootProps}\n                    isOpen={isOpen}\n                    isMatching={isMatching}\n                    isMatchingOption={isMatchingOption}\n                    buttonAnimation={buttonAnimation}\n                  />\n                  {isMatching && matchingAnswer && renderChosenValue()}\n                </DropdownInputPopover>\n              </div>\n            );\n          }}\n        </Downshift>\n      </Helper>\n    );\n  }\n}\n\nexport default withTheme(DropdownInput);\n","export { default } from './DropdownInput';\n","export const ICON = {\n  SHAPES: {\n    ROUND_FULL_COLOR: 'round-fullColor',\n    ROUND_OUTLINED: 'round-outlined',\n    ROUND_SHADED: 'round-shaded'\n  }\n} as const;\n\n\nexport const BUTTON = {\n  LAYOUT: {\n    PRIMARY: 'primary',\n    SECONDARY: 'secondary'\n  }\n} as const;\n\nexport const SIZES = {\n  SMALL: 'small',\n  MEDIUM: 'medium',\n  LARGE: 'large'\n} as const;\n\nexport const TOC = { EXPANDED_WIDTH: 380, COLLAPSED_WIDTH: 56, TAIL_WIDTH: 30 };\n\nexport const Z_INDEX = {\n  SIDEBAR: 10,\n  TOC: 200,\n  COLLAPSED_TOC: 210,\n  TOC_TAIL: 220,\n  BLOCKOUT: 100\n};\n\nexport const LINK = {\n  LAYOUT: {\n    DEFAULT: 'default',\n    FORM: 'form'\n  }\n};\n\nexport const INPUT_TYPE = {\n  TEXT: 'text',\n  PASSWORD: 'password',\n  EMAIL: 'email'\n} as const;\n\nexport const TOOLTIP = {\n  CORRECT: 'correct',\n  INCORRECT: 'incorrect'\n} as const;\n","import styled, { css } from 'styled-components';\nimport { transition, bounce } from 'components/mixins/interactivity';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport Icon from 'components/common/Icon';\nimport Text from 'components/common/Text';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { secondaryFont } from 'components/mixins/typography';\n\n\ntype InputElement = {\n  type: string;\n  name: string;\n  placeholder: string;\n  tabIndex: number;\n  id: string;\n  onInvalid(): void;\n  autoComplete: string;\n  pattern?: string;\n  validationStatusBeforeSubmit: boolean;\n}\nexport const InputElement = styled.input.attrs((props: InputElement) => ({\n  type: props.type,\n  name: props.name,\n  placeholder: props.placeholder,\n  tabIndex: props.tabIndex,\n  id: props.id,\n  onInvalid: props.onInvalid,\n  autoComplete: props.autoComplete,\n  pattern: props.pattern,\n  required: 'required'\n})) <InputElement>`\n  ${secondaryFont};\n  position: relative;\n  top: 0;\n  left: 0;\n  border-radius: 30px;\n  font-weight: normal;\n  font-size: 14px;\n  width: 320px;\n  height: 50px;\n  border-radius: 30px;\n  box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.textColor, 0.08)};\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  padding: 16px 40px 16px 24px;\n  border: none;\n  color: ${props => props.theme.colors.textColor};\n  &::placeholder {\n    color: transparent;\n  }\n  &:focus {\n    box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.mainColor, 0.1)};\n    border: solid 1px ${props => props.theme.colors.mainColor};\n    background-color: ${props => props.theme.colors.contentBodyColor};\n    outline: none;\n  }\n  &:focus::placeholder {\n    color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  }\n  ${media.mobile`\n    width: 260px;\n    height: 44px;\n  `};\n  &.full:invalid {\n    background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n    box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.incorrectColor, 0.06)};\n    border: solid 1px ${props => props.theme.colors.incorrectColor};\n    ${bounce};\n  }\n  &.full:valid {\n    background-color: ${props => props.theme.colors.contentBodyColor};\n    box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.incorrectColor, 0.1)};\n    border: solid 1px ${props => props.theme.colors.correctColor};\n  }\n  ${props =>\n    props.validationStatusBeforeSubmit === false &&\n    css`\n      & {\n        background-color: ${transparentize(props.theme.colors.textColor, 0.02)};\n        box-shadow: inset 0 2px 0 0 ${transparentize(props.theme.colors.incorrectColor, 0.06)};\n        border: solid 1px ${props.theme.colors.incorrectColor};\n        ${bounce};\n      }\n    `};\n`;\n\nexport const InputLabel = styled.label`\n  box-sizing: border-box;\n  line-height: 1;\n  position: absolute;\n  padding: 16px 24px;\n  top: -30px;\n  left: 0;\n  font-size: 10px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  ${InputElement}.is-empty + & {\n    top: 0;\n    font-size: 14px;\n  }\n  ${transition('top')};\n  ${InputElement}.changed + &,\n  ${InputElement}:focus + &,\n  ${InputElement}:valid + & {\n    top: -30px;\n    font-size: 10px;\n  }\n\n  ${InputElement}:-webkit-autofill + &{\n    top: -30px;\n    font-size: 10px;\n  }\n`;\n\nexport const ValidIcon = styled(Icon)`\n  color: ${props => props.theme.colors.correctColor};\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 22px;\n  visibility: hidden;\n  ${InputElement}:invalid ~ & {\n    visibility: hidden;\n  }\n  ${InputElement}:valid ~ & {\n    visibility: visible;\n  }\n`;\n\nexport const ValidationMessageBlock = styled.div`\n  display: flex;\n  position: absolute;\n  left: 25px;\n  top: 55px;\n  visibility: hidden;\n  &.show {\n    visibility: visible;\n  }\n`;\n\nexport const TextError = styled<any>(Text)`\n  && {\n    color: ${props => props.theme.colors.incorrectColor};\n    position: relative;\n    font-size: 10px;\n    visibility: hidden;\n    margin-right: 10px;\n    line-height: 1;\n    ${ValidationMessageBlock}.show & {\n      visibility: visible;\n      color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n      margin-right: 15px;\n    }\n    ${ValidationMessageBlock}.show & .icon {\n      color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n      margin-right: 5px;\n    }\n    & .icon {\n      color: ${props => props.theme.colors.incorrectColor};\n    }\n    &.active {\n      visibility: visible;\n    }\n    ${ValidationMessageBlock}.show &.valid, ${ValidationMessageBlock}.show &.valid .icon {\n      color: ${props => props.theme.colors.correctColor};\n    }\n    ${ValidationMessageBlock}.show &.invalid, ${ValidationMessageBlock}.show &.invalid .icon {\n      color: ${props => props.theme.colors.incorrectColor};\n    }\n  }\n`;\n\ntype EyeIconProps = {\n  role: string;\n  tabIndex: number;\n  aiaLabel?: string;\n  name: string;\n  onClick: any;\n  onKeyDown: any;\n}\nexport const EyeIcon = styled(Icon).attrs((props: EyeIconProps) => ({\n  role: props.role,\n  tabIndex: props.tabIndex,\n  'aria-label': props.aiaLabel\n})) <EyeIconProps>`\n  ${buttonDefaultStyle};\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 20px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  font-size: 11px;\n  cursor: pointer;\n  &.icon-eye-close {\n    font-size: 13px;\n  }\n  &:hover,\n  &:focus {\n    color: ${props => props.theme.colors.textColor};\n  }\n`;\n\ntype InputContainerProps = {\n  isUserExist: boolean;\n}\nexport const InputContainer = styled.div<InputContainerProps>`\n  ${secondaryFont};\n  position: relative;\n  font-weight: normal;\n  font-size: 14px;\n  &.invalid-input ${InputElement} {\n    background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n    box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.incorrectColor, 0.06)};\n    border: solid 1px ${props => props.theme.colors.incorrectColor};\n    ${bounce};\n  }\n  ${props =>\n    props.isUserExist === true &&\n    css`\n      ${InputElement}.full:valid {\n        background-color: ${transparentize(props.theme.colors.textColor, 0.02)};\n        box-shadow: inset 0 2px 0 0 ${transparentize(props.theme.colors.incorrectColor, 0.06)};\n        border: solid 1px ${props.theme.colors.incorrectColor};\n        ${bounce};\n      }\n      ${InputElement}:valid ~ ${ValidIcon} {\n        visibility: hidden;\n      }\n      ${TextError} {\n        visibility: visible;\n      }\n      ${ValidationMessageBlock} {\n        visibility: visible;\n      }\n    `};\n`;\n","import * as React from 'react';\nimport { withTheme } from 'styled-components'\nimport { INPUT_TYPE } from 'constants/components';\nimport { localize } from 'core/localization';\nimport Icon from 'components/common/Icon';\nimport {\n  InputContainer,\n  InputElement,\n  InputLabel,\n  ValidIcon,\n  TextError,\n  ValidationMessageBlock,\n  EyeIcon\n} from './Input.styled';\n\ninterface InputTypes {\n  [INPUT_TYPE.TEXT]: string;\n  [INPUT_TYPE.PASSWORD]: string;\n  [INPUT_TYPE.EMAIL]: string;\n}\n\ntype InputProps = {\n  type: keyof InputTypes;\n  name: string;\n  tabIndex?: number;\n  labelText: string;\n  idInput: string;\n  onChange(e: any): void;\n  placeholder: string;\n  validIcon?: boolean;\n  refInput(node: any): void;\n  validationStatusBeforeSubmit: boolean;\n  showValidationMessage?: boolean;\n  onBlur?(e: any): void;\n  onFocus?(e: any): void;\n  defaultValue?: string;\n  autoComplete?: string;\n  isUserExist?: boolean;\n  pattern?: string;\n  textError?: string;\n  theme?: { [key: string]: any }\n};\n\ntype InputState = {\n  hasValue: boolean;\n  validValue: boolean;\n  showErrorText: boolean;\n  showPassword: boolean;\n  showPassValidationBlock: boolean;\n  isSpaceInPass: boolean;\n  isPatternPass: boolean;\n  startInputPass: boolean;\n}\n\nexport class Input extends React.Component<InputProps, InputState> {\n  constructor(props: InputProps) {\n    super(props);\n    this.state = {\n      hasValue: false,\n      validValue: true,\n      showErrorText: false,\n      showPassword: false,\n      showPassValidationBlock: false,\n      isSpaceInPass: false,\n      isPatternPass: false,\n      startInputPass: false\n    };\n  }\n\n  static defaultProps = {\n    validIcon: false,\n    showValidationMessage: true,\n    tabIndex: 0,\n  };\n\n  componentDidMount() {\n    const { defaultValue } = this.props;\n\n    if (defaultValue) {\n      this.setState({ hasValue: true });\n    }\n  }\n\n  onBlurValidationInput(event: any, onBlur: any) {\n    event.target.classList.remove('changed');\n    this.setState({\n      validValue: !event.target.validity.typeMismatch && !event.target.validity.patternMismatch,\n      showPassValidationBlock: event.target.value.length !== 0\n    });\n    if (onBlur) {\n      onBlur(event);\n    }\n  }\n\n  validationPassword = (event: any, onChange: any) => {\n    const isSpaceInPass = /\\s/.test(event.target.value);\n    let isPatternPass = false;\n    if (this.props.pattern) {\n      isPatternPass = new RegExp(this.props.pattern).test(event.target.value);\n    }\n\n    if (event.target.value !== 0) {\n      this.setState({\n        startInputPass: event.target.value !== 0,\n        isSpaceInPass,\n        isPatternPass\n      });\n    }\n\n    if (!isSpaceInPass && isPatternPass && onChange) {\n      onChange(event);\n    }\n  };\n\n  showErrorText = () => {\n    this.setState({ showErrorText: !this.state.validValue || !this.state.hasValue });\n  };\n\n  showHidePassword() {\n    this.setState({ showPassword: !this.state.showPassword });\n  }\n\n  setTypePassword() {\n    return this.state.showPassword ? INPUT_TYPE.TEXT : INPUT_TYPE.PASSWORD;\n  }\n\n  showPassValidationBlock() {\n    this.setState({ showPassValidationBlock: true });\n  }\n\n  render() {\n    const {\n      idInput,\n      type,\n      name,\n      tabIndex = 0,\n      placeholder,\n      labelText,\n      onChange,\n      validIcon,\n      textError,\n      refInput,\n      defaultValue,\n      autoComplete,\n      pattern,\n      validationStatusBeforeSubmit,\n      showValidationMessage,\n      isUserExist,\n      onBlur,\n      onFocus\n    } = this.props;\n    return (\n      <InputContainer theme={this.props.theme} isUserExist={isUserExist || false}>\n        <InputElement\n          id={idInput}\n          ref={refInput}\n          type={type === INPUT_TYPE.PASSWORD ? this.setTypePassword() : type}\n          name={name}\n          placeholder={placeholder}\n          className={!this.state.hasValue ? 'is-empty' : 'full'}\n          tabIndex={tabIndex}\n          defaultValue={defaultValue}\n          autoComplete={autoComplete || ''}\n          pattern={pattern}\n          onBlur={event => {\n            this.setState({ hasValue: !!event.target.value });\n            this.onBlurValidationInput(event, onBlur);\n          }}\n          onFocus={(event: any) => {\n            if (type === INPUT_TYPE.PASSWORD) {\n              this.showPassValidationBlock();\n            }\n            if (onFocus) {\n              onFocus(event)\n            };\n          }}\n          onChange={\n            type === INPUT_TYPE.PASSWORD\n              ? (event: any) => this.validationPassword(event, onChange)\n              : onChange\n          }\n          onInvalid={this.showErrorText}\n          validationStatusBeforeSubmit={validationStatusBeforeSubmit}\n          theme={this.props.theme}\n        />\n        <InputLabel theme={this.props.theme} htmlFor={idInput}>{labelText}</InputLabel>\n        {validIcon && <ValidIcon theme={this.props.theme} name=\"check-mark-2\" size={12} />}\n        {textError && showValidationMessage && (\n          <ValidationMessageBlock>\n            <TextError theme={this.props.theme} className={!this.state.validValue ? 'active' : ''}>{textError}</TextError>\n          </ValidationMessageBlock>\n        )}\n        {type === INPUT_TYPE.PASSWORD && (\n          <EyeIcon\n            role=\"button\"\n            tabIndex={0}\n            ariaLabel={\n              this.state.showPassword\n                ? localize('[label eye icon hide]')\n                : localize('[label eye icon show]')\n            }\n            name={this.state.showPassword ? 'eye-close' : 'eye-open'}\n            onClick={() => {\n              this.showHidePassword();\n            }}\n            onKeyDown={() => {\n              this.showHidePassword();\n            }}\n            theme={this.props.theme}\n          />\n        )}\n        {type === INPUT_TYPE.PASSWORD && showValidationMessage && (\n          <ValidationMessageBlock className={this.state.showPassValidationBlock ? 'show' : 'hide'}>\n            <TextError\n              theme={this.props.theme}\n              className={\n                this.state.startInputPass && (this.state.isSpaceInPass ? 'invalid' : 'valid')\n              }\n            >\n              <Icon name=\"check-mark-2\" />\n              {localize('[validation pass space]')}\n            </TextError>\n            <TextError\n              className={\n                this.state.startInputPass && (this.state.isPatternPass ? 'valid' : 'invalid')\n              }\n              theme={this.props.theme}\n            >\n              <Icon name=\"check-mark-2\" />\n              {localize('[validation pass count char]')}\n            </TextError>\n          </ValidationMessageBlock>\n        )}\n      </InputContainer>\n    );\n  }\n}\n\nexport default withTheme(Input);\n","export { default } from './Input';\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\n\nconst EditableContentWrapper = styled.div`\n  background-image: linear-gradient(\n    transparent,\n    transparent 38px,\n    ${props => transparentize(props.theme.colors.textColor, 0.1)} 37px\n  );\n  background-size: 30px 39px;\n  height: 100%;\n  min-height: 120px;\n  }\n  textarea {\n    width: 100%;\n    background: transparent;\n    border: none;\n    box-sizing: border-box;\n    outline: none;\n    font-size: 16px;\n    line-height: 39px;\n    font-weight: bold;\n    color: ${props => props.theme.colors.textColor};\n    overflow: hidden;\n    resize: none;\n\n    &::placeholder {\n      color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n    }\n\n    ${media.mobile`\n      padding: 4px 29px 29px 20px;\n  `};\n  }\n`;\n\nexport default EditableContentWrapper;\n","import * as React from 'react';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport EditableContentWrapper from './EditableTextarea.styled';\n\ntype EditableTextareaProps = {\n  defaultValue?: string;\n  onResize?(e?: any): void;\n  disabled?: boolean;\n  placeholder: string;\n  onBlur?(e?: any): void;\n  onChange(e?: any): void;\n  tabIndex: number;\n  rows: number;\n  isAutofocus: boolean;\n};\n\nexport class EditableTextarea extends React.PureComponent<EditableTextareaProps, {}> {\n  textAreaNode: any;\n  constructor(props: EditableTextareaProps) {\n    super(props);\n    this.textAreaNode = null;\n  }\n\n  static defaultProps = {\n    onResize: () => { },\n    tabIndex: 0,\n    defaultValue: '',\n    rows: 3,\n    isAutofocus: false\n  };\n\n  componentDidMount() {\n    if (this.props.isAutofocus) {\n      this.textAreaNode.focus();\n    }\n  }\n\n  render() {\n    const {\n      placeholder,\n      onResize,\n      onBlur,\n      onChange,\n      defaultValue,\n      disabled,\n      tabIndex,\n      rows\n    } = this.props;\n    return (\n      <EditableContentWrapper>\n        <TextareaAutosize\n          placeholder={placeholder}\n          onResize={onResize}\n          rows={rows}\n          onChange={onChange}\n          onBlur={onBlur}\n          defaultValue={defaultValue}\n          disabled={disabled}\n          tabIndex={tabIndex}\n          ref={(node: any) => {\n            this.textAreaNode = node;\n          }}\n        />\n      </EditableContentWrapper>\n    );\n  }\n}\n\nexport default EditableTextarea;\n","export { default } from './EditableTextarea';\n","import * as React from 'react';\nimport { BUTTON, SIZES } from 'constants/components';\nimport CircleLoader from 'components/common/CircleLoader';\nimport { ButtonElement, ButtonLinkElement, TextElement, IconElement } from './Button.styled';\n\nexport interface Layout {\n  [BUTTON.LAYOUT.PRIMARY]: string,\n  [BUTTON.LAYOUT.SECONDARY]: string\n}\nexport interface Size {\n  [SIZES.SMALL]: string;\n  [SIZES.MEDIUM]: string;\n}\ntype ButtonProps = {\n  type?: string;\n  suffixIcon?: string;\n  disabled: boolean;\n  children: React.ReactNode;\n  onClick?(e?: any): void;\n  layout: keyof Layout;\n  size: keyof Size;\n  textTransform?: string;\n  tabIndex?: number;\n  onBlur?(e?: any): void;\n  onFocus?(e?: any): void;\n  onKeyDown?(e?: any): void;\n  link?: string;\n  isLoading?: boolean;\n  loaderIconSize: number;\n  target?: string;\n  inverted: boolean;\n  theme?: any;\n};\n\nexport const Button = (props: Readonly<ButtonProps>) => {\n  const {\n    disabled,\n    onClick,\n    children,\n    type,\n    layout,\n    suffixIcon,\n    textTransform,\n    tabIndex,\n    link,\n    onBlur,\n    onFocus,\n    isLoading,\n    loaderIconSize,\n    target,\n    ...other\n  } = props;\n\n  const Element: React.ReactType = link ? ButtonLinkElement : ButtonElement;\n  return (\n    <Element\n      onClick={onClick}\n      disabled={disabled}\n      type={type}\n      layout={layout}\n      suffixIcon={suffixIcon}\n      textTransform={textTransform}\n      tabIndex={tabIndex}\n      href={link}\n      onBlur={onBlur}\n      onFocus={onFocus}\n      target={target || '_blank'}\n      isLoading={isLoading}\n      theme={props.theme}\n      {...other}\n    >\n      <TextElement theme={props.theme} ellipsis layout={layout}>\n        {children}\n      </TextElement>\n      {suffixIcon && <IconElement name={suffixIcon} color=\"buttonTextColor\" theme={props.theme} size={12} />}\n      {isLoading && <CircleLoader iconSize={loaderIconSize} />}\n    </Element>\n  );\n};\n\nButton.defaultProps = {\n  layout: BUTTON.LAYOUT.PRIMARY,\n  size: SIZES.MEDIUM,\n  isLoading: false,\n  loaderIconSize: 24,\n  disabled: false,\n  tabIndex: 0,\n  inverted: false\n};\n\nexport default Button;\n","export { default } from './Button';\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from '../../types';\n\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  if (question.type === 'singleSelectImage') {\n    return question.answers.map((answer: any) => ({\n      id: answer.id,\n      image: answer.image,\n      selected: question.response.some((a: any) => a === answer.id)\n    }));\n  }\n  return question.answers.map((answer: any) => ({\n    id: answer.id,\n    isCorrect: answer.isCorrect,\n    text: answer.text,\n    selected: question.response.some((a: any) => a === answer.id)\n  }));\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  if (question.type === 'singleSelectImage') {\n    if (!question.response.includes(question.correctAnswerId)) {\n      return 0;\n    }\n  } else {\n    for (let i = 0; i < question.answers.length; i++) {\n      const answer = question.answers[i];\n      if (answer.isCorrect && !question.response.includes(answer.id)) {\n        return 0;\n      }\n      if (!answer.isCorrect && question.response.includes(answer.id)) {\n        return 0;\n      }\n    }\n  }\n\n  return 100;\n};\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getEmbedCode = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  return question.embedCode;\n};\n\nexport const getProjectId = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  return question.projectId;\n};\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  let question = getQuestion(state, questionId);\n  const responseAnswer = question.response !== null ? question.response : '';\n  return {\n    score: !responseAnswer ? '' : responseAnswer.score,\n    isFinished: !responseAnswer ? '' : responseAnswer.isFinished\n  };\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  if (question.response.score >= question.masteryScore && question.response.isFinished) {\n    return 100;\n  }\n  return 0;\n};\n","export type SettingsState = {\n    isLoadingFailed: boolean;\n    template: any;\n    publish: any;\n    manifest: any;\n    translations: any;\n    publishMode: any;\n}\nexport enum ActionTypes {\n    SETTINGS_LOADED = 'SETTINGS_LOADED',\n    SETTINGS_LOADING_FAILED = 'SETTINGS_LOADING_FAILED'\n}\n\ntype SettingsLoaded = {\n    type: ActionTypes.SETTINGS_LOADED;\n    settings: {\n        manifest: {[key: string]: any};\n        publishSettings: {[key: string]: any};\n        settings: {[key: string]: any};\n        customization: {[key: string]: any};\n        translations: {[key: string]: any};\n        publishMod: {[key: string]: any};\n    }\n}\n\ntype SettingsLoadedFailed = {\n    type: ActionTypes.SETTINGS_LOADING_FAILED;\n    reason: any\n}\n\nexport type SettingsActionTypes = SettingsLoaded | SettingsLoadedFailed;\n","export enum ActionTypes {\n    OPEN_POPUP = 'OPEN_POPUP',\n    CLOSE_POPUP = 'CLOSE_POPUP'\n}\n\ntype OpenPopup = {\n    type: ActionTypes.OPEN_POPUP,\n    payload: {\n        settings: { [key: string]: any }\n    }\n}\n\ntype ClosePopup = {\n    type: ActionTypes.CLOSE_POPUP\n}\n\nexport type PopupActionTypes = OpenPopup | ClosePopup;\n","export const getStringHash = (string: string) => {\n  let hash = 0;\n  let chr;\n  if (string.length === 0) {\n    return hash;\n  }\n  for (let index = 0; index < string.length; index++) {\n    chr = string.charCodeAt(index);\n    // eslint-disable-next-line\n    hash = (hash << 5) - hash + chr;\n    // eslint-disable-next-line\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n};\n\nexport default getStringHash;\n","import getStringHash from 'utils/getStringHash';\n\nexport const sortById = (prev: any, next: any) => {\n  if (getStringHash(prev.id) > getStringHash(next.id)) {\n    return -1;\n  }\n  return 1;\n};\n\nexport default sortById;\n","import { getQuestion } from 'store/questions/selectors';\nimport { NO_SELECTED_ID } from 'constants/common';\nimport { sortById } from 'utils/sort';\nimport { RootAppState } from '../../types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  return question.dropspots.map((dropspot: any) => ({\n    id: dropspot.id,\n    text: dropspot.text,\n    x: dropspot.x,\n    y: dropspot.y\n  }));\n};\n\nexport const getBackground = (state: RootAppState, questionId: string) => getQuestion(state, questionId).background;\n\nexport const getUserResponse = (state: RootAppState, questionId: string) => getQuestion(state, questionId).response;\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const userAnswers: { [key: string]: any }[] = [];\n  const originalAnswers = question.dropspots.map((answer: any) => ({\n    id: answer.id,\n    text: answer.text\n  }));\n\n  if (question.response.length && !question.response[0].items.length) {\n    question.response.forEach((list: any) => {\n      if (list.id !== NO_SELECTED_ID) {\n        const answerId = list.id;\n        const answerText = list.items[0].text;\n        userAnswers.push({\n          id: answerId,\n          text: answerText\n        });\n      }\n    });\n  }\n\n  originalAnswers.sort(sortById);\n  userAnswers.sort(sortById);\n\n  if (JSON.stringify(originalAnswers) === JSON.stringify(userAnswers)) {\n    return 100;\n  }\n\n  return 0;\n};\n","import styled from 'styled-components';\n\ntype SeparatorTypes = {\n  margin?: number;\n  height?: number;\n  opacity?: number;\n  color?: string;\n};\nexport const Separator = styled.div<SeparatorTypes>`\n  position: relative;\n  width: 100%;\n  height: ${({height = 2, margin = 32, opacity = 0.08, ...rest}: SeparatorTypes) => height + margin * 2}px;\n\n  &:after {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: ${props => props.height}px;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 0;\n    background-color: ${props =>\n      props.color && props.theme.colors[props.color]\n      ? props.theme.colors[props.color]\n      : props.theme.colors.ctaButtonColor};\n    opacity: ${props => (props.opacity ? props.opacity : 0.08)};\n  }\n`;\n\nSeparator.defaultProps = {\n  margin: 32,\n  height: 2,\n  opacity: 0.08\n};\n\nexport default Separator;\n","export { default } from './Separator';\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  return question.answers.map((answer: any) => ({\n    id: answer.id,\n    text: answer.text\n  }));\n};\n\nexport const getUserResponse = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  return question.response;\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  if (JSON.stringify(question.answers) === JSON.stringify(question.response)) {\n    return 100;\n  }\n  return 0;\n};\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  return question.answers.map((answer: any) => ({\n    id: answer.id,\n    key: answer.key,\n    value: answer.value,\n    selectedKey: ''\n  }));\n};\n\nexport const getUserResponse = (state: RootAppState, questionId: string) => getQuestion(state, questionId).response;\n\nexport const getScore = (state: RootAppState, question: any) => {\n  if (!question.response.length) return 0;\n  for (let i = 0; i < question.response.length; i++) {\n    const item = question.response[i];\n    if (item.value !== item.shownSelectedValue) {\n      return 0;\n    }\n  }\n\n  return 100;\n};\n","export type TreeOfContentState = {\n    isExpanded: boolean;\n}\n\nexport enum ActionTypes {\n    TOC_TOGGLE_VISIBILITY = 'TOC_TOGGLE_VISIBILITY'\n}\n\ntype ToggleTOCVisibility = {\n    type: ActionTypes.TOC_TOGGLE_VISIBILITY\n}\n\nexport type TOCActionTypes = ToggleTOCVisibility;\n","import { css } from 'styled-components';\nimport { loadFontsFromGoogle } from 'core/fonts/loader';\n\nexport const loadReviewFont = async () => {\n  await loadFontsFromGoogle({\n    fontFamily: 'Open Sans',\n    fontWeight: [400, 600]\n  });\n};\n\nexport const reviewFontText = css`\n  font-family: 'Open Sans';\n  font-size: 11px;\n  line-height: 11px;\n  color: #42515f;\n`;\n\nexport default reviewFontText;\n","const getImageResizeUrl = (url: any, width: any, height: any, scaleBySmallerSide = true) =>\n  `${url}?height=${height}&amp;width=${width}&amp;scaleBySmallerSide=${scaleBySmallerSide}`;\n\nexport default getImageResizeUrl;\n","import {\n  DEFAULT_AUTH_URL,\n  DEFAULT_LEARN_URL\n} from 'constants/progressStorage';\nimport getImageResizeUrl from 'components/mixins/images';\nimport { RootAppState } from 'store/types';\n\nexport const getFonts = (state: RootAppState) =>\n  state.settings.template && state.settings.template.fonts;\n\nexport const getColors = (state: RootAppState) =>\n  state.settings.template.branding && state.settings.template.branding.colors;\nexport const getLogo = (state: RootAppState) =>\n  state.settings.template && getImageResizeUrl(state.settings.template.branding.mainLogo, 400, 160);\n\nexport const getAlternativeLogo = (state: RootAppState) =>\n  state.settings.template &&\n  getImageResizeUrl(state.settings.template.branding.alternativeLogo, 720, 400);\n\nexport const isMainLogoShown = (state: RootAppState) =>\n  state.settings.template && state.settings.template.branding.allowToShowMainLogo;\n\nexport const getBackground = (state: RootAppState) =>\n  state.settings.template && state.settings.template.background;\n\nexport const getTranslations = (state: RootAppState) => state.settings.translations;\n\nexport const isResultsTrackingEnabled = (state: RootAppState) =>\n  state.settings.template.results && state.settings.template.results.resultsTracking.enabled;\n\nexport const getXapiSettings = (state: RootAppState) =>\n  state.settings.template && state.settings.template.results.xApi;\n\nexport const isScoringOfContentPagesAllowed = (state: RootAppState) =>\n  state.settings.template.results.allowScoringOfContentPages.enabled;\n\nexport const getPublishSettings = (state: RootAppState) =>\n  state.settings.template && state.settings.publish;\n\nexport const getAuthoringToolUrl = (state: RootAppState) =>\n  state.settings.publish.hasOwnProperty('authoringToolUrl') &&\n  state.settings.publish.authoringToolUrl;\n\nexport const isCrossDeviceSavingEnabled = (state: RootAppState) =>\n  state.settings.template.general &&\n  state.settings.template.general.saveProgressCrossDevice.enabled;\n\nexport const isNpsEnabled = (state: RootAppState) =>\n  state.settings.template.general &&\n  state.settings.template.general.conductLearnerSatisfactionSurvey.enabled;\n\nexport const isAccessLimited = (state: RootAppState) =>\n  (state.settings.publish &&\n    state.settings.publish.accessLimitation &&\n    state.settings.publish.accessLimitation.enabled) ||\n  false;\n\nexport const isAllowToSkipTrackingAndTracingEnabled = (state: RootAppState) =>\n  state.settings.template.results.allowUserToSkipTrackingAndTracing.enabled;\n\nexport const isTrackingEnabled = (state: RootAppState) =>\n  isCrossDeviceSavingEnabled(state) ||\n  isResultsTrackingEnabled(state) ||\n  isNpsEnabled(state) ||\n  isAccessLimited(state);\n\nexport const isLoginViaSocialMediaEnabled = (state: RootAppState) =>\n  state.settings.template && state.settings.template.general.loginViaSocialMedia.enabled;\n\nexport const isScormMode = (state: RootAppState) =>\n  state.settings.template && state.settings.publishMode && state.settings.publishMode.isScorm;\nexport const isScorm2004Mode = (state: RootAppState) =>\n  state.settings.template && state.settings.publishMode && state.settings.publishMode.isScorm2004;\nexport const isPreviewMode = (state: RootAppState) =>\n  state.settings.template && state.settings.publishMode && state.settings.publishMode.isPreview;\nexport const isReviewMode = (state: RootAppState) =>\n  state.settings.template && state.settings.publishMode && state.settings.publishMode.isReview;\nexport const isPublishMode = (state: RootAppState) =>\n  !(isScormMode(state) || isPreviewMode(state) || isReviewMode(state));\n\nexport const getAuthServiceUrl = (state: RootAppState) =>\n  state.settings.publish && state.settings.publish.authServiceUrl\n    ? `${state.settings.publish.authServiceUrl}`\n    : DEFAULT_AUTH_URL;\n\nexport const getLearnServiceUrl = (state: RootAppState) =>\n  state.settings.publish && state.settings.publish.learnServiceUrl\n    ? `${state.settings.publish.learnServiceUrl}`\n    : DEFAULT_LEARN_URL;\n\nexport const getAllowedUsers = (state: RootAppState) =>\n  isAccessLimited(state) ? state.settings.publish.accessLimitation.allowedUsers : [];\n\nexport const getQuestionShortIds = (state: RootAppState) =>\n  isScormMode(state) ? state.settings.publish.questionShortIds : [];\n\nexport const getSelectedLanguage = (state: RootAppState) =>\n  state.settings.template.languages.selected;\n\nexport const isAllowedDownloadCertificate = (state: RootAppState) =>\n  state.settings.template &&\n  state.settings.template.general.allowUsersToDownloadCertificates.enabled;\n\nexport const isOverallMasteryScore = (state: RootAppState) =>\n  state.settings.template && state.settings.template.results.masteryScore.isOverall;\n\nexport const getMasteryScoreValue = (state: RootAppState) =>\n  state.settings.template && state.settings.template.results.masteryScore.score;\n","export * from './screenResolutions';\n/* eslint-disable no-useless-escape */\nexport const imageResizerQueryPattern = /\\?width=\\d+\\&height=\\d+&scaleBySmallerSide=\\w+/;\nexport const supportedBgSizes = {\n  contain: 'contain',\n  cover: 'cover',\n  initial: 'initial'\n};\nexport const CONTENT_TYPES = {\n  JSON: 'application/json'\n};\n\nexport const DEFAULT_LANGUAGE_CODE = 'en';\nexport const CUSTOM_LANGUAGE_CODE = 'xx';\nexport const NO_SELECTED_ID = 'no-selected-elements';\nexport const IMAGE_DEFAULT_DOMAIN = 'easygenerator.com';\n\nexport const maxCountTocNavigationElements = 8;\nexport const minCountTocNavigationElements = 5;\n\nexport const defaultBoxShadowColor = '#000';\n\nexport const MASTERY_SCORE = 50;\n\nexport const LTI_CALLBACK_URL_PARAMETER_NAME = 'ltiResultCallbackUrl';\n\nexport const FONT_WEIGHTS = ['300', '600'];\n\nexport const SECONDARY_FONT_KEY = 'secondary-font';\n\nexport const MEDIA_FONT_SIZES = {\n  heading1: {\n    MAXIMUM_VALUE: 36,\n    MULTIPLIER: 0.94\n  },\n  heading2: {\n    MAXIMUM_VALUE: 30,\n    MULTIPLIER: 0.93\n  },\n  heading3: {\n    MAXIMUM_VALUE: 26,\n    MULTIPLIER: 0.91\n  },\n  heading4: {\n    MAXIMUM_VALUE: 24,\n    MULTIPLIER: 0.9\n  },\n  paragraph: {\n    MAXIMUM_VALUE: 22,\n    MULTIPLIER: 1\n  },\n  quote: {\n    MAXIMUM_VALUE: 24,\n    MULTIPLIER: 0.92\n  }\n};\n","import eventEmitter from 'core/events/eventEmitter';\n\nexport default abstract class BaseEventHandler {\n  abstract handlers: any[];\n\n  on() {\n    this.handlers.forEach((handler: any) => eventEmitter.on(handler.event, handler.instance));\n  }\n\n  off() {\n    this.handlers.forEach((handler: any) => eventEmitter.off(handler.event, handler.instance));\n  }\n}\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\n\nexport const ListCounter = styled.ul`\n  line-height: 42px;\n  padding-right: 20px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.2)};\n`;\n\ntype ListCounterItemProps = {\n  lineHeight: number;\n}\nexport const ListCounterItem = styled.li<ListCounterItemProps>`\n  margin-bottom: 8px;\n  transition: 0.3s;\n\n  line-height: ${props => props.lineHeight}px !important;\n`;\n","import * as React from 'react';\nimport { ListCounter, ListCounterItem } from './NumericList.styled';\n\ntype NumericListProps = {\n  items: any[];\n}\nexport class NumericList extends React.Component<NumericListProps, {}> {\n  render() {\n    const { items } = this.props;\n    return (\n      <ListCounter>\n        {items.map((item: any, index: any) => (\n          <ListCounterItem key={index} lineHeight={item}>\n            {index + 1}\n          </ListCounterItem>\n        ))}\n      </ListCounter>\n    );\n  }\n}\n\nexport default NumericList;\n","export { default } from './NumericList';\n","import styled from 'styled-components';\nimport Icon from 'components/common/Icon';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\n\nexport const BottomLine = styled.div`\n  width: 60%;\n  height: 2px;\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.08)};\n  margin: 160px auto 0;\n  ${media.mobile`\n  margin: 80px auto 80px;\n  `};\n`;\n\ntype PopupWrapperProps = {\n  ariaModal: any;\n  role: string;\n  tabIndex: number;\n}\nexport const PopupWrapper = styled.div.attrs((props: PopupWrapperProps) => ({\n  'aria-modal': props.ariaModal,\n  'aria-label': props.ariaModal,\n  tabIndex: props.tabIndex,\n  role: props.role\n})) <PopupWrapperProps>`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 20px;\n  background: ${props => transparentize(props.theme.colors.contentBodyColor, 0.98)};\n  z-index: 200;\n  overflow: auto;\n`;\n\nexport const PopupContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-height: max-content;\n  height: 100%;\n`;\n\ntype PopupOverlayProps = {\n  tabIndex: number;\n  role: string;\n}\nexport const PopupOverlay = styled.div.attrs((props: PopupOverlayProps) => ({\n  tabIndex: props.tabIndex,\n  role: props.role\n})) <PopupOverlayProps>`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\ntype CloseBtnWrapperProps = {\n  tabIndex: number;\n  ariaLabel: string;\n}\nexport const CloseBtnWrapper = styled.button.attrs((props: CloseBtnWrapperProps) => ({\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel\n})) <CloseBtnWrapperProps>`\n  ${buttonDefaultStyle};\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  color: ${props => transparentize(props.theme.colors.textColor)};\n  text-align: center;\n  opacity: 0.4;\n  transition: opacity 0.2s linear;\n  cursor: pointer;\n  z-index: 2;\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n\ntype CloseBtnIconProps = {\n  size: number;\n  name: string;\n}\nexport const CloseBtnIcon = styled(Icon) <CloseBtnIconProps>`\n  color: ${props => transparentize(props.theme.colors.textColor)};\n`;\n\nexport const CloseBtnText = styled(Icon)`\n  display: block;\n  color: ${props => transparentize(props.theme.colors.textColor)};\n  padding-top: 6px;\n  ${media.medium`\n    display: none;\n  `};\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport * as actions from 'store/popup/actions';\nimport { getPopupSettings } from 'store/popup/selectors';\nimport { localize } from 'core/localization';\nimport {\n  PopupWrapper,\n  PopupContent,\n  PopupOverlay,\n  CloseBtnWrapper,\n  CloseBtnIcon,\n  CloseBtnText,\n  BottomLine\n} from './Popup.styled';\nimport { RootAppState } from 'store/types';\n\ntype PopupContainerProps = {\n  popupSettings: { [key: string]: any };\n  actions: { [key: string]: any };\n};\nexport class PopupContainer extends React.Component<PopupContainerProps, {}> {\n  containerElement: any;\n  focusedElementBeforeDialogOpened: any;\n  constructor(props: PopupContainerProps) {\n    super(props);\n    this.containerElement = React.createRef();\n    this.focusedElementBeforeDialogOpened = null;\n  }\n\n  handleKeyDown = (evt: any) => {\n    const { disablePopupClosing } = this.props.popupSettings;\n    if (!disablePopupClosing && (evt.key === 'Escape' || evt.keyCode === 27)) {\n      this.closePopup();\n    }\n  };\n\n  componentDidMount() {\n    this.focusedElementBeforeDialogOpened = document.activeElement;\n\n    const { popupId } = this.props.popupSettings;\n\n    const element = document.getElementById(popupId);\n    if (element) {\n      setTimeout(() => element.focus(), 0);\n    }\n\n    window.addEventListener('keyup', this.preventActions);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keyup', this.preventActions);\n  }\n\n  preventActions = (event: any) => {\n    if (event.key === 'Tab' || event.keyCode === 9) {\n      const popupContainer: any = document.getElementById(this.props.popupSettings.popupId);\n      const isElementInPopup = popupContainer.contains(event.target);\n      if (!isElementInPopup) {\n        popupContainer.focus();\n      }\n    }\n  };\n\n  closePopup = () => {\n    this.props.actions.closePopup();\n    if (this.focusedElementBeforeDialogOpened) {\n      this.focusedElementBeforeDialogOpened.focus();\n    }\n  };\n\n  render() {\n    const {\n      popupId,\n      popupAriaLabelKey,\n      disablePopupClosing,\n      enableClosePopupByTap,\n      disableBottomLine,\n      component: ComponentToRender\n    } = this.props.popupSettings;\n    return (\n      <PopupWrapper\n        ref={this.containerElement}\n        id={popupId}\n        role=\"dialog\"\n        ariaModal={true}\n        aria-label={localize(popupAriaLabelKey)}\n        tabIndex={-1}\n        onKeyDown={event => this.handleKeyDown(event)}\n      >\n        {disablePopupClosing && enableClosePopupByTap && (\n          <PopupOverlay role=\"presentation\" tabIndex={-1} onClick={() => this.closePopup()} />\n        )}\n        <PopupContent>\n          {!disablePopupClosing && (\n            <CloseBtnWrapper\n              tabIndex={1}\n              ariaLabel={localize('[close popup]')}\n              onClick={() => this.closePopup()}\n            >\n              <CloseBtnIcon size={30} name=\"close-popup\" />\n              <CloseBtnText size={9} name=\"esc\" />\n            </CloseBtnWrapper>\n          )}\n          <ComponentToRender {...this.props} closePopup={this.closePopup} />\n          {!disableBottomLine && <BottomLine />}\n        </PopupContent>\n      </PopupWrapper>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    popupSettings: getPopupSettings(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(actions, dispatch) };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PopupContainer);\n","export { default } from './Popup';\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { LINK } from 'constants/components';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { secondaryFont } from 'components/mixins/typography';\n\ntype LinkElementProps = {\n  'data-test': string;\n  href: string;\n  layout: string;\n  size: number;\n  theme: any;\n}\n\nconst LinkElement = styled.a.attrs((props: LinkElementProps) => ({\n  href: props.href,\n  'data-test': props['data-test']\n}))`\n  ${buttonDefaultStyle};\n  text-decoration: underline;\n  padding: 0;\n  &:focus {\n    outline: none;\n  }\n  ${(props: LinkElementProps) =>\n    props.layout === LINK.LAYOUT.FORM &&\n    css`\n      ${secondaryFont};\n      color: ${transparentize(props.theme.colors.textColor, 0.4)};\n      font-weight: normal;\n      font-size: ${props.size}px;\n      &:hover,\n      &:focus {\n        color: ${props.theme.colors.textColor};\n      }\n    `};\n  ${props =>\n    props.layout === LINK.LAYOUT.DEFAULT &&\n    css`\n      color: ${props.theme.colors.textColor};\n    `};\n`;\n\nexport default LinkElement;\n","import * as React from 'react';\nimport { LINK } from 'constants/components';\nimport { SECTIONS_PATH } from 'constants/navigation';\nimport LinkElement from './Link.styled';\n\nexport interface LinkProps {\n  text?: string;\n  size?: number;\n  layout?: string;\n  onClick(): void;\n  onBlur?(): void;\n  href?: string;\n}\n\nexport const Link = (props: LinkProps) => {\n  const { onClick, onBlur, text, layout = LINK.LAYOUT.DEFAULT, href = `#${SECTIONS_PATH}`, size = 13, ...restProps } = props;\n  return (\n    <LinkElement\n      onClick={(event: any) => {\n        event.preventDefault();\n        onClick();\n      }}\n      onKeyPress={(event: any) => {\n        event.preventDefault();\n        onClick();\n      }}\n      layout={layout}\n      href={href}\n      size={size}\n      {...restProps}\n    >\n      {text}\n    </LinkElement>\n  );\n};\n\nexport default Link;\n","export { default } from './Link';\n","import styled, { css } from 'styled-components';\nimport Icon from 'components/common/Icon';\nimport { transparentize } from 'utils/color';\nimport * as typography from 'components/mixins/typography';\nimport { centerAbsoluteElement } from 'components/mixins/placement';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nexport const ArrowIcon = styled(Icon)`\n  color: ${props => props.theme.colors.mainColor};\n  position: absolute;\n  ${centerAbsoluteElement};\n`;\n\ntype DroppableItemStyleProps = {\n  isMultipleList: boolean;\n  isDragging: boolean;\n  isPlaceholderVisible: boolean;\n}\nexport const DroppableItemStyle = styled.div.attrs({\n  'data-test': 'draggable-item'\n})<DroppableItemStyleProps>`\n  padding: 5px 30px 5px 40px;\n  userselect: 'none';\n  margin: 0 0 8px 0;\n  position: relative;\n  border-radius: 2px;\n  color: ${props => props.theme.colors.textColor};\n  width: 100%;\n  cursor: move;\n  user-select: none;\n  transform: ${props => (props.isMultipleList && !props.isDragging ? 'none !important' : '')};\n  ${props => (props.isMultipleList ? 'vertical-align: middle;' : '')};\n\n  &:before {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 15px;\n    width: 12px;\n    height: 2px;\n    border-top: 2px solid ${props => transparentize(props.theme.colors.textColor, 0.2)};\n    border-bottom: 2px solid ${props => transparentize(props.theme.colors.textColor, 0.2)};\n    margin-top: -3px;\n    transition: 0.2s;\n  }\n\n  &:hover {\n    box-shadow: 0 1px 4px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n\n    &:before {\n      border-color: ${props => props.theme.colors.mainColor};\n    }\n  }\n\n  ${props =>\n    props.isDragging\n      ? css`\n          background: ${props.theme.colors.contentBodyColor};\n          box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n\n          &:before {\n            border-color: ${props.theme.colors.mainColor};\n          }\n\n          & + div {\n            background: ${props.isPlaceholderVisible\n              ? transparentize(props.theme.colors.textColor, 0.02)\n              : 'transparent'};\n            border-radius: 2px;\n            vertical-align: middle;\n            ${props.isMultipleList ? 'vertical-align: middle;' : ''};\n          }\n        `\n      : css`\n          background: ${transparentize(props.theme.colors.textColor, 0.06)};\n        `};\n`;\n\nexport const DroppableListStyle = styled.div.attrs({\n  'data-test': 'droppable-area'\n})`\n  width: 100%;\n`;\n\ntype DroppableItemWrapperProps = {\n  isMultipleList: boolean;\n  isAreaEmpty: boolean;\n  position: any;\n  isImageLoaded: boolean;\n  isDropDisabled: boolean;\n  width: number;\n  widthInvisible: number;\n}\nexport const DroppableItemWrapper = styled.div<DroppableItemWrapperProps>`\n  display: flex;\n  align-items: center;\n  font-weight: bold;\n  ${typography.secondaryFontText};\n\n  ${props =>\n    props.isMultipleList &&\n    css`\n      ${DroppableListStyle} {\n        min-height: 40px;\n        margin-bottom: 15px;\n        width: 100%;\n\n        & + div {\n          display: none !important;\n        }\n\n        ${props.isAreaEmpty &&\n          css`\n            & {\n              margin-bottom: 30px;\n              background-color: ${transparentize(props.theme.colors.textColor, 0.04)};\n            }\n\n            &::after {\n              display: block;\n              content: attr(data-area-empty-text);\n              ${typography.secondaryFont}\n              font-weight: normal;\n              font-size: 14px;\n              text-align: center;\n              line-height: 40px;\n              color: ${transparentize(props.theme.colors.textColor, 0.4)};\n            }\n          `}\n      }\n\n      ${DroppableItemStyle} {\n        padding: 0;\n        white-space: nowrap;\n        display: inline-block;\n        width: auto !important;\n        margin-right: 15px;\n        margin-bottom: 15px;\n        max-width: 360px;\n\n        & > div {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          line-height: 1.5;\n          padding: 9px 30px 8px 40px;\n        }\n      }\n    `};\n  ${props =>\n    props.position &&\n    css`\n      position: absolute;\n      top: ${props.position.y}%;\n      left: ${props.position.x}%;\n      min-width: ${props.isDropDisabled ? '44' : props.width}px;\n      background: ${transparentize(props.theme.colors.contentBodyColor, 0.9)};\n      box-shadow: inset 0 2px 0 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n      border-radius: 2px;\n      transition: 0.3s;\n      transform: ${!props.isImageLoaded ? 'scale(0)' : ''};\n      opacity: ${!props.isImageLoaded ? '0.8' : '1'};\n\n      ${!props.isDropDisabled &&\n        css`\n          &:after {\n            content: '0';\n            display: block;\n            ${typography.secondaryFontText};\n            line-height: 1.5;\n            padding: 9px 0 8px;\n            color: transparent;\n          }\n        `}\n\n      &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: ${props.width === 44\n          ? 'transparent'\n          : transparentize(props.theme.colors.mainColor, 0.25)};\n        transition: 0.3s;\n      }\n\n      & > div {\n        top: 0;\n        ${props.isDropDisabled ? '' : 'position: absolute'};\n        transition: 0.3s;\n        min-width: ${props.isDropDisabled ? '44' : props.widthInvisible}px;\n        height: 100%;\n\n        & + div {\n          display: none !important;\n        }\n      }\n\n      & ${DroppableItemStyle} {\n        background: ${props.theme.colors.contentBodyColor};\n        margin-bottom: 0;\n        box-shadow: 0 1px 3px 0 ${transparentize(defaultBoxShadowColor, 0.04)};\n      }\n    `};\n`;\n\ntype ImageWrapperProps = {\n  isImageLoaded?: boolean;\n  isImageNotFound?: boolean;\n}\nexport const ImageWrapper = styled.div.attrs({\n  'data-test': 'image-wrapper'\n})<ImageWrapperProps>`\n  position: relative;\n  display: inline-block;\n  height: ${props => (props.isImageLoaded ? 'auto' : '182px')};\n  width: max-content;\n  max-width: 100%;\n  background: ${props =>\n    props.isImageNotFound || !props.isImageLoaded\n      ? transparentize(props.theme.colors.textColor, 0.02)\n      : 'transparent'};\n  padding: ${props => (props.isImageNotFound ? '16px 0' : '0')};\n\n  ${DroppableListStyle} {\n    min-height: auto;\n    margin-right: 0;\n    margin-bottom: 0;\n  }\n\n  ${DroppableItemStyle} {\n    margin-right: 0;\n  }\n\n  img {\n    display: block;\n    opacity: ${props => (props.isImageLoaded ? '1' : '0')};\n    max-width: 100%;\n    margin: ${props => (props.isImageNotFound ? '0 auto' : '0')};\n  }\n`;\n","import * as React from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { localize } from 'core/localization';\nimport NumericList from 'components/common/NumericList';\nimport { NO_SELECTED_ID } from 'constants/common';\nimport CircleLoader from 'components/common/CircleLoader';\nimport {\n  DroppableListStyle,\n  DroppableItemStyle,\n  DroppableItemWrapper,\n  ArrowIcon,\n  ImageWrapper\n} from './DragDrop.styled';\n\nconst DROPPABLE_WIDTH = 44;\n\ntype DragDropProps = {\n  id: string;\n  listsOfItems: any[];\n  moveItem(arg1: any, arg2: any, arg3: any): void;\n  isMultipleList: boolean;\n  actions?: { [key: string]: any };\n  imageUrl?: string;\n  getDragActions?(): void;\n  background?: string;\n  setPositionDependingImageScale?(): void;\n  handleImageLoaded?(arg1: any, arg2: any): void;\n  isImageLoaded?: boolean;\n  isImageNotFound?: boolean;\n};\n\ntype DragDropState = {\n  listsOfItems: any;\n  isPlaceholderVisible: boolean;\n  numericListHeights: any[],\n  droppableWidth: any;\n  droppableWidthInvisible: any;\n}\nexport class DragDrop extends React.Component<DragDropProps, DragDropState> {\n  customRefs: any;\n  imageRefs: any;\n\n  constructor(props: DragDropProps) {\n    super(props);\n    this.customRefs = {};\n    this.imageRefs = {};\n    this.state = {\n      listsOfItems: props.listsOfItems,\n      isPlaceholderVisible: true,\n      numericListHeights: [],\n      droppableWidth: DROPPABLE_WIDTH,\n      droppableWidthInvisible: DROPPABLE_WIDTH\n    };\n\n    if (!props.isMultipleList) {\n      props.moveItem(this.state.listsOfItems[0].items, props.listsOfItems[0].id, props.actions);\n    } else {\n      props.moveItem(this.state.listsOfItems, props.id, props.actions);\n    }\n  }\n\n  move = (source: any, destination: any, droppableSource: any, droppableDestination: any) => {\n    const { listsOfItems } = this.state;\n    const result: any[] = Array.from(listsOfItems);\n\n    const [removed] = source.splice(droppableSource.index, 1);\n\n    destination.splice(droppableDestination.index, 0, removed);\n\n    listsOfItems.forEach((element: any, index: any) => {\n      if (droppableSource.droppableId === element.id) {\n        result[index].items = source;\n      }\n\n      if (droppableDestination.droppableId === element.id) {\n        result[index].items = destination;\n      }\n\n      if (result[index].items.length && result[index].id !== NO_SELECTED_ID) {\n        result[index].isDropDisabled = true;\n      }\n    });\n\n    return result;\n  };\n\n  reorder = (list: any, startIndex: any, endIndex: any) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n\n    return result;\n  };\n\n  getItemStyle = (draggableStyle: any) => ({\n    // styles we need to apply on draggables\n    ...draggableStyle\n  });\n\n  getList = (listId: any) => {\n    const { listsOfItems } = this.state;\n    const list = listsOfItems.find((element: any) => element.id === listId);\n    return list.items;\n  };\n\n  setDisableDroppableArea = (droppableId: any) => {\n    const { listsOfItems } = this.state;\n    const results: any[] = Array.from(listsOfItems);\n    listsOfItems.forEach((element: any, index: any) => {\n      if (results[index].id === droppableId && droppableId !== NO_SELECTED_ID) {\n        results[index].isDropDisabled = true;\n      }\n    });\n    this.setState({\n      listsOfItems: results\n    });\n  };\n\n  reorderElementsPosition = (result: any) => {\n    const { listsOfItems } = this.state;\n    const { destination, source } = result;\n    listsOfItems.forEach((element: any) => {\n      if (destination.droppableId === element.id) {\n        const reorderedItems = this.reorder(element.items, source.index, destination.index);\n        element.items = reorderedItems;\n        this.props.moveItem(reorderedItems, this.props.id, this.props.actions);\n      }\n    });\n    this.setState({\n      listsOfItems,\n      isPlaceholderVisible: true\n    });\n  };\n\n  moveElementsBetweenLists = (source: any, destination: any) => {\n    const results = this.move(\n      this.getList(source.droppableId),\n      this.getList(destination.droppableId),\n      source,\n      destination\n    );\n\n    this.setState({\n      listsOfItems: results\n    });\n\n    this.props.moveItem(this.state.listsOfItems, this.props.id, this.props.actions);\n  };\n\n  onDragEnd = (result: any) => {\n    // dropped outside the list\n    const { isMultipleList } = this.props;\n    const { destination, source } = result;\n    this.setState({\n      droppableWidth: DROPPABLE_WIDTH\n    });\n    if (!destination) {\n      if (isMultipleList) {\n        this.setDisableDroppableArea(source.droppableId);\n      }\n      return;\n    }\n    if (source.droppableId === destination.droppableId) {\n      if (!isMultipleList) {\n        this.reorderElementsPosition(result);\n      }\n    } else {\n      this.moveElementsBetweenLists(source, destination);\n    }\n  };\n\n  onDragUpdate = (result: any) => {\n    const { destination, source } = result;\n\n    this.setState({\n      isPlaceholderVisible: !destination || destination.index === source.index\n    });\n\n    if (!this.props.isMultipleList) {\n      this.setNumericListHeights(destination, source);\n    }\n  };\n\n  onDragStart = (result: any) => {\n    const { source } = result;\n    const resultArr: any[] = Array.from(this.state.listsOfItems);\n\n    resultArr.forEach((list: any, index: any) => {\n      if (list.id === source.droppableId) {\n        resultArr[index].isDropDisabled = false;\n      }\n    });\n\n    this.setState({\n      listsOfItems: resultArr,\n      droppableWidth: this.customRefs[result.draggableId].offsetWidth\n    });\n  };\n\n  setDraggableWidth = (itemId: any) => {\n    if (this.customRefs[itemId]) {\n      this.setState({\n        droppableWidthInvisible: this.customRefs[itemId].offsetWidth\n      });\n    }\n  };\n\n  setNumericListHeights(destination: any, source?: any) {\n    const { listsOfItems } = this.state;\n    const draggableList = listsOfItems[0].items.slice();\n    let reorderedItems: any[] = [];\n    const numericListHeights: any[] = [];\n    if (!destination) {\n      reorderedItems = draggableList;\n    } else {\n      reorderedItems = this.reorder(draggableList, source.index, destination.index);\n    }\n\n    reorderedItems.forEach(item => {\n      numericListHeights.push(this.customRefs[item.id].offsetHeight + 10);\n    });\n    this.setState({\n      numericListHeights\n    });\n  }\n\n  setRef(itemId: any, ref: any, refsArray: any) {\n    refsArray[itemId] = ref;\n  }\n\n  componentDidUpdate() {\n    if (!this.state.numericListHeights.length && !this.props.isMultipleList) {\n      this.setNumericListHeights(false);\n    }\n  }\n\n  render() {\n    const {\n      listsOfItems,\n      isPlaceholderVisible,\n      numericListHeights,\n      droppableWidth,\n      droppableWidthInvisible\n    } = this.state;\n    const { isMultipleList, background = '', isImageLoaded = false, isImageNotFound = false } = this.props;\n    const listsOfItemsArr = Array.from(listsOfItems);\n    const nonSelected = listsOfItemsArr.shift();\n    const props = {\n      nonSelected,\n      isMultipleList,\n      droppableWidth,\n      droppableWidthInvisible,\n      isImageLoaded,\n      isImageNotFound,\n      numericListHeights,\n      isPlaceholderVisible\n    };\n    return (\n      <DragDropContext\n        onDragEnd={this.onDragEnd}\n        onDragUpdate={this.onDragUpdate}\n        onDragStart={this.onDragStart}\n      >\n        <div data-test=\"answer-options\">{this.getDroppableElement(nonSelected, props)}</div>\n        {isMultipleList && (\n          <ImageWrapper isImageLoaded={isImageLoaded} isImageNotFound={isImageNotFound}>\n            {!isImageNotFound &&\n              listsOfItemsArr.map(listItem => this.getDroppableElement(listItem, props))}\n            {background && !isImageLoaded && <CircleLoader />}\n            <img\n              src={background}\n              ref={(ref: any) => this.setRef('background', ref, this.imageRefs)}\n              onLoad={() =>\n                this.props.handleImageLoaded && this.props.handleImageLoaded(this.imageRefs.background, this.state.listsOfItems)\n              }\n              alt={localize('[drag and drop question image]')}\n            />\n          </ImageWrapper>\n        )}\n      </DragDropContext>\n    );\n  }\n\n  getDroppableElement(listItem: any, props: any) {\n    return (\n      <Droppable\n        isDropDisabled={listItem.isDropDisabled}\n        key={listItem.id}\n        droppableId={listItem.id}\n        direction={props.isMultipleList ? 'horizontal' : 'vertical'}\n      >\n        {(listProvided: any) => (\n          <DroppableItemWrapper\n            isAreaEmpty={listItem.id === NO_SELECTED_ID && !listItem.items.length}\n            isMultipleList={props.isMultipleList}\n            position={listItem.position}\n            isDropDisabled={listItem.isDropDisabled}\n            width={props.droppableWidth}\n            widthInvisible={props.droppableWidthInvisible}\n            isImageLoaded={props.isImageLoaded}\n          >\n            {listItem.position && <ArrowIcon size={9} name=\"arrow-down\" />}\n            {!props.isMultipleList && <NumericList items={props.numericListHeights} />}\n            <DroppableListStyle\n              data-area-empty-text={localize('[drag and drop question all texts are placed]')}\n              ref={listProvided.innerRef}\n            >\n              {listItem.items.map((item: any, index: any) => (\n                <Draggable draggableId={item.id} index={index} key={item.id}>\n                  {(provided, snapshot) => (\n                    <DroppableItemStyle\n                      onMouseEnter={() => this.setDraggableWidth(item.id)}\n                      isMultipleList={props.isMultipleList}\n                      isPlaceholderVisible={props.isPlaceholderVisible}\n                      isDragging={snapshot.isDragging}\n                      ref={provided.innerRef}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      style={this.getItemStyle(provided.draggableProps.style)}\n                      tabIndex={1}\n                      title={item.text}\n                    >\n                      <div\n                        ref={ref => this.setRef(item.id, ref, this.customRefs)}\n                        dangerouslySetInnerHTML={{ __html: item.text ? item.text : `&nbsp;` }}\n                      />\n                    </DroppableItemStyle>\n                  )}\n                </Draggable>\n              ))}\n            </DroppableListStyle>\n            {listProvided.placeholder}\n          </DroppableItemWrapper>\n        )}\n      </Droppable>\n    );\n  }\n}\n\nexport default DragDrop;\n","export { default } from './DragDrop';\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport * as typography from 'components/mixins/typography';\nimport media from 'components/mixins/media';\n\nexport default styled.input`\n  min-width: 210px;\n  max-width: 280px;\n  min-height: 40px;\n  padding: 0 20px 0 13px;\n  margin: 0  8px;\n  border: 1px solid transparent;\n  border-radius: 2px;\n  box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.textColor, 0.08)};\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  color: ${props => props.theme.colors.textColor};\n  ${typography.secondaryFontText};\n  white-space: nowrap;\n  word-wrap: normal;\n  outline: none;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-overflow: ellipsis ellipsis; // fix for firefox\n  transition: all 0.1s ease-out;\n  \n  &:hover,\n  &:focus,\n  &:active {\n    box-shadow: inset 0 2px 0 0 ${props => transparentize(props.theme.colors.textColor, 0.05)};\n    border: 1px solid ${props => transparentize(props.theme.colors.mainColor, 0.7)};\n    background-color: ${props => props.theme.colors.contentBodyColor};\n  }\n\n  &::placeholder {\n    color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  }\n\n  ${media.xsmall`\n    max-width: 100%;\n    width: 100%;\n  `};\n}`;\n","import * as React from 'react';\nimport Input from './TextInput.styled';\n\ntype TextInputProps = {\n  name: string,\n  maxLength: number,\n  value: string,\n  tabIndex: number,\n  alt: string,\n  placeholder: string,\n  onChange?(e?: any): void;\n  onBlur?(e?: any): void;\n  disabled: boolean;\n};\n\ntype TextInputState = {\n  value: any;\n}\nexport class TextInput extends React.Component<TextInputProps, TextInputState> {\n\n  constructor(props: TextInputProps) {\n    super(props);\n    this.state = {\n      value: this.props.value\n    };\n  }\n\n  static defaultProps = {\n    alt: 'Input value please',\n    placeholder: 'Type your answer',\n    maxLength: 255\n  };\n\n  onChangeHandler = (event: any) => {\n    this.setState({ value: event.target.value });\n  };\n\n  componentDidUpdate(prevProps: TextInputProps) {\n    if (this.props.value !== prevProps.value) {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  render() {\n    const { maxLength, alt, placeholder, tabIndex, onBlur, name, disabled } = this.props;\n    const { value } = this.state;\n\n    return (\n      <Input\n        key={name}\n        type=\"text\"\n        value={value}\n        tabIndex={tabIndex}\n        placeholder={placeholder}\n        aria-label={placeholder}\n        alt={alt}\n        name={name}\n        maxLength={maxLength}\n        disabled={disabled}\n        onChange={this.onChangeHandler}\n        onBlur={onBlur}\n        title={value || placeholder}\n      />\n    );\n  }\n}\n\nexport default TextInput;\n","export { default } from './TextInput';\n","import { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { MEDIA_FONT_SIZES } from 'constants/common';\nimport media from './media';\n\nconst defaultMainFont = 'PT Serif, Serif';\nconst defaultSecondaryFont = 'Arial, Sans-Serif';\n\nexport const fontFamilyWithFallback = (fontFamily: any, fallback: any) =>\n  `${fontFamily || 'Arial'}, ${fallback}`;\n\nexport const mainFont = css`\n  font-family: ${props =>\n    fontFamilyWithFallback(props.theme.fonts.mainFont.fontFamily, defaultMainFont)};\n`;\n\nexport const secondaryFont = css`\n  font-family: ${props =>\n    fontFamilyWithFallback(props.theme.fonts.secondaryFont.fontFamily, defaultSecondaryFont)};\n`;\n\nconst styledColors = (fontStyles: any, isInverted: any, InvertedColor: any) => css`\n  color: ${isInverted ? InvertedColor : fontStyles.color};\n`;\n\nconst styledFonts = (fontStyles: any) => css`\n  font-family: ${fontFamilyWithFallback(fontStyles.fontFamily, defaultMainFont)};\n  font-size: ${fontStyles.size}px;\n  font-style: ${fontStyles.fontStyle};\n  font-weight: ${fontStyles.fontWeight};\n  text-decoration: ${fontStyles.textDecoration};\n  background-color: ${fontStyles.textBackgroundColor};\n`;\n\nconst mediaFontSize = (fontSize: any, percentage: any, limitSize: any = null) => {\n  let result = fontSize * percentage;\n\n  if (limitSize && result > limitSize) {\n    result = limitSize;\n  }\n\n  return css`\n    font-size: ${result}px;\n  `;\n};\n\nexport const bold = css`\n  font-weight: 600;\n`;\n\nexport const mainFontH1 = css`\n  ${(props: any) => styledFonts(props.theme.fonts.heading1)};\n  line-height: 1.4;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.heading1,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.smallFontRatio`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.heading1.size, MEDIA_FONT_SIZES.heading1.MULTIPLIER)};\n  `}\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.heading1.size,\n      MEDIA_FONT_SIZES.heading1.MULTIPLIER,\n      MEDIA_FONT_SIZES.heading1.MAXIMUM_VALUE\n    )}`}\n`;\n\nexport const mainFontH2 = css`\n  ${(props: any) => styledFonts(props.theme.fonts.heading2)};\n  line-height: 1.4;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.heading2,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.heading2.size, MEDIA_FONT_SIZES.heading2.MULTIPLIER)};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.heading2.size,\n      MEDIA_FONT_SIZES.heading2.MULTIPLIER,\n      MEDIA_FONT_SIZES.heading2.MAXIMUM_VALUE\n    )}`}\n  `};\n`;\n\nexport const mainFontH3 = css`\n  ${(props: any) => styledFonts(props.theme.fonts.heading3)};\n  line-height: 1.4;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.heading3,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.heading3.size, MEDIA_FONT_SIZES.heading3.MULTIPLIER)};\n  `};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.heading3.size,\n      MEDIA_FONT_SIZES.heading3.MULTIPLIER,\n      MEDIA_FONT_SIZES.heading3.MAXIMUM_VALUE\n    )}`};\n`;\n\nexport const mainFontH4 = css`\n  ${(props: any) => styledFonts(props.theme.fonts.heading4)};\n  line-height: 1.4;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.heading4,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) =>\n      mediaFontSize(props.theme.fonts.heading4.size, MEDIA_FONT_SIZES.heading4.MULTIPLIER)};\n  `};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.heading4.size,\n      MEDIA_FONT_SIZES.heading4.MULTIPLIER,\n      MEDIA_FONT_SIZES.heading4.MAXIMUM_VALUE\n    )}`};\n`;\n\nexport const mainFontText = css`\n  ${mainFont};\n  font-size: 18px;\n  ${bold};\n  line-height: 1.6;\n`;\n\nexport const mainFontSmallText = css`\n  ${mainFont};\n  font-size: 14px;\n  ${bold};\n  line-height: 28px;\n  ${media.xlarge`\n    font-size: 12px;\n  `};\n`;\n\nexport const secondaryFontH1 = css`\n  ${secondaryFont};\n  font-size: 36px;\n  font-weight: 100;\n  line-height: 54px;\n  ${media.mobile`\n    font-size: 32px;\n    line-height: 48px;\n  `};\n`;\n\nexport const secondaryFontText = css`\n  ${(props: any) => styledFonts(props.theme.fonts.normal)};\n  line-height: 1.6;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.normal,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) => mediaFontSize(props.theme.fonts.normal.size, MEDIA_FONT_SIZES.paragraph.MULTIPLIER)};\n  `};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.normal.size,\n      MEDIA_FONT_SIZES.paragraph.MULTIPLIER,\n      MEDIA_FONT_SIZES.paragraph.MAXIMUM_VALUE\n    )}`};\n`;\n\nexport const secondaryFontSmallText = css`\n  ${secondaryFont};\n  font-size: 14px;\n  line-height: 28px;\n  ${media.xlarge`\n    font-size: 12px;\n  `};\n  ${media.mobile`\n    font-size: 11px;\n    line-height: 26px;\n  `};\n`;\n\nexport const quote = css`\n  ${(props: any) => styledFonts(props.theme.fonts.quote)};\n  line-height: 1.6;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.quote,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  ${media.large`\n    ${(props: any) => mediaFontSize(props.theme.fonts.quote.size, MEDIA_FONT_SIZES.quote.MULTIPLIER)};\n  `};\n  ${media.tablet`${(props: any) =>\n    mediaFontSize(\n      props.theme.fonts.quote.size,\n      MEDIA_FONT_SIZES.quote.MULTIPLIER,\n      MEDIA_FONT_SIZES.quote.MAXIMUM_VALUE\n    )}`};\n`;\n\nexport const highlighted = css`\n  ${(props: any) => styledFonts(props.theme.fonts.highlighted)};\n  line-height: 2;\n  ${(props: any) =>\n    styledColors(\n      props.theme.fonts.highlighted,\n      props.inverted,\n      props.theme.colors.coverBgOverlayTextColor\n    )};\n  background-color: ${(props: any) => props.theme.fonts.highlighted.textBackgroundColor};\n  ${media.xlarge`\n    ${(props: any) => mediaFontSize(props.theme.fonts.highlighted.size, 0.88)};\n  `};\n  ${media.mobile`\n    ${(props: any) => mediaFontSize(props.theme.fonts.highlighted.size, 0.82)};\n  `};\n`;\n\nexport const links = css`\n  ${(props: any) => styledFonts(props.theme.fonts.links)};\n  line-height: 2;\n  color: ${(props: any) =>\n    props.inverted\n      ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.7)\n      : transparentize(props.theme.fonts.links.color, 0.7)};\n  ${media.xlarge`\n    ${(props: any) => mediaFontSize(props.theme.fonts.links.size, 1)};\n  `};\n  ${media.medium`\n    ${(props: any) => mediaFontSize(props.theme.fonts.links.size, 0.88)};\n  `};\n\n  &:hover {\n    ${(props: any) =>\n      styledColors(\n        props.theme.fonts.links,\n        props.inverted,\n        props.theme.colors.coverBgOverlayTextColor\n      )};\n  }\n`;\n","export const COURSE_LAUNCHED = 'course:launched';\nexport const COURSE_STARTED = 'course:started';\nexport const COURSE_FINISHED = 'course:finished';\nexport const COURSE_FINALIZED = 'course:finalized';\nexport const COURSE_EVALUATED = 'course:evaluated';\n\nexport const COURSE_PROGRESSED = 'course:progressed';\nexport const COURSE_ATTEMPT_STARTED = 'course:attemptStarted';\nexport const SECTION_PROGRESSED = 'section:progressed';\nexport const QUESTION_ANSWERED = 'question:answered';\nexport const INFORMATION_CONTENT_EXPERIENCED = 'information-content:experienced';\n\nexport const APP_INITIALIZED = 'app:initialized';\nexport const APP_NAVIGATED = 'app:navigated';\n\nexport const RESET_QUESTION_PROGRESS = 'progress:resetQuestionProgress';\n\nexport const USER_AUTHENTICATED = 'user:authenticated';\nexport const USER_LOGOUT = 'user:logout';\n\nexport const REVIEW_INITIALIZED = 'review:initialized';\nexport const COMMENT_SENT = 'review:comment-sent';\nexport const REVIEWER_AUTHORIZED = 'review:reviewer-authorized';\nexport const REVIEW_RESTORE_USER = 'review:review-restore-user';\n","export enum ActionTypes {\n    NAVIGATED_INSIDE_THE_APP = 'NAVIGATED_INSIDE_THE_APP'\n}\n\ntype NavigatedInsideApp = {\n    type: ActionTypes.NAVIGATED_INSIDE_THE_APP,\n    payload: {\n        prevUrl: string,\n        currentUrl: string\n    }\n}\n\nexport type NavigationActionTypes = NavigatedInsideApp;\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n\n  return question.answers.map((answer: any) => {\n    const responseAnswer = question.response.find((r: any) => r.id === answer.id);\n    return {\n      id: answer.id,\n      isCorrect: answer.isCorrect,\n      text: answer.text,\n      userSelected: !!responseAnswer, // Fix for undefined\n      isTrue: responseAnswer ? responseAnswer.isCorrect : false\n    };\n  });\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const originalAnswers = question.answers.map((answer: any) => ({\n    id: answer.id,\n    isCorrect: answer.isCorrect\n  }));\n  const userAnswers = question.response.map((answer: any) => ({\n    id: answer.id,\n    isCorrect: answer.isCorrect\n  }));\n\n  originalAnswers.sort(compare);\n  userAnswers.sort(compare);\n\n  if (JSON.stringify(originalAnswers) === JSON.stringify(userAnswers)) {\n    return 100;\n  }\n  return 0;\n};\n\nfunction compare(prev: any, next: any) {\n  if (getStringHash(prev.id) > getStringHash(next.id)) {\n    return -1;\n  }\n  return 1;\n}\n\nfunction getStringHash(text: string) {\n  let hash = 0;\n  let chr;\n  if (text.length === 0) {\n    return hash;\n  }\n  for (let index = 0; index < text.length; index++) {\n    chr = text.charCodeAt(index);\n    // eslint-disable-next-line\n    hash = (hash << 5) - hash + chr;\n    // eslint-disable-next-line\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n}\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  let question = getQuestion(state, questionId);\n  const responseAnswer = question.response !== null ? question.response : '';\n  return {\n    id: question.id,\n    answeredText: !responseAnswer ? '' : responseAnswer.answeredText // Fix for undefined\n  };\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const responseAnswer = question.response !== null ? question.response : ' ';\n  if (responseAnswer && responseAnswer.answeredText) {\n    return responseAnswer.answeredText.trim() ? 100 : 0;\n  }\n  return 0;\n};\n","import { getQuestion } from 'store/questions/selectors';\nimport { objectToArray } from 'utils/object';\nimport { RootAppState } from '../../types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  const questionContent = objectToArray(state.contents).find(\n    content => content.id === question.questionContent[0]\n  );\n  const userAnswers: {[key: string]: any} = {};\n  const responseAnswer = question.response !== null ? question.response : [];\n  question.answerGroups.forEach((answer: any) => {\n    userAnswers[answer.id] =\n      responseAnswer && responseAnswer.data ? responseAnswer.data[answer.id] : '';\n  });\n  return {\n    id: question.id,\n    questionContent,\n    userAnswers\n  };\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const responseAnswer = question.response !== null ? question.response : [];\n  const newAnswer = objectToArray(question.answerGroups).map(group =>\n    responseAnswer.data\n      ? responseAnswer.data.hasOwnProperty(group.id)\n        ? group.answers.find((answer: any) =>\n            answer.matchCase === true\n              ? answer.text === responseAnswer.data[group.id] && answer.isCorrect === true\n              : answer.text.toLowerCase() === responseAnswer.data[group.id].toLowerCase() &&\n                answer.isCorrect === true\n          )\n        : null\n      : 0\n  );\n\n  if (responseAnswer && responseAnswer.data) {\n    if (newAnswer && !newAnswer.includes(undefined)) {\n      return 100;\n    }\n    return 0;\n  }\n  return 0;\n};\n","import { getQuestion } from 'store/questions/selectors';\nimport { RootAppState } from '../../types';\n\nexport const getUserAnswers = (state: RootAppState, questionId: string) => {\n  const question = getQuestion(state, questionId);\n  const responseAnswer = question.response ? question.response : [];\n  return {\n    id: question.id,\n    background: question.background,\n    isMultiple: question.isMultiple,\n    spots: question.spots.map((spot: any) => spot),\n    markers: !responseAnswer.length ? [] : responseAnswer\n  };\n};\n\nexport const getScore = (state: RootAppState, question: any) => {\n  const responseAnswer = question.response !== null ? question.response : [];\n  const answers: any[] = [];\n  const correctMarkers: any[] = [];\n  const { spots } = question;\n\n  if (!question.spots.length) {\n    return 100;\n  }\n\n  if (!responseAnswer.length) {\n    return 0;\n  }\n\n  function markIsInSpot(mark: any, spot: any) {\n    const { x } = mark;\n    const { y } = mark;\n\n    let inside = false;\n    for (let i = 0, j = spot.length - 1; i < spot.length; j = i, i++) {\n      const xi = spot[i].x;\n      const yi = spot[i].y;\n      const xj = spot[j].x;\n      const yj = spot[j].y;\n\n      // eslint-disable-next-line\n      const intersect = yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\n      if (intersect) {\n        inside = !inside;\n      }\n    }\n\n    return inside;\n  }\n\n  for (let i = 0; i < spots.length; i++) {\n    let isMarkerInsideInSpot = false;\n\n    for (let k = 0; k < responseAnswer.length; k++) {\n      if (markIsInSpot(responseAnswer[k], spots[i])) {\n        if (!isMarkerInsideInSpot) {\n          isMarkerInsideInSpot = true;\n          answers.push(true);\n        }\n        correctMarkers.push(responseAnswer[k]);\n      }\n    }\n    if (isMarkerInsideInSpot) {\n      continue;\n    }\n    answers.push(false);\n  }\n\n  if (correctMarkers.length === responseAnswer.length) {\n    if (question.isMultiple && answers.some(element => element === false)) {\n      return 0;\n    }\n    return 100;\n  }\n\n  if (!question.background && !spots.length) {\n    return 100;\n  }\n\n  return 0;\n};\n","export enum ActionTypes {\n    QUESTION_STATEMENT_ANSWER_IS_SELECTED = 'QUESTION_STATEMENT_ANSWER_IS_SELECTED'\n}\n\ntype AnswerIsSelected = {\n    type: ActionTypes.QUESTION_STATEMENT_ANSWER_IS_SELECTED,\n    payload: {\n        questionId: string,\n        answerId: string,\n        isCorrect: boolean\n    }\n}\n\nexport type StatementChoiceActionTypes = AnswerIsSelected;\n","export enum ActionTypes {\n    OPEN_QUESTION_ANSWER_IS_SELECTED = 'OPEN_QUESTION_ANSWER_IS_SELECTED'\n}\n\ntype AnswerIsSelected = {\n    type: ActionTypes.OPEN_QUESTION_ANSWER_IS_SELECTED,\n    payload: {\n        questionId: string,\n        answeredText: string\n    }\n}\n\nexport type OpenQuestionActionTypes = AnswerIsSelected;\n","export enum ActionTypes {\n    QUESTION_RANKING_ANSWERS_ARE_SELECTED = 'QUESTION_RANKING_ANSWERS_ARE_SELECTED'\n}\n\ntype AnswersSelected = {\n    type: ActionTypes.QUESTION_RANKING_ANSWERS_ARE_SELECTED,\n    payload: {\n        answers: any,\n        questionId: string\n    }\n}\n\nexport type RankingTextActionTypes = AnswersSelected;\n","export enum ActionTypes {\n    QUESTION_SCENARIO_BRANCHTRACK_DATA = 'QUESTION_SCENARIO_BRANCHTRACK_DATA'\n}\n\ntype ScenarioBranchTrackData = {\n    type: ActionTypes.QUESTION_SCENARIO_BRANCHTRACK_DATA,\n    payload: {\n        score: number,\n        isFinished: boolean,\n        questionId: string\n    }\n}\n\nexport type ScenarioActionTypes = ScenarioBranchTrackData;\n","export enum ActionTypes {\n    FILL_IN_THE_BLANK_ANSWER = 'FILL_IN_THE_BLANK_ANSWER'\n}\n\ntype QuestionAnswer = {\n    type: ActionTypes.FILL_IN_THE_BLANK_ANSWER,\n    payload: {\n        questionId: string,\n        data: any\n    }\n}\n\nexport type FillInTheBlankActionTypes = QuestionAnswer;\n","export enum ActionTypes {\n    QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED = 'QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED'\n}\n\ntype AnswerSelected = {\n    type: ActionTypes.QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED,\n    payload: {\n        answers: any,\n        questionId: string\n    }\n}\n\nexport type DragAndDropActionTypes = AnswerSelected;\n","export enum ActionTypes {\n    HOTSPOT_QUESTION_ANSWER = 'HOTSPOT_QUESTION_ANSWER'\n}\n\ntype QuestionAnswer = {\n    type: ActionTypes.HOTSPOT_QUESTION_ANSWER,\n    payload: {\n        data: any,\n        questionId: string\n    }\n}\n\nexport type HotspotActionTypes = QuestionAnswer;\n","export enum ActionTypes {\n    QUESTION_MATCHING_ANSWERS_ARE_SELECTED = 'QUESTION_MATCHING_ANSWERS_ARE_SELECTED'\n}\n\ntype AnswersSelected = {\n    type: ActionTypes.QUESTION_MATCHING_ANSWERS_ARE_SELECTED,\n    payload: {\n        answers: any,\n        questionId: string\n    }\n}\n\nexport type TextMatchingActionTypes = AnswersSelected;\n","import { RootAppState } from '../types';\n\nexport const getPopupVisibility = (state: RootAppState) => state.popup.isExpanded;\n\nexport const getPopupSettings = (state: RootAppState) => state.popup.settings;\n","export const INFORMATION_CONTENT = 'informationContent';\nexport const SINGLE_CHOICE = 'singleSelectText';\nexport const MULTIPLE_CHOICE = 'multipleSelect';\nexport const STATEMENT_CHOICE = 'statement';\nexport const SINGLE_CHOICE_IMAGE = 'singleSelectImage';\nexport const OPEN_QUESTION = 'openQuestion';\nexport const RANKING_TEXT = 'rankingText';\nexport const SCENARIO = 'scenario';\nexport const FILL_IN_THE_BLANK = 'fillInTheBlank';\nexport const DRAG_AND_DROP_TEXT = 'dragAndDropText';\nexport const TEXT_MATCHING = 'textMatching';\nexport const HOTSPOT = 'hotspot';\n\nexport default [\n  INFORMATION_CONTENT,\n  SINGLE_CHOICE,\n  MULTIPLE_CHOICE,\n  STATEMENT_CHOICE,\n  SINGLE_CHOICE_IMAGE,\n  OPEN_QUESTION,\n  RANKING_TEXT,\n  SCENARIO,\n  FILL_IN_THE_BLANK,\n  DRAG_AND_DROP_TEXT,\n  TEXT_MATCHING,\n  HOTSPOT\n];\n","import WebFont from 'webfontloader';\nimport resourceLoader from 'core/http/resourceLoader';\nimport { addQueryStringParameter } from 'utils/window';\nimport { FONT_WEIGHTS, SECONDARY_FONT_KEY } from 'constants/common';\n\n/* eslint-disable import/prefer-default-export */\nexport async function loadFonts(fonts: any, customFontPlace: any) {\n  const mappedFonts = mapFonts(fonts, customFontPlace);\n  const webFontConfig = prepareWebFontConfig(mappedFonts);\n  if (Object.keys(webFontConfig).length !== 0 && webFontConfig.constructor === Object) {\n    await makeLoadFontRequest(webFontConfig);\n  }\n}\n\nfunction mapFonts(fonts: any, customFontPlace: any) {\n  const mappedFonts: { [key: string]: any } = {};\n  const presetFonts = fonts.map(mapPresetFont);\n  const templateFonts = getTemplateFont(fonts);\n  const allTemplateFonts = presetFonts.concat(templateFonts);\n  allTemplateFonts.forEach((font: any) => {\n    if (font.place === 'none') {\n      return;\n    }\n    const place = mappedFonts[font.place] || {};\n\n    const samefont = place[font.family] || {\n      variants: [],\n      styles: []\n    };\n\n    const variant = mapVariant(font.variant, font.style);\n\n    if (variant && samefont.variants.indexOf(variant) === -1) {\n      samefont.variants.push(variant);\n    }\n\n    samefont.url = addQueryStringParameter(customFontPlace, 'v', resourceLoader.cacheBuster);\n\n    place[font.family] = samefont;\n    mappedFonts[font.place] = place;\n  });\n\n  return mappedFonts;\n}\n\nfunction prepareWebFontConfig(places: any) {\n  const config: { [key: string]: any } = {};\n\n  for (const place in places) {\n    const families = places[place];\n\n    config[place] = {};\n\n    for (const family in families) {\n      const fontData = families[family];\n      const placeData = config[place];\n\n      placeData.families = placeData.families || [];\n      placeData.urls = placeData.urls || [];\n\n      placeData.families.push(mapFontName(family, fontData));\n\n      if (fontData.url && placeData.urls.indexOf(fontData.url) === -1) {\n        placeData.urls.push(fontData.url);\n      }\n    }\n  }\n\n  return config;\n}\n\nasync function makeLoadFontRequest(config: any) {\n  return new Promise(resolve => {\n    const baseConfig = {\n      ...config,\n      active: resolve,\n      inactive: resolve\n    };\n\n    WebFont.load(baseConfig);\n  });\n}\n\nfunction mapPresetFont(font: any) {\n  return {\n    family: font.fontFamily,\n    place: font.place,\n    variant: font.fontWeight,\n    style: font.fontStyle\n  };\n}\n\nfunction getTemplateFont(fonts: any) {\n  const templateFonts: any[] = [];\n  const secondaryFont = fonts.find((font: any) => font.key === SECONDARY_FONT_KEY);\n  for (const fontWeight of FONT_WEIGHTS) {\n    templateFonts.push({\n      family: secondaryFont.fontFamily,\n      place: secondaryFont.place,\n      variant: fontWeight,\n      style: secondaryFont.fontStyle\n    });\n  }\n  return templateFonts;\n}\n\nfunction mapVariant(variant: any, style: any) {\n  let result = '';\n  if (variant) {\n    if (variant === 'normal') {\n      variant = '400';\n    }\n    result += variant;\n  }\n  if (style && style !== 'normal') {\n    result += style;\n  }\n  return result;\n}\n\nfunction mapFontName(family: any, fontData: any) {\n  const salt = fontData.variants && fontData.variants.length ? `:${fontData.variants.join(',')}` : '';\n  return `${family}${salt}`;\n}\n\nexport async function loadFontsFromGoogle({\n  fontFamily = 'Open Sans',\n  fontWeight = [400],\n  fontVariants = ['normal'],\n  fontLanguages = ['latin', 'cyrillic']\n}) {\n  const fontConfig = `${fontFamily}:${fontWeight.join(',')}${fontVariants.join(\n    ','\n  )}:${fontLanguages.join(',')}`;\n\n  return WebFont.load({\n    google: {\n      families: [fontConfig]\n    }\n  });\n}\n","import { css } from 'styled-components';\n\nexport const TRANSITION_DURATION = '0.2s';\n\nexport const transition = (\n  transitionProperty: any,\n  transitionDuration: string | number = TRANSITION_DURATION,\n  transitionFunction = 'ease-in-out',\n  transitionDelay = 0\n) => css`\n  transition-property: ${transitionProperty};\n  transition-timing-function: ${transitionFunction};\n  transition-duration: ${toTimeString(transitionDuration)};\n  transition-delay: ${toTimeString(transitionDelay)};\n`;\n\nfunction toTimeString(value: string | number) {\n  return typeof value === 'string' ? value : `${value}ms`;\n}\n\nexport const pointerOnHover = () => css`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const bounce = () => `\nanimation: bounce 0.5s linear;\n@keyframes bounce{\n  0%{\n    transform-origin: center center;\n    transform: scale(0, 0) translate(0,0,0);\n  }\n  30%{\n    transform: scale(1.01, 1.01);\n  }\n  45%{\n    transform: scale(0.95, 0.95);\n  }\n  60%{\n    transform: scale(1.01, 1.01);\n  }\n  75%{\n    transform: scale(0.95, 0.95);\n  }\n  100%{\n    transform: scale(1, 1) translate(0,0,0);\n  }\n}`;\n\nexport const crossFade = (animateFrom: string) => {\n  let position = '';\n  if (animateFrom === 'fromTop') {\n    position = '0, -16px';\n  }\n  if (animateFrom === 'fromRight') {\n    position = '16px, 0';\n  }\n  if (animateFrom === 'fromBottom') {\n    position = '0, 16px';\n  }\n  if (animateFrom === 'fromLeft') {\n    position = '-16px, 0';\n  }\n  return `\n  animation: crossFade${animateFrom} 0.2s ease-in-out;\n  @keyframes crossFade${animateFrom}{\n    0%{\n      transform: translate(${position});\n      opacity: 0;\n    }\n    100%{\n      transform: translate(0, 0);\n      opacity: 1;\n    }\n  }`;\n};\n\nexport const shake = (animateFrom: string) => {\n  let position = '';\n  if (animateFrom === 'horizontal') {\n    position = '3px, 0';\n  }\n  if (animateFrom === 'vertical') {\n    position = '0, -3px';\n  }\n  return `\n  animation: shake${animateFrom} 1s infinite ease-in-out;\n  @keyframes shake${animateFrom}{\n    0% {\n      transform: translate(0, 0);\n    }\n    50% {\n      transform: translate(${position});\n    }\n    100% {\n      transform: translate(0, 0);\n    }\n  }\n  `;\n};\n\nexport const pulse = (color: any) => {\n  const start = color.start || 'rgba(255,255,255, 0.5)';\n  const middle = color.middle || 'rgba(255,255,255, 0.3)';\n  const end = color.end || 'rgba(255,255,255, 0.05)';\n  return `\n  animation: pulse 1s infinite;\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 ${start};\n    }\n    50% {\n      box-shadow: 0 0 0 6px ${middle};\n    }\n    100% {\n      box-shadow: 0 0 0 8px ${end};\n    }\n  }\n  `;\n};\n","import Emmitery from 'emittery';\nimport * as eventConstants from './events';\n\nconst eventEmitter = new Emmitery();\nexport default eventEmitter;\n\nexport const events = eventConstants;\n","import { createSelector } from 'reselect';\nimport { getSections, getQuestions, affectsProgress } from 'store/sections/selectors';\nimport { isAccessLimited, getAllowedUsers } from 'store/settings/selectors';\nimport { getEmail, isAnonymous } from 'store/user/selectors';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\n\nimport { RootAppState } from '../types';\n\nexport const getCourseTitle = (state: RootAppState) => state.course.title;\n\nexport const getCourseIntroductions = (state: RootAppState) => state.course.introductions;\n\nexport const getCourse = (state: RootAppState) => state.course;\n\nexport const isPassed = (state: RootAppState) => state.course.isPassed;\n\nexport const getCourseId = (state: RootAppState) => state.course.id;\n\nexport const getTemplateId = (state: RootAppState) => state.course.templateId;\n\nexport const getAttemptId = (state: RootAppState) => state.course.attemptId;\n\nexport const hasBeenContinued = (state: RootAppState) => state.course.hasBeenContinued;\n\nexport const getPreviewQuestionId = (state: RootAppState) => state.course.previewQuestionId;\n\nexport const getCourseStructure = createSelector(\n  (state: RootAppState) => state,\n  (state: RootAppState) => ({\n    title: getCourseTitle(state),\n    sections: getSections(state).map(section => ({\n      title: section.title,\n      id: section.id,\n      isPassed: section.isPassed,\n      score: section.score,\n      learningObjective: section.learningObjective,\n      affectsProgress: affectsProgress(state, section.id),\n      questions: getQuestions(state, section.id).map((question: any) => ({\n        id: question.id,\n        title: question.title,\n        isInformationContent: question.type === INFORMATION_CONTENT,\n        isAnswered: question.isAnswered,\n        isAnsweredCorrectly: question.isAnsweredCorrectly,\n        affectsProgress: question.affectsProgress,\n        isSurvey: question.isSurvey,\n        hasBeenOpened: question.hasBeenOpened,\n        type: question.type\n      }))\n    }))\n  })\n);\n\nexport const getQuestionsStructure = createSelector(\n  (state: RootAppState) => getCourseStructure(state),\n  ({ sections }) => {\n    let questionsSchema: string[] = [];\n\n    sections.forEach(({ questions }) => {\n      questions.forEach(({ id }: {[key: string]: any}) => {\n        questionsSchema.push(id);\n      });\n    });\n\n    return questionsSchema;\n  }\n);\n\nexport const isCourseAccessLimited = (state: RootAppState) => {\n  let email = getEmail(state);\n  return (\n    (!!email || isAnonymous(state)) &&\n    isAccessLimited(state) &&\n    !getAllowedUsers(state).some((item: any) => item.email === email)\n  );\n};\n\nexport const getScore = (state: RootAppState) => state.course.score;\n\nexport const isCertificateDownloaded = (state: RootAppState) => state.course.isCertificateDownloaded;\n\nexport const getPassedAfterwords = (state: RootAppState) => state.course.passedAfterwords;\n\nexport const getFailedAfterwords = (state: RootAppState) => state.course.failedAfterwords;\n\nexport const isFinalized = (state: RootAppState) => state.course.score === 100;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { reviewFontText } from 'components/mixins/reviewTypography';\nimport { transition } from 'components/mixins/interactivity';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport media from 'components/mixins/media';\n\nexport const HintWrapper = styled.div`\n  ${reviewFontText}\n`;\n\nexport const HintContainer = styled.div`\n  display: flex;\n  align-items: center;\n  width: 315px;\n  padding: 19px 17px 17px 21px;\n\n  ${media.mobile`\n    width: 300px;\n  `}\n`;\n\nexport const HintElementsContainer = styled.div`\n  width: 164px;\n  margin-right: 24px;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 1.42;\n  text-align: left;\n`;\n\nexport const HintButton = styled.button`\n  ${buttonDefaultStyle};\n  justify-self: flex-end;\n  max-height: 32px;\n  background: #4caf50;\n  border-radius: 16px;\n  padding: 11px 24px;\n  color: #fff;\n  font-size: 11px;\n  line-height: 11px;\n  cursor: pointer;\n  box-shadow: 0 2px 8px 0 ${transparentize('#000000', 0.2)};\n  ${transition(0.3)};\n\n  &:hover {\n    background: #46a14a;\n  }\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { Tooltip } from 'components/common';\nimport { HINT_FOR_SPOT_COMMENT, HINT_FOR_GENERAL_COMMENT } from 'constants/review';\nimport { HintWrapper, HintContainer, HintButton, HintElementsContainer } from './Hint.styled';\n\ntype HintProps = {\n  children: any;\n  isExpanded: boolean;\n  hintElements: any;\n  hintName: string;\n  position: any;\n};\n\ntype HintState = {\n  isExpanded: boolean;\n}\n\nexport class Hint extends React.PureComponent<HintProps, HintState> {\n  constructor(props: HintProps) {\n    super(props);\n    this.state = {\n      isExpanded: this.props.isExpanded\n    };\n  }\n\n  static defaultProps = {\n    children: null,\n    isExpanded: true,\n    hintElements: null,\n    hintName: ''\n  };\n\n  componentWillMount() {\n    const { hintName } = this.props;\n    if (hintName) {\n      this.setState({\n        isExpanded: !localStorage.getItem(hintName) || false\n      });\n    }\n    this.showReviewHints(hintName);\n  }\n\n  componentDidUpdate(prevProps: HintProps) {\n    const { isExpanded, hintName } = this.props;\n    if (isExpanded !== prevProps.isExpanded) {\n      this.setState({\n        isExpanded\n      });\n    }\n    this.hintShowOnce(hintName);\n  }\n\n  hintShowOnce = (hintName: any) => {\n    if (hintName) {\n      localStorage.setItem(hintName, true as any);\n      this.setState({\n        isExpanded: !localStorage.getItem(hintName)\n      });\n    }\n  };\n\n  showReviewHints = (hintName: any) => {\n    if (hintName === HINT_FOR_GENERAL_COMMENT) {\n      this.setState({\n        isExpanded: false\n      });\n      if (\n        localStorage.getItem(HINT_FOR_SPOT_COMMENT) &&\n        !localStorage.getItem(HINT_FOR_GENERAL_COMMENT)\n      ) {\n        this.setState({\n          isExpanded: true\n        });\n      }\n    }\n  };\n\n  closePopover = (event: any) => {\n    event.preventDefault();\n    const { isExpanded } = this.state;\n    const { hintName } = this.props;\n    this.setState({\n      isExpanded: !isExpanded\n    });\n\n    this.hintShowOnce(hintName);\n  };\n\n  render() {\n    const { isExpanded } = this.state;\n    const { hintElements, children, position } = this.props;\n    return (\n      <Tooltip\n        trigger={'manual'}\n        open={isExpanded}\n        tooltipTheme={'light'}\n        sticky={true}\n        arrow={true}\n        position={position}\n        interactive\n        html={\n          <HintWrapper>\n            <HintContainer>\n              <HintElementsContainer>{hintElements}</HintElementsContainer>\n              <HintButton onClick={this.closePopover}>{localize('[got it]')}</HintButton>\n            </HintContainer>\n          </HintWrapper>\n        }\n      >\n        {children}\n      </Tooltip>\n    );\n  }\n}\n\nexport default Hint;\n","import { createSelector } from 'reselect';\nimport { objectToArray } from 'utils/object';\nimport {\n  MULTIPLE_CHOICE,\n  SINGLE_CHOICE,\n  SINGLE_CHOICE_IMAGE,\n  STATEMENT_CHOICE,\n  OPEN_QUESTION,\n  RANKING_TEXT,\n  SCENARIO,\n  FILL_IN_THE_BLANK,\n  DRAG_AND_DROP_TEXT,\n  TEXT_MATCHING,\n  HOTSPOT,\n  INFORMATION_CONTENT\n} from 'constants/questionTypes';\nimport * as multipleChoiceSelectors from './multipleChoice/selectors';\nimport * as statementChoiceSelectors from './statementChoice/selectors';\nimport * as openQuestionSelector from './openQuestion/selectors';\nimport * as rankingTextSelector from './rankingText/selectors';\nimport * as scenarioSelector from './scenario/selectors';\nimport * as fillInTheBlankSelector from './fillInTheBlank/selectors';\nimport * as dragAndDropTextSelector from './dragAndDropText/selectors';\nimport * as textMatching from './textMatching/selectors';\nimport * as hotspot from './hotspot/selectors';\nimport * as informationContent from './informationContent/selectors';\nimport { RootAppState } from '../types';\n\nexport const getQuestion = (state: RootAppState, questionId: string) => state.questions[questionId];\n\nexport const getQuestionSection = (state: RootAppState, questionId: string) => state.questions[questionId].sectionId;\n\nexport const getQuestions = createSelector(\n  (state: RootAppState) => state.questions,\n  questions => objectToArray(questions)\n);\n\nexport const getQuestionAnswers = (state: RootAppState, questionId: string) => state.questions[questionId].answers;\n\nexport const getQuestionResponse = (state: RootAppState, questionId: string) => state.questions[questionId].response;\n\nexport const getAffectProgressQuestionsCount = createSelector(\n  getQuestions,\n  questions => questions.filter(question => question.affectsProgress).length\n);\n\nexport const getCorrectlyAffectProgressAnsweredQuestionsCount = createSelector(\n  getQuestions,\n  questions =>\n    questions.filter(question => question.affectsProgress && question.isAnsweredCorrectly).length\n);\n\nexport const isQuestionAnswered = createSelector(\n  getQuestion,\n  question => question && question.isAnswered\n);\n\nexport const isQuestionAnsweredCorrectly = createSelector(\n  getQuestion,\n  question => question && question.isAnsweredCorrectly\n);\n\nexport const hasBeenOpened = createSelector(\n  getQuestion,\n  question => question && question.hasBeenOpened\n);\n\n// TODO: should be Question type\nexport const getScore = (state: RootAppState, question: any) => { \n  switch (question.type) {\n    case SINGLE_CHOICE_IMAGE:\n    case SINGLE_CHOICE:\n    case MULTIPLE_CHOICE:\n      return multipleChoiceSelectors.getScore(state, question);\n    case STATEMENT_CHOICE:\n      return statementChoiceSelectors.getScore(state, question);\n    case OPEN_QUESTION:\n      return openQuestionSelector.getScore(state, question);\n    case RANKING_TEXT:\n      return rankingTextSelector.getScore(state, question);\n    case SCENARIO:\n      return scenarioSelector.getScore(state, question);\n    case FILL_IN_THE_BLANK:\n      return fillInTheBlankSelector.getScore(state, question);\n    case DRAG_AND_DROP_TEXT:\n      return dragAndDropTextSelector.getScore(state, question);\n    case TEXT_MATCHING:\n      return textMatching.getScore(state, question);\n    case HOTSPOT:\n      return hotspot.getScore(state, question);\n    case INFORMATION_CONTENT:\n      return informationContent.getScore(state, question);\n    default:\n      throw new Error(`Unable to calculate score for ${question.type} question`);\n  }\n};\n\nexport const getAffectProgressQuestions = createSelector(\n  getQuestions,\n  questions => questions.filter(question => question.affectsProgress)\n);\n\nexport const questionExists = (state: RootAppState, questionId: string) =>\n  questionId && Object.keys(state.questions).includes(questionId);\n\nexport const isFeedbackAnimating = createSelector(\n  getQuestion,\n  question => question.isFeedbackAnimating\n);\n","import { isScoringOfContentPagesAllowed } from 'store/settings/selectors';\nimport { hasBeenOpened } from 'store/questions/selectors';\nimport { RootAppState } from '../../types';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const getScore = (state: RootAppState, question: any) => {\n  if (isScoringOfContentPagesAllowed(state)) {\n    return hasBeenOpened(state, question.id) ? 100 : 0;\n  }\n\n  return 0;\n};\n","export const INDEX_PATH = '/';\nexport const SECTIONS_PATH = `/sections`;\nexport const SECTION_PATH = `${SECTIONS_PATH}/:sectionId`;\nexport const RESULTS_PATH = '/results';\nexport const QUESTION_PATH = `${SECTION_PATH}/questions/:questionId`;\nexport const SIGNUP_PATH = `/signup`;\nexport const LOGIN_PATH = `/login`;\nexport const LEARNING_OBJECTIVE_PATH = `${SECTION_PATH}/learning-objective`;\n","class Color {\n  r: number;\n  g: number;\n  b: number;\n  a: number | undefined;\n\n  constructor(r: number, g: number, b: number, a?: number) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a;\n  }\n\n  toString() {\n    return this.a !== undefined\n      ? `rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`\n      : `rgb(${this.r}, ${this.g}, ${this.b})`;\n  }\n}\n\n/* eslint-disable import/prefer-default-export */\nexport const transparentize = (hex: string, opacity?: number, options: { [key: string]: any } = { solidColor: false }): string => {\n  let color = hex2rgba(hex, opacity);\n  if (!color) {\n    return '';\n  }\n  if (options.solidColor) {\n    const white = new Color(255, 255, 255);\n    color = rgba2rgb(white, color);\n  }\n\n  return color.toString();\n};\n\nfunction hex2rgba(hexColor: string, alpha = 1) {\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  const hex = hexColor.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  if (!result) {\n    return null;\n  }\n  return new Color(\n    parseInt(result[1], 16),\n    parseInt(result[2], 16),\n    parseInt(result[3], 16),\n    alpha\n  );\n}\n\nfunction rgba2rgb(rgbBackground: any, rgbaColor: any) {\n  const alpha = rgbaColor.a;\n\n  return new Color(\n    parseInt(((1 - alpha) * rgbBackground.r + alpha * rgbaColor.r).toString(), 10),\n    parseInt(((1 - alpha) * rgbBackground.g + alpha * rgbaColor.g).toString(), 10),\n    parseInt(((1 - alpha) * rgbBackground.b + alpha * rgbaColor.b).toString(), 10)\n  );\n}\n","export const isLowerResolution = (resolution: number) => window.innerWidth < resolution;\n\nexport const getCurrentUrl = () =>\n  `${window.location.protocol}//${window.location.host}${window.location.pathname}`;\n\nexport const getCurrentLocationHash = () => window.location.hash;\n\n// eslint-disable-next-line\nexport const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent) || /Macintosh/i.test(navigator.userAgent) && 'ontouchend' in document;\n\nexport const hasQueryStringParameter = (key: any) => window.location.href.indexOf(key) !== -1;\n\nexport const addQueryStringParameter = (url: string, key: any, value: any) => {\n  const regex = new RegExp(`([?&])${key}=.*?(&|$)`, 'i');\n  const separator = url.indexOf('?') !== -1 ? '&' : '?';\n  if (url.match(regex)) {\n    return url.replace(regex, `$1${key}=${value}$2`);\n  }\n  return `${url}${separator}${key}=${value}`;\n};\n\nexport const getValueFromUrl = (key: any) => {\n  if (!key) {\n    throw new Error('Parameter \"key\" should be specified');\n  }\n\n  const url = window.location.href;\n  const regex = new RegExp(`[?&]${key}(=([^&#]*)|&|#|$)`, 'i');\n  const result = regex.exec(url);\n\n  if (!result || !result[2]) {\n    return;\n  }\n\n  return decodeURIComponent(result[2].replace(/\\+/g, ' '));\n};\n\nexport const clearQueryString = () => {\n  const currentHash = getCurrentLocationHash();\n  const searchIndex = currentHash.indexOf('?');\n\n  if (searchIndex !== -1) {\n    const cleanHash = currentHash.slice(0, searchIndex);\n    window.history.replaceState({}, document.title, `${getCurrentUrl()}${cleanHash}`);\n  }\n};\n\nexport const closeWindow = () => {\n  if (window.top) {\n    window.top.close();\n    return true;\n  }\n  return false;\n};\n\nexport const getObjectParsedQueryString = () => {\n  const regex = /[?&]([^=#]+)=([^&#]*)/g;\n  const url = window.location.search;\n  const params = {} as any;\n  let match = regex.exec(url);\n  while (match && regex.lastIndex !== 0) {\n    params[match[1]] = match[2];\n    match = regex.exec(url);\n  }\n\n  return params;\n};\n\nexport const getFilteredQueryParams = (queryKey: string) => {\n  const parsedParams = getObjectParsedQueryString();\n  const filteredParams = Object.keys(parsedParams)\n    .filter(key => key !== queryKey)\n    .reduce((acc: any, key) => acc.concat([`${key}=${parsedParams[key]}`]), [])\n    .join('&');\n\n  return filteredParams && filteredParams.length ? `?${filteredParams}` : '';\n};\n\nexport const removeQueryStringParam = (paramName: string) => {\n  if (window.location.search.indexOf(paramName) !== -1) {\n    const url = `${getCurrentUrl()}${getFilteredQueryParams(paramName)}${getCurrentLocationHash()}`;\n\n    window.history.replaceState({}, document.title, url);\n  }\n};\n","import progressStorage from 'core/progressStorage';\nimport { isMeaningful as isMeaningfulString } from 'utils/string';\nimport {\n  isCrossDeviceSavingEnabled,\n  isTrackingEnabled,\n  isPublishMode\n} from '../settings/selectors';\nimport { RootAppState } from 'store/types';\n\nexport const getUser = (state: RootAppState) => state.user;\n\nexport const getEmail = (state: RootAppState) => state.user.email;\n\nexport const getName = (state: RootAppState) => state.user.name;\n\nexport const getAccount = (state: RootAppState) => state.user.account;\n\nexport const isAnonymous = (state: RootAppState) => !!state.user.authorizationSkipped;\n\nexport const isIntroduced = (state: RootAppState) => isMeaningfulString(getEmail(state));\n\nexport const shouldSaveCrossDevice = (state: RootAppState) =>\n  isCrossDeviceSavingEnabled(state) && !isAnonymous(state);\n\nexport const isAuthenticated = (state: RootAppState) =>\n  progressStorage.isAuthenticated() ||\n  (!isCrossDeviceSavingEnabled(state) && isAnonymous(state)) ||\n  (!isCrossDeviceSavingEnabled(state) && isTrackingEnabled(state) && isIntroduced(state)) ||\n  isAnonymous(state) ||\n  !isPublishMode(state) ||\n  !isTrackingEnabled(state);\n\nexport const isAuthorized = (state: RootAppState) => isAuthenticated(state) && !isAnonymous(state);\n\nexport const getPassword = (state: RootAppState) => state.user.password;\n\nexport const getAvatarLetter = (state: RootAppState) =>\n  (state.user.name && state.user.name[0]) || (state.user.email && state.user.email[0]);\n","import React from 'react';\nimport { IconElement, TextElement } from './Icon.styled';\n\ntype IconProps = {\n  name: string;\n  color?: any;\n  getColor?(): void;\n  className?: string;\n  size?: number;\n  text?: string;\n  fontSize?: number;\n  shapeSize?: any;\n  role?: string;\n  ariaLabel?: string;\n  tabIndex?: number;\n  onKeyDown?: any;\n  onClick?: any;\n  theme?: { [key: string]: any };\n};\nexport const Icon = (props: IconProps) => {\n  const { name = 'ok', className = 'buttonTextColor', text = '', fontSize = 2, size = 8, ...other } = props;\n  return (\n    <IconElement className={`icon icon-${name} ${className || ''}`} size={size} {...other}>\n      <TextElement theme={props.theme} fontSize={fontSize}>{text}</TextElement>\n    </IconElement>\n  );\n};\n\nIcon.defaultProps = {\n  className: 'buttonTextColor',\n  fontSize: 2,\n  size: 8,\n  name: 'ok'\n}\n\nexport default Icon;\n","export { default } from './Icon';\n","import { createSelector } from 'reselect';\nimport * as questionSelectors from 'store/questions/selectors';\nimport { getMasteryScoreValue, isOverallMasteryScore } from 'store/settings/selectors';\nimport { objectToArray } from 'utils/object';\nimport { RootAppState } from 'store/types';\n\nexport const getSectionQuestions = (state: RootAppState, sectionId: string) =>\n  objectToArray(state.questions).filter(question => question.sectionId === sectionId);\n\nexport const getSection = (state: RootAppState, sectionId: string) => state.sections[sectionId];\n\nexport const getSections = createSelector(\n  (state: RootAppState) => state.sections,\n  sections => objectToArray(sections)\n);\n\nconst getQuestionIds = createSelector(\n  getSection,\n  section => (section && section.questions) || []\n);\n\nexport const getQuestionCount = createSelector(\n  getSection,\n  section => section && section.questions.length\n);\n\nexport const getQuestionIndex = createSelector(\n  getQuestionIds,\n  (state, sectionId, questionId) => questionId,\n  (questionIds, questionId) => questionIds.indexOf(questionId)\n);\n\nexport const affectsProgress = createSelector(\n  getQuestionIds,\n  state => state,\n  (questionIds, state) =>\n    questionIds.find(\n      (questionId: string) => questionSelectors.getQuestion(state, questionId).affectsProgress\n    ) !== undefined\n);\n\nexport const getAffectProgressSections = createSelector(\n  getSections,\n  state => state,\n  (sections, state) => sections.filter(section => affectsProgress(state, section.id))\n);\n\nexport const getAffectProgressSectionsCount = (state: RootAppState) => getAffectProgressSections(state).length;\n\nexport const getSectionsPassedCount = createSelector(\n  getSections,\n  sections => sections.filter(section => section.isPassed === true).length\n);\n\nexport const getQuestions = createSelector(\n  getQuestionIds,\n  state => state,\n  (questionIds, state) =>\n    questionIds.reduce((result: any, questionId: string) => {\n      result.push(questionSelectors.getQuestion(state, questionId));\n      return result;\n    }, [])\n);\n\nexport const getAffectProgressQuestions = createSelector(\n  getQuestions,\n  questions => questions.filter((question: any) => question.affectsProgress)\n);\nexport const getSectionScore = (state: RootAppState) =>\n  isOverallMasteryScore(state) ? 100 : getMasteryScoreValue(state);\n\nexport const getAffectProgressQuestionsCountInSection = (state: RootAppState, sectionId: string) =>\n  getAffectProgressQuestions(state, sectionId).length;\n\nexport const getCorrectlyAffectProgressQuestionsCountInSection = createSelector(\n  getQuestions,\n  questions =>\n    questions.filter((question: any) => question.isAnsweredCorrectly && question.affectsProgress).length\n);\n\nexport const getAffectCorrectlyAnsweredQuestionsCount = (state: RootAppState, sectionId: string) =>\n  Math.ceil(\n    getSectionScore(state) / (100 / getAffectProgressQuestionsCountInSection(state, sectionId))\n  );\n\nexport const sectionExists = (state: RootAppState, sectionId: string) =>\n  sectionId && Object.keys(state.sections).includes(sectionId);\n","import { css } from 'styled-components';\n\nconst buttonDefaultStyle = () => css`\n  background: none;\n  border: none;\n  outline: none;\n  &:focus,\n  &::-moz-focus-inner {\n    outline: none;\n    border: none;\n  }\n`;\nexport default buttonDefaultStyle;\n","import { RootAppState } from 'store/types';\n\nclass StorageInterface {\n  async getProgress(): Promise<any> {\n    throw new Error('getProgress method in not implemented');\n  }\n\n  async saveProgress(options?: any, state?: RootAppState): Promise<any> {\n    throw new Error('saveProgress method in not implemented');\n  }\n\n  async removeProgress(): Promise<any> {\n    throw new Error('removeProgress method in not implemented');\n  }\n}\n\nexport default StorageInterface;\n","import { getCourseId, getTemplateId } from 'store/course/selectors';\nimport StorageInterface from '../storageInterface';\n\nconst constants = {\n  progressKey: 'course_progress'\n};\n\nclass LocalStorage extends StorageInterface {\n  progressKey: string;\n  constructor(state: any) {\n    super();\n\n    let courseId = getCourseId(state);\n    let templateId = getTemplateId(state);\n    this.progressKey = `${constants.progressKey}${courseId}${templateId}`;\n  }\n\n  async getProgress() {\n    return new Promise(resolve => {\n      const result = localStorage.getItem(this.progressKey) || '{}';\n      resolve(JSON.parse(result));\n    });\n  }\n\n  async saveProgress(progress: any) {\n    return new Promise(resolve => {\n      localStorage.setItem(this.progressKey, JSON.stringify(progress));\n      resolve();\n    });\n  }\n\n  async removeProgress() {\n    return new Promise(resolve => {\n      localStorage.removeItem(this.progressKey);\n      resolve();\n    });\n  }\n}\n\nexport default LocalStorage;\n","import {\n  hasQueryStringParameter,\n  getValueFromUrl,\n  getCurrentUrl,\n  removeQueryStringParam\n} from 'utils/window';\nimport { LOGIN_PATH } from 'constants/navigation';\nimport requester from 'core/http/requester';\nimport {\n  EMAIL_PASSWORD_COMBINATION_NOT_EXISTS,\n  PASSWORD_RESET_SENDING_FAILED,\n  UNKNOWN_ERROR,\n  STATUS_OK\n} from 'constants/progressStorage';\n\nimport { CONTENT_TYPES } from 'constants/common';\nimport { IdToUuid } from 'utils/string';\n\nconst constants = {\n  tokenKey: 'token.learn',\n  shortTermAccessKey: 'shortTermAccess.auth.template'\n};\n\nclass ExternalStorageAuth {\n  courseTitle: string;\n\n  authServiceUrl: string;\n\n  learnServiceUrl: string;\n\n  courseLink: string;\n\n  constructor(courseTitle: string, authServiceUrl: string, learnServiceUrl: string) {\n    this.courseTitle = courseTitle;\n    this.authServiceUrl = authServiceUrl;\n    this.learnServiceUrl = learnServiceUrl;\n    this.courseLink = `${getCurrentUrl()}#${LOGIN_PATH}`;\n  }\n\n  set shortTermAccess(value: any) {\n    if (value.toString().length) {\n      sessionStorage.setItem(constants.shortTermAccessKey, value);\n    } else {\n      sessionStorage.removeItem(constants.shortTermAccessKey);\n    }\n  }\n\n  get shortTermAccess() {\n    return sessionStorage.getItem(constants.shortTermAccessKey) === 'true';\n  }\n\n  set token(value: string | any) {\n    if (value) {\n      sessionStorage.setItem(constants.tokenKey, value);\n    } else {\n      sessionStorage.removeItem(constants.tokenKey);\n    }\n  }\n\n  get token(): string | any {\n    return sessionStorage.getItem(constants.tokenKey);\n  }\n\n  getHeaders({ contentType, bearerToken }: any) {\n    const headers: any = {};\n    if (contentType) {\n      headers['Content-Type'] = contentType;\n    }\n    if (bearerToken) {\n      headers.Authorization = `Bearer ${bearerToken}`;\n    }\n\n    return headers;\n  }\n\n  isAuthenticated() {\n    return !!this.token;\n  }\n\n  async getAuthToken() {\n    if (hasQueryStringParameter('token')) {\n      const token = getValueFromUrl('token');\n      removeQueryStringParam('token');\n      return token;\n    }\n\n    return this.getTokenFromAuthService();\n  }\n\n  async getTokenFromAuthService() {\n    try {\n      const getTokenResponse = await requester.get(`${this.authServiceUrl}/api/account/token`, {\n        credentials: 'include',\n        headers: {},\n        retryOptions: {\n          retries: 0\n        }\n      });\n\n      if (getTokenResponse.status < 400) {\n        const responseData = await getTokenResponse.json();\n        return responseData && responseData.token;\n      }\n\n      return '';\n    } catch (e) {\n      return this.token;\n    }\n  }\n\n  async identify() {\n    try {\n      this.token = await this.getAuthToken();\n\n      const userInfoResponse = await requester.get(`${this.learnServiceUrl}/api/learner/me`, {\n        headers: this.getHeaders({ bearerToken: this.token })\n      });\n\n      if (userInfoResponse.status === 401 || userInfoResponse.status === 403) {\n        return this.logout();\n      }\n\n      return userInfoResponse.json();\n    } catch (e) {\n      console.error(e);\n      return e;\n    }\n  }\n\n  async logout() {\n    try {\n      const response = await requester.post(`${this.authServiceUrl}/api/account/logout`, {\n        credentials: 'include',\n        headers: {}\n      });\n\n      if (response.status === 201 || response.status === 200) {\n        this.token = '';\n        this.shortTermAccess = '';\n      }\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n\n  async exists(email: string) {\n    const response = await requester.get(`${this.authServiceUrl}/api/account/exists`, {\n      credentials: 'include',\n      headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON }),\n      query: {\n        email\n      },\n      nocache: true\n    });\n\n    return response.json();\n  }\n\n  async authorize({ email, password, shortTermAccess = true }: { [key: string]: any }) {\n    const response = await requester.post(`${this.authServiceUrl}/api/auth/credentials`, {\n      credentials: 'include',\n      data: { email, password, shortTermAccess },\n      headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON }),\n      nocache: true\n    });\n\n    return this._setAuthenticationData(response, shortTermAccess);\n  }\n\n  async register({ name, email, password, shortTermAccess = true }: { [key: string]: any }) {\n    const response: any = await requester.post(`${this.authServiceUrl}/api/credentials/register`, {\n      credentials: 'include',\n      data: { email, password, name, shortTermAccess },\n      headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON }),\n      nocache: true\n    });\n\n    return this._setAuthenticationData(response, shortTermAccess);\n  }\n\n  async resetPassword(email: string) {\n    const response = await requester.post(\n      `${this.authServiceUrl}/api/credentials/forgot-password`,\n      {\n        credentials: 'include',\n        data: { email, returnUrl: this.courseLink },\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON }),\n        nocache: true\n      }\n    );\n\n    if (response.status !== 201) {\n      return PASSWORD_RESET_SENDING_FAILED;\n    }\n\n    return STATUS_OK;\n  }\n\n  async sendSecretLink(courseId: any) {\n    const response = await requester.post(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(courseId)}/send-secret-link`,\n      {\n        data: {},\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON, bearerToken: this.token }),\n        nocache: true\n      }\n    );\n\n    if (response.status !== 200) {\n      return UNKNOWN_ERROR;\n    }\n\n    return STATUS_OK;\n  }\n\n  async _setAuthenticationData(response: any, shortTermAccess: any) {\n    if (response.status === 403 || response.status === 401) {\n      return EMAIL_PASSWORD_COMBINATION_NOT_EXISTS;\n    }\n    if (response.status >= 400) {\n      return UNKNOWN_ERROR;\n    }\n\n    const data = await response.json();\n    if (!data || (data && !data.token)) {\n      return UNKNOWN_ERROR;\n    }\n\n    this.token = data.token;\n    this.shortTermAccess = shortTermAccess;\n\n    return STATUS_OK;\n  }\n}\n\nexport default ExternalStorageAuth;\n","import { LOGIN_PATH } from 'constants/navigation';\nimport { getCurrentUrl } from 'utils/window';\n\nclass SocialNetworks {\n  courseTitle: any;\n  authStorageUrl: any;\n  location: any;\n\n  constructor(courseTitle: any, authStorageUrl: any) {\n    this.courseTitle = courseTitle;\n    this.authStorageUrl = authStorageUrl;\n    this.location = `${getCurrentUrl()}#${LOGIN_PATH}`;\n  }\n\n  getAuthLink(socialNetwork: any) {\n    return `${this.authStorageUrl}/api/auth/${socialNetwork}?callbackUrl=${encodeURIComponent(\n      this.location\n    )}`;\n  }\n}\n\nexport default SocialNetworks;\n","import { getAuthServiceUrl, getLearnServiceUrl } from 'store/settings/selectors';\nimport {\n  getCourseTitle,\n  getCourseId,\n  getTemplateId,\n  isPassed,\n  getScore,\n  isCourseAccessLimited\n} from 'store/course/selectors';\nimport requester from 'core/http/requester';\nimport { CONTENT_TYPES } from 'constants/common';\nimport { IdToUuid } from 'utils/string';\nimport { getCurrentUrl } from 'utils/window';\nimport StorageInterface from '../storageInterface';\nimport ExternalStorageAuth from './auth';\nimport SocialNetworks from './socialNetworks';\nimport { RootAppState } from 'store/types';\n\nclass ExternalStorage extends StorageInterface {\n  courseId: string;\n  templateId: string;\n  learnServiceUrl: string;\n  authServiceUrl: string;\n  private readonly _auth: any;\n  private readonly _socialNetworks: any;\n\n  constructor(state: RootAppState) {\n    super();\n\n    this.courseId = getCourseId(state);\n    this.templateId = getTemplateId(state);\n    this.learnServiceUrl = getLearnServiceUrl(state);\n    this.authServiceUrl = getAuthServiceUrl(state);\n\n    const courseTitle = getCourseTitle(state);\n\n    this._auth = new ExternalStorageAuth(courseTitle, this.authServiceUrl, this.learnServiceUrl);\n    this._socialNetworks = new SocialNetworks(courseTitle, this.authServiceUrl);\n  }\n\n  async getProgress() {\n    if (!this.getToken()) {\n      return;\n    }\n\n    const responseProgress = await requester.get(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(this.courseId)}/attempts/last`,\n      {\n        query: {\n          templateId: this.templateId\n        },\n        headers: this.getHeaders({ bearerToken: this.getToken() })\n      }\n    );\n    if (responseProgress.status === 201 || responseProgress.status === 200) {\n      const data = await responseProgress.json();\n      try {\n        return data && data.jsonProgress && JSON.parse(data.jsonProgress);\n      } catch (e) {\n        console.error(e);\n        return {};\n      }\n    }\n\n    return requester.post(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(this.courseId)}/attempts`,\n      {\n        data: {\n          templateId: this.templateId,\n          jsonProgress: '{}',\n          score: 0,\n          status: 'IN_PROGRESS',\n          courseUrl: getCurrentUrl()\n        },\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON, bearerToken: this.getToken() }),\n        nocache: true\n      }\n    );\n  }\n\n  async saveProgress(progress: any, state: RootAppState) {\n    if(isCourseAccessLimited(state)) {\n      return false;\n    }\n    const saveProgressResponse = await requester.put(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(this.courseId)}/attempts/last`,\n      {\n        data: {\n          jsonProgress: progress ? JSON.stringify(progress) : '{}',\n          score: getScore(state),\n          status: isPassed(state) ? 'PASSED' : 'IN_PROGRESS'\n        },\n        query: {\n          templateId: this.templateId\n        },\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON, bearerToken: this.getToken() }),\n        nocache: true\n      }\n    );\n    if (saveProgressResponse.status === 401 || saveProgressResponse.status === 403) {\n      return this.logout();\n    }\n    return saveProgressResponse;\n  }\n\n  async removeProgress() {\n    return requester.post(\n      `${this.learnServiceUrl}/api/learner/me/courses/${IdToUuid(this.courseId)}/attempts`,\n      {\n        data: {\n          templateId: this.templateId,\n          jsonProgress: '{}',\n          score: 0,\n          status: 'IN_PROGRESS',\n          courseUrl: getCurrentUrl()\n        },\n\n        headers: this.getHeaders({ contentType: CONTENT_TYPES.JSON, bearerToken: this.getToken() }),\n        nocache: true\n      }\n    );\n  }\n\n  isAuthenticated() {\n    return this._auth.isAuthenticated();\n  }\n\n  async userExists(email: string) {\n    return this._auth.exists(email);\n  }\n\n  async identifyUser() {\n    return this._auth.identify();\n  }\n\n  async authorizeUser(userData: any) {\n    return this._auth.authorize(userData);\n  }\n\n  async registerUser(userData: any) {\n    return this._auth.register(userData);\n  }\n\n  async resetPassword(email: string) {\n    return this._auth.resetPassword(email);\n  }\n\n  async logout() {\n    return this._auth.logout();\n  }\n\n  getSocialNetworkAuthLink(socialNetwork: any) {\n    return this._socialNetworks.getAuthLink(socialNetwork);\n  }\n\n  async sendSecretLink() {\n    return this._auth.sendSecretLink(this.courseId);\n  }\n\n  getHeaders({ contentType, bearerToken }: any) {\n    return this._auth.getHeaders({ contentType, bearerToken });\n  }\n\n  getToken() {\n    return this._auth.token;\n  }\n}\n\nexport default ExternalStorage;\n","class ResponseMapperBase {\n  map(question: any) {\n    if (question.isAnsweredCorrectly) {\n      return 100;\n    }\n\n    if (!question.isAnswered) {\n      return undefined;\n    }\n\n    return this.mapResponse(question);\n  }\n\n  mapResponse(question?: any) {\n    throw new Error('Not implemented');\n  }\n\n  hasQuestionResponse(question: any) {\n    return question.response !== null;\n  }\n\n  isAnsweredCorrectly(answer: any) {\n    return answer === 100;\n  }\n\n  isEmptyAnswer(answer: any) {\n    if (Array.isArray(answer) || typeof answer === 'string' || answer instanceof String) {\n      return answer.length === 0;\n    }\n\n    if (answer.constructor === Object) {\n      return Object.keys(answer).length === 0;\n    }\n\n    return false;\n  }\n}\n\nexport default ResponseMapperBase;\n","import { NO_SELECTED_ID } from 'constants/common';\nimport ResponseMapperBase from './ResponseMapperBase';\n\nexport default class DragAndDropTextResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return {};\n    }\n\n    const result: { [key: string]: any } = {};\n    question.dropspots.forEach((answer: any) => {\n      const responseItem = question.response.find((e: any) => e.id === answer.id);\n      if (responseItem.items.length) {\n        const item = responseItem.items[0];\n        const itemIndex = question.dropspots.findIndex((e: any) => e.id === item.id);\n        result[itemIndex] = {\n          x: answer.x,\n          y: answer.y\n        };\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { dropspots }: any) {\n    const notSelectedItem: { [key: string]: any } = {\n      id: NO_SELECTED_ID,\n      items: [],\n      isDropDisabled: false\n    };\n\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      const result = dropspots.map((dropspot: any) => ({\n        id: dropspot.id,\n        items: [dropspot],\n        position: {\n          x: dropspot.x,\n          y: dropspot.y\n        },\n        isDropDisabled: true\n      }));\n\n      result.unshift(notSelectedItem);\n      return result;\n    }\n\n    const userAnswerIndexes = Object.keys(userAnswer);\n    dropspots.forEach((dropspot: any, index: any) => {\n      if (!userAnswerIndexes.find(answerIndex => answerIndex === index.toString())) {\n        notSelectedItem.items.push(dropspot);\n      }\n    });\n\n    let answerValues: any[] = [];\n    Object.keys(userAnswer).forEach((answerIndex: any) => {\n      answerValues[answerIndex] = userAnswer[answerIndex];\n    });\n\n    const result = dropspots.map((dropspot: any) => {\n      const selectedOptionIndex = answerValues.findIndex(\n        answerOption =>\n          answerOption && answerOption.x === dropspot.x && answerOption.y === dropspot.y\n      );\n      const isAnswered = selectedOptionIndex !== -1;\n      return {\n        id: dropspot.id,\n        items: isAnswered ? [dropspots[selectedOptionIndex]] : [],\n        position: {\n          x: dropspot.x,\n          y: dropspot.y\n        },\n        isDropDisabled: isAnswered\n      };\n    });\n\n    result.unshift(notSelectedItem);\n    return result;\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class FillInTheBlankResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return {};\n    }\n\n    const result: { [key: string]: any } = {};\n    Object.keys(question.response.data).forEach(id => {\n      const index = question.answerGroups.findIndex((e: any) => e.id === id);\n      result[index] = question.response.data[id];\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answerGroups }: any) {\n    const data: { [key: string]: any } = {};\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      answerGroups.forEach(({ id, answers }: any) => {\n        const answerItem = answers.find(({ isCorrect }: any) => isCorrect);\n        data[id] = answerItem.text;\n      });\n      return { data };\n    }\n\n    let questionAnswer = this.isEmptyAnswer(userAnswer) ? {} : userAnswer;\n    answerGroups.forEach(({ id }: any, index: any) => {\n      const itemAnswer = questionAnswer[index.toString()];\n      data[id] = itemAnswer == null ? '' : itemAnswer;\n    });\n\n    return { data };\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class HotspotResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return [];\n    }\n\n    return question.response;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { spots }: any) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return spots.map((spot: any) => spot[0]);\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    return userAnswer;\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class InformationContentResponseMapper extends ResponseMapperBase {\n  mapResponse() {\n    return 100;\n  }\n\n  /**\n   * @param {object} userAnswer\n   */\n  unMap(userAnswer: any) {\n    return this.isAnsweredCorrectly(userAnswer) ? 100 : undefined;\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class ChoiceResponseMapperBase extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return [];\n    }\n\n    const result: any[] = [];\n    question.answers.forEach((answer: any, index: any) => {\n      if (question.response.find((e: any) => e === answer.id)) {\n        result.push(index);\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers }: { [key: string]: any }) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return answers.filter(({ isCorrect }: { [key: string]: any }) => isCorrect).map(({ id }: { [key: string]: any }) => id);\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    return this._unMapFailedResponse(userAnswer, answers);\n  }\n\n  _unMapFailedResponse(userAnswer?: any, answers?: any) {\n    throw new Error('Not implemented');\n  }\n}\n","import ChoiceResponseMapperBase from './ChoiceResponseMapperBase';\n\nexport default class MultipleChoiceResponseMapper extends ChoiceResponseMapperBase {\n  _unMapFailedResponse(userAnswer: any, answers: any) {\n    return userAnswer.map((answer: any) =>  answers[answer].id);\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class OpenQuestionResponseMapper extends ResponseMapperBase {\n  /**\n   * @param {object} question\n   */\n  map({ isAnswered, response }: any) {\n    return isAnswered ? response.answeredText : undefined;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { id }: any) {\n    return {\n      id,\n      answeredText: userAnswer\n    };\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class RankingTextResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return [];\n    }\n\n    return question.response.map((item: any) => item.text);\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers }: any) {\n    if (userAnswer === 100) {\n      return answers;\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    const questionAnswers = answers.map(({ id, text }: any) => ({\n      id,\n      text,\n      hasBeenSelected: false\n    }));\n\n    return userAnswer.map((text: any) => {\n      const answerItem = questionAnswers.find(\n        (questionAnswer: any) => questionAnswer.text === text && !questionAnswer.hasBeenSelected\n      );\n\n      if (!answerItem) {\n        throw new Error(`Ranking text: text answer wan not found: '${text}'`);\n      }\n\n      answerItem.hasBeenSelected = true; // ???????\n      return {\n        id: answerItem.id,\n        text\n      };\n    });\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class ScenarioResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return 0;\n    }\n\n    return question.response.score;\n  }\n\n  /**\n   * @param {object} userAnswer\n   */\n  unMap(userAnswer: any) {\n    return { score: userAnswer, isFinished: userAnswer === 100 };\n  }\n}\n","import ChoiceResponseMapperBase from './ChoiceResponseMapperBase';\n\nexport default class SingleChoiceResponseMapper extends ChoiceResponseMapperBase {\n  _unMapFailedResponse(userAnswer: any, answers: any) {\n    return [answers[userAnswer[0]].id];\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class SingleChoiceImageResponseMapper extends ResponseMapperBase {\n  mapResponse(question: any) {\n    if (!this.hasQuestionResponse(question)) {\n      return [];\n    }\n\n    const result: any[] = [];\n    question.answers.forEach((answer: any, index: any) => {\n      if (question.response.find((e: any) => e === answer.id)) {\n        result.push(index);\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers, correctAnswerId }: any) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return answers.filter(({ id }: any) => id === correctAnswerId).map(({ id }: any) => id);\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    return [answers[userAnswer].id];\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class StatementChoiceResponseMapper extends ResponseMapperBase {\n  /**\n   * @param {object} question\n   */\n  mapResponse({ answers, response }: any) {\n    let result: { [key: string]: any } = {};\n\n    response.forEach(({ id, isCorrect }: any) => {\n      const answerIndex = answers.findIndex((answer: any) => answer.id === id);\n      result[answerIndex] = +isCorrect;\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers }: any) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return answers.map(({ id, isCorrect }: any) => ({\n        id,\n        isCorrect\n      }));\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    let result: any[] = [];\n    const userAnswerKeys = Object.keys(userAnswer);\n    userAnswerKeys.forEach(key => {\n      const option = userAnswer[key];\n      const { id } = answers[key];\n\n      result.push({\n        id,\n        isCorrect: option === 1\n      });\n    });\n\n    return result;\n  }\n}\n","import ResponseMapperBase from './ResponseMapperBase';\n\nexport default class TextMatchingResponseMapper extends ResponseMapperBase {\n  /**\n   * @param {object} question\n   */\n  mapResponse({ answers, response }: any) {\n    let result: { [key: string]: any } = {};\n\n    response.forEach(({ id, shownSelectedValue }: any) => {\n      const answerIndex = answers.findIndex((answer: any) => answer.id === id);\n      result[answerIndex] = shownSelectedValue;\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {object} userAnswer\n   * @param {object} question\n   */\n  unMap(userAnswer: any, { answers }: any) {\n    if (this.isAnsweredCorrectly(userAnswer)) {\n      return answers.map(({ id, key, value }: any) => ({\n        id,\n        key,\n        value,\n        selectedKey: key,\n        shownSelectedValue: value\n      }));\n    }\n\n    if (this.isEmptyAnswer(userAnswer)) {\n      return [];\n    }\n\n    return answers.map(({ id, key, value }: any, index: any) => {\n      const selectedOption = userAnswer[index];\n      const selectedKey = answers.find((answer: any) => answer.value === selectedOption);\n\n      return {\n        id,\n        key,\n        value,\n        selectedKey: selectedKey ? selectedKey.key : null,\n        shownSelectedValue: selectedOption\n      };\n    });\n  }\n}\n","import * as questionTypes from 'constants/questionTypes';\n\nimport DragAndDropTextResponseMapper from './DragAndDropTextResponseMapper';\nimport FillInTheBlankResponseMapper from './FillInTheBlankResponseMapper';\nimport HotspotResponseMapper from './HotspotResponseMapper';\nimport InformationContentResponseMapper from './InformationContentResponseMapper';\nimport MultipleChoiceResponseMapper from './MultipleChoiceResponseMapper';\nimport OpenQuestionResponseMapper from './OpenQuestionResponseMapper';\nimport RankingTextResponseMapper from './RankingTextResponseMapper';\nimport ScenarioResponseMapper from './ScenarioResponseMapper';\nimport SingleChoiceResponseMapper from './SingleChoiceResponseMapper';\nimport SingleChoiceImageResponseMapper from './SingleChoiceImageResponseMapper';\nimport StatementChoiceResponseMapper from './StatementChoiceResponseMapper';\nimport TextMatchingResponseMapper from './TextMatchingResponseMapper';\n\nconst questions: { [key: string]: any } = {\n  [questionTypes.DRAG_AND_DROP_TEXT]: new DragAndDropTextResponseMapper(),\n  [questionTypes.FILL_IN_THE_BLANK]: new FillInTheBlankResponseMapper(),\n  [questionTypes.HOTSPOT]: new HotspotResponseMapper(),\n  [questionTypes.INFORMATION_CONTENT]: new InformationContentResponseMapper(),\n  [questionTypes.MULTIPLE_CHOICE]: new MultipleChoiceResponseMapper(),\n  [questionTypes.OPEN_QUESTION]: new OpenQuestionResponseMapper(),\n  [questionTypes.RANKING_TEXT]: new RankingTextResponseMapper(),\n  [questionTypes.SCENARIO]: new ScenarioResponseMapper(),\n  [questionTypes.SINGLE_CHOICE]: new SingleChoiceResponseMapper(),\n  [questionTypes.SINGLE_CHOICE_IMAGE]: new SingleChoiceImageResponseMapper(),\n  [questionTypes.STATEMENT_CHOICE]: new StatementChoiceResponseMapper(),\n  [questionTypes.TEXT_MATCHING]: new TextMatchingResponseMapper()\n};\n\nexport default questions;\n","import responseMappers from './responseMappers';\n\nclass ResponseMapper {\n  map(question: any) {\n    return responseMappers[question.type].map(question);\n  }\n\n  unMap(userAnswers: any, question: any) {\n    return responseMappers[question.type].unMap(userAnswers, question);\n  }\n}\n\nexport default new ResponseMapper();\n","class UrlMapper {\n  unMap(url: string) {\n    switch (url) {\n      case 'finish':\n        return 'results';\n      case 'sections':\n        return 'sections';\n      default:\n        return url\n          .replace('signin', 'login')\n          .replace(/section\\//, 'sections/')\n          .replace(/question\\//, 'questions/');\n    }\n  }\n}\n\nexport default new UrlMapper();\n","import shortId from 'short-uuid';\n\nexport default class IdShortener {\n  translator: any;\n  constructor() {\n    this.translator = shortId();\n  }\n\n  convertToShort(id: any) {\n    return this.translator.fromUUID(id);\n  }\n\n  convertToOriginal(id: any) {\n    return this.translator.toUUID(id).replace(/-/g, '');\n  }\n}\n","import { NO_SELECTED_ID } from 'constants/common';\nimport idShortener from '../idShortener';\n\nexport default class DragAndDropTextResponseMapper extends idShortener {\n  map(response: any) {\n    return response.map((option: any) => ({\n      ...option,\n      id: this._mapId(option.id, this.convertToShort.bind(this)),\n      items: this._mapItems(option.items, this.convertToShort.bind(this))\n    }));\n  }\n\n  unMap(response: any) {\n    return response.map((option: any) => ({\n      ...option,\n      id: this._mapId(option.id, this.convertToOriginal.bind(this)),\n      items: this._mapItems(option.items, this.convertToOriginal.bind(this))\n    }));\n  }\n\n  _mapItems(items: any, convert: any) {\n    return items.map((item: any) => ({\n      ...item,\n      id: this._mapId(item.id, convert)\n    }));\n  }\n\n  _mapId(id: any, convert: any) {\n    return id === NO_SELECTED_ID ? id : convert(id);\n  }\n}\n","import idShortener from '../idShortener';\n\nexport default class FillInTheBlankResponseMapper extends idShortener {\n  map({ data }: {[key: string]: any}) {\n    return this._map(data, this.convertToShort.bind(this));\n  }\n\n  unMap({ data }: {[key: string]: any}) {\n    return this._map(data, this.convertToOriginal.bind(this));\n  }\n\n  _map(data: any, convert: any) {\n    const ids = Object.keys(data);\n    let userResponse: {[key: string]: any} = {};\n\n    ids.forEach((id: any) => {\n      const convertedId = convert(id);\n      userResponse[convertedId] = data[id];\n    });\n\n    return {\n      data: userResponse\n    };\n  }\n}\n","export default class HotspotResponseMapper {\n  map(response: any) {\n    return response;\n  }\n\n  unMap(response: any) {\n    return response;\n  }\n}\n","export default class InformationContentResponseMapper {\n  map(response: any) {\n    return response;\n  }\n\n  unMap(response: any) {\n    return response;\n  }\n}\n","import idShortener from '../idShortener';\n\nexport default class SingleChoiceResponseMapper extends idShortener {\n  map(response: any) {\n    return response.map((id: any) => this.convertToShort(id));\n  }\n\n  unMap(response: any) {\n    return response.map((id: any) => this.convertToOriginal(id));\n  }\n}\n","import SingleChoiceResponseMapper from './SingleChoice';\n\nexport default class MultipleChoiceResponseMapper extends SingleChoiceResponseMapper {\n  map(response: any) {\n    return super.map(response);\n  }\n\n  unMap(response: any) {\n    return super.unMap(response);\n  }\n}\n","import idShortener from '../idShortener';\n\nexport default class OpenQuestionResponseMapper extends idShortener {\n  map(response: any) {\n    return { ...response, id: this.convertToShort(response.id) };\n  }\n\n  unMap(response: any) {\n    return { ...response, id: this.convertToOriginal(response.id) };\n  }\n}\n","import idShortener from '../idShortener';\n\nexport default class StatementChoiceResponseMapper extends idShortener {\n  map(response: any) {\n    return this._map(response, this.convertToShort.bind(this));\n  }\n\n  unMap(response: any) {\n    return this._map(response, this.convertToOriginal.bind(this));\n  }\n\n  _map(response: any, convert: any) {\n    return response.map((option: any) => ({ ...option, id: convert(option.id) }));\n  }\n}\n","import StatementChoiceResponseMapper from './StatementChoice';\n\nexport default class RankingTextResponseMapper extends StatementChoiceResponseMapper {\n  map(response: any) {\n    return super.map(response);\n  }\n\n  unMap(response: any) {\n    return super.unMap(response);\n  }\n}\n","export default class ScenarioResponseMapper {\n  map(response: any) {\n    return response;\n  }\n\n  unMap(response: any) {\n    return response;\n  }\n}\n","import SingleChoiceResponseMapper from './SingleChoice';\n\nexport default class SingleChoiceImageResponseMapper extends SingleChoiceResponseMapper {\n  map(response: any) {\n    return super.map(response);\n  }\n\n  unMap(response: any) {\n    return super.unMap(response);\n  }\n}\n","import StatementChoice from './StatementChoice';\n\nexport default class TextMatchingResponseMapper extends StatementChoice {\n  map(response: any) {\n    return super.map(response);\n  }\n\n  unMap(response: any) {\n    return super.unMap(response);\n  }\n}\n","import * as questionTypes from 'constants/questionTypes';\n\nimport DragAndDropText from './DragAndDropText';\nimport FillInTheBlank from './FillInTheBlank';\nimport HotspotMapper from './HotspotMapper';\nimport InformationContent from './InformationContent';\nimport MultipleChoice from './MultipleChoice';\nimport OpenQuestion from './OpenQuestion';\nimport RankingText from './RankingText';\nimport Scenario from './Scenario';\nimport SingleChoice from './SingleChoice';\nimport SingleChoiceImage from './SingleChoiceImage';\nimport StatementChoice from './StatementChoice';\nimport TextMatching from './TextMatching';\n\n\nconst questions: { [key: string]: any } = {\n  [questionTypes.DRAG_AND_DROP_TEXT]: new DragAndDropText(),\n  [questionTypes.FILL_IN_THE_BLANK]: new FillInTheBlank(),\n  [questionTypes.HOTSPOT]: new HotspotMapper(),\n  [questionTypes.INFORMATION_CONTENT]: new InformationContent(),\n  [questionTypes.MULTIPLE_CHOICE]: new MultipleChoice(),\n  [questionTypes.OPEN_QUESTION]: new OpenQuestion(),\n  [questionTypes.RANKING_TEXT]: new RankingText(),\n  [questionTypes.SCENARIO]: new Scenario(),\n  [questionTypes.SINGLE_CHOICE]: new SingleChoice(),\n  [questionTypes.SINGLE_CHOICE_IMAGE]: new SingleChoiceImage(),\n  [questionTypes.STATEMENT_CHOICE]: new StatementChoice(),\n  [questionTypes.TEXT_MATCHING]: new TextMatching()\n};\nexport default questions;\n","import idShortener from './idShortener';\nimport responseMappers from './responseMappers';\n\nclass IdMapper extends idShortener {\n  map(id: any) {\n    return this.convertToShort(id);\n  }\n\n  unMap(id: any) {\n    return this.convertToOriginal(id);\n  }\n\n  mapResponse(questionType: string, response: any) {\n    return responseMappers[questionType].map(response);\n  }\n\n  unMapResponse(questionType: any, response: any) {\n    return responseMappers[questionType].unMap(response);\n  }\n}\n\nexport default new IdMapper();\n","import { getQuestionsStructure } from 'store/course/selectors';\nimport { isPublishMode } from 'store/settings/selectors';\nimport { shouldSaveCrossDevice } from 'store/user/selectors';\nimport { STATUS_OK } from 'constants/progressStorage';\nimport { compress, decompress } from 'utils/compression';\nimport { isObject } from 'utils/object';\nimport { RootAppState } from 'store/types';\nimport StorageInterface from './storageInterface';\nimport LocalStorage from './localStorage';\nimport ExternalStorage from './externalStorage';\nimport { responseMapper, urlMapper } from './progressMapper';\nimport idMapper from './idMapper';\n\nconst defaultProgress = {\n  url: null,\n  user: null,\n  answers: [],\n  finished: false\n};\n\nclass ProgressStorage extends StorageInterface {\n  progress: any;\n\n  storage: any;\n\n  isScormMode: any;\n\n  questionShortIds: any;\n\n  questionsIndexToIdSchema: any;\n\n  constructor() {\n    super();\n    this.progress = Object.assign({}, defaultProgress);\n    this.storage = null;\n    this.isScormMode = false;\n    this.questionShortIds = null;\n    this.questionsIndexToIdSchema = null;\n  }\n\n  initialize({ state, isScormMode }: any) {\n    this.questionsIndexToIdSchema = getQuestionsStructure(state);\n    this.isScormMode = isScormMode;\n    if (shouldSaveCrossDevice(state) && isPublishMode(state)) {\n      this.storage = new ExternalStorage(state);\n      return;\n    }\n\n    this.storage = new LocalStorage(state);\n  }\n\n  set user(user: any) {\n    this.progress.user = user;\n  }\n\n  set url(url: any) {\n    this.progress.url = url;\n  }\n\n  set attemptId(attemptId: any) {\n    this.progress.attemptId = attemptId;\n  }\n\n  async restoreProgress() {\n    let progress = await this.storage.getProgress();\n    progress = this.isScormMode ? decompress(progress) : progress;\n    if (progress && progress.user && progress.user.email === this.progress.user.email) {\n      if (isObject(progress.answers)) {\n        progress.answers = this._mapObjectAnswersToArray(progress.answers);\n      }\n      this.progress = progress;\n      return true;\n    }\n    return false;\n  }\n\n  updateQuestionProgress(question: any) {\n    const progressIndex = this.questionsIndexToIdSchema.findIndex((id: any) => id === question.id);\n    if (progressIndex === undefined) {\n      throw new Error('Question does not exist.');\n    }\n\n    this.progress.answers[progressIndex] = responseMapper.map(question);\n  }\n\n  removeQuestionProgress(questionId: any) {\n    const progressIndex = this.questionsIndexToIdSchema.findIndex((id: any) => id === questionId);\n    if (progressIndex === undefined) {\n      throw new Error('Question does not exist.');\n    }\n\n    this.progress.answers.slice(progressIndex, 0);\n  }\n\n  async saveProgress(state: RootAppState) {\n    if (this.storage && this.storage.saveProgress) {\n      const progress = this.isScormMode ? compress(this.progress) : this.progress;\n      await this.storage.saveProgress(progress, state);\n    }\n  }\n\n  async removeProgress() {\n    await this.storage.removeProgress();\n    this._clearProgress();\n  }\n\n  async authorizeUser(userData: any) {\n    if (this.storage && this.storage.authorizeUser) {\n      return this.storage.authorizeUser(userData);\n    }\n\n    return null;\n  }\n\n  async registerUser(userData: any) {\n    if (this.storage && this.storage.registerUser) {\n      return this.storage.registerUser(userData);\n    }\n\n    return null;\n  }\n\n  async resetPassword(email: any) {\n    if (this.storage && this.storage.resetPassword) {\n      return this.storage.resetPassword(email);\n    }\n\n    return STATUS_OK;\n  }\n\n  async logout() {\n    if (this.storage && this.storage.logout) {\n      await this.storage.logout();\n    }\n\n    this._clearProgress();\n  }\n\n  async sendSecretLink() {\n    if (this.storage && this.storage.sendSecretLink) {\n      return this.storage.sendSecretLink();\n    }\n\n    return STATUS_OK;\n  }\n\n  use(storage: any) {\n    this.storage = storage;\n  }\n\n  get url() {\n    const { url } = this.progress;\n    return url ? urlMapper.unMap(url) : url;\n  }\n\n  get attemptId() {\n    return this.progress.attemptId;\n  }\n\n  getAnswers(questions: any) {\n    const progressAnswers = this.progress.answers;\n\n    const answers: any[] = [];\n    progressAnswers.forEach((answer: any, index: any) => {\n      if (answer === null) {\n        return;\n      }\n\n      const question = this._getProgressedQuestion({ questions, answer, answerIndex: index });\n      if (!question) {\n        return;\n      }\n\n      const processedAnswer = this._unMapProgress(question, answer);\n      answers.push(processedAnswer);\n    });\n\n    return answers;\n  }\n\n  _getProgressedQuestion({ questions, answer, answerIndex }: { [key: string]: any }) {\n    let questionId: string;\n    if (this._hasFullProgressStructure(answer)) {\n      questionId = this.isScormMode ? idMapper.unMap(answer.id) : answer.id;\n    } else {\n      questionId = this.questionsIndexToIdSchema[answerIndex];\n    }\n\n    return questions.find(({ id }: { [key: string]: any }) => id === questionId);\n  }\n\n  _unMapProgress(question: any, answer: any) {\n    let userResponse;\n    if (this._hasFullProgressStructure(answer)) {\n      const { type, response } = answer;\n      userResponse = this.isScormMode ? idMapper.unMapResponse(type, response) : response;\n      this._rewriteAnswerToShortenStructure(question, userResponse);\n    } else {\n      userResponse = responseMapper.unMap(answer, question);\n    }\n\n    return {\n      id: question.id,\n      response: userResponse\n    };\n  }\n\n  _hasFullProgressStructure(answer: any) {\n    return answer && isObject(answer) && answer.id !== undefined;\n  }\n\n  _rewriteAnswerToShortenStructure(question: any, oldStructureResponse: any) {\n    let entity = Object.assign({}, question);\n    entity.response = oldStructureResponse;\n    entity.isAnswered = true;\n\n    this.updateQuestionProgress(entity);\n  }\n\n  async identifyUser() {\n    if (this.storage && this.storage.identifyUser) {\n      return this.storage.identifyUser();\n    }\n\n    return null;\n  }\n\n  async userExists(email: any) {\n    if (this.storage && this.storage.userExists) {\n      return this.storage.userExists(email);\n    }\n\n    return STATUS_OK;\n  }\n\n  getSocialNetworkAuthLink(socialNetwork: any) {\n    if (this.storage && this.storage.getSocialNetworkAuthLink) {\n      return this.storage.getSocialNetworkAuthLink(socialNetwork);\n    }\n\n    return '#';\n  }\n\n  isAuthenticated() {\n    if (this.storage && this.storage.isAuthenticated) {\n      return this.storage.isAuthenticated();\n    }\n\n    return null;\n  }\n\n  getHeaders({ contentType, bearerToken }: any) {\n    if (this.storage && this.storage.getHeaders) {\n      return this.storage.getHeaders({ contentType, bearerToken });\n    }\n    return {};\n  }\n\n  _clearProgress() {\n    this.progress = Object.assign(defaultProgress, { answers: [] });\n  }\n\n  getToken() {\n    if (this.storage && this.storage.getToken) {\n      return this.storage.getToken();\n    }\n    return '';\n  }\n\n  _mapObjectAnswersToArray(originalAnswers: any) {\n    let answers: any[] = [];\n    Object.keys(originalAnswers).forEach((answerIndex: any) => {\n      answers[answerIndex] = originalAnswers[answerIndex];\n    });\n\n    return answers;\n  }\n}\n\nexport default new ProgressStorage();\n","import { stringify, parse } from 'zipson';\n\nexport const compress = (data: any)  => stringify(data);\nexport const decompress = (data: any) => parse(data);\n","import { events } from 'core/events/eventEmitter';\nimport BaseEventHandler from 'core/events/eventHandler';\nimport progressStorage from './progressStorage';\n\nexport default class EventHandler extends BaseEventHandler {\n  handlers: any[];\n\n  constructor() {\n    super();\n    this.handlers = [\n      { event: events.APP_INITIALIZED, instance: this.appInitialize.bind(this) },\n      { event: events.APP_NAVIGATED, instance: this.appNavigated.bind(this) },\n\n      { event: events.COURSE_LAUNCHED, instance: this.courseLaunched.bind(this) },\n      { event: events.COURSE_PROGRESSED, instance: this.courseProgressed.bind(this) },\n      { event: events.COURSE_ATTEMPT_STARTED, instance: this.courseAttemptStarted.bind(this) },\n\n      { event: events.QUESTION_ANSWERED, instance: this.updateQuestionProgress.bind(this) },\n      {\n        event: events.INFORMATION_CONTENT_EXPERIENCED,\n        instance: this.updateQuestionProgress.bind(this)\n      },\n      { event: events.RESET_QUESTION_PROGRESS, instance: this.removeQuestionProgress.bind(this) },\n\n      { event: events.USER_AUTHENTICATED, instance: this.userAuthorized.bind(this) },\n      { event: events.USER_LOGOUT, instance: this.logout.bind(this) }\n    ];\n  }\n\n  appInitialize({ state, isScormMode }: any) {\n    progressStorage.initialize({ state, isScormMode });\n  }\n\n  appNavigated({ url, state }: { [key: string]: any }) {\n    // fix for browser back button\n    if (progressStorage.url === url) {\n      return;\n    }\n\n    progressStorage.url = url;\n    progressStorage.saveProgress(state);\n  }\n\n  courseLaunched(attemptId: any) {\n    progressStorage.attemptId = attemptId;\n  }\n\n  courseProgressed(state: any) {\n    progressStorage.saveProgress(state);\n  }\n\n  courseAttemptStarted(state: any) {\n    progressStorage.saveProgress(state);\n  }\n\n  updateQuestionProgress([question]: any) {\n    progressStorage.updateQuestionProgress(question);\n  }\n\n  removeQuestionProgress(questionId: any) {\n    progressStorage.removeQuestionProgress(questionId);\n  }\n\n  userAuthorized(user: any) {\n    progressStorage.user = user;\n  }\n\n  async logout({ state }: any) {\n    await progressStorage.logout();\n    this.appInitialize({ state });\n  }\n}\n","import EventHandler from './EventHandler';\nimport progressStorage from './progressStorage';\n\nclass ProgressStorage {\n  eventHandler: any;\n\n  constructor() {\n    this.eventHandler = new EventHandler();\n  }\n\n  subscribe() {\n    this.eventHandler.on();\n  }\n\n  unsubscribe() {\n    this.eventHandler.off();\n  }\n\n  use(storage: any) {\n    progressStorage.use(storage);\n  }\n\n  get url() {\n    return progressStorage.url;\n  }\n\n  get attemptId() {\n    return progressStorage.attemptId;\n  }\n\n  getAnswers(questions: any) {\n    return progressStorage.getAnswers(questions);\n  }\n\n  restoreProgress() {\n    return progressStorage.restoreProgress();\n  }\n\n  identifyUser() {\n    return progressStorage.identifyUser();\n  }\n\n  userExists(email: any) {\n    return progressStorage.userExists(email);\n  }\n\n  resetPassword(email: any) {\n    return progressStorage.resetPassword(email);\n  }\n\n  authorizeUser(userData: any) {\n    return progressStorage.authorizeUser(userData);\n  }\n\n  registerUser(userData: any) {\n    return progressStorage.registerUser(userData);\n  }\n\n  removeProgress() {\n    return progressStorage.removeProgress();\n  }\n\n  sendSecretLink() {\n    return progressStorage.sendSecretLink();\n  }\n\n  getSocialNetworkAuthLink(socialNetwork: any) {\n    return progressStorage.getSocialNetworkAuthLink(socialNetwork);\n  }\n\n  isAuthenticated() {\n    return progressStorage.isAuthenticated();\n  }\n\n  getHeaders({ contentType, bearerToken }: any) {\n    return progressStorage.getHeaders({ contentType, bearerToken });\n  }\n\n  getToken() {\n    return progressStorage.getToken();\n  }\n}\n\nexport default new ProgressStorage();\n","export const DEFAULT_AUTH_URL = 'https://auth-staging.easygenerator.com';\nexport const DEFAULT_LEARN_URL = 'https://learn-staging.easygenerator.com/';\nexport const USER_ALREADY_EXISTS = 'userAlreadyExists';\nexport const EMAIL_PASSWORD_COMBINATION_NOT_EXISTS = 'emailPasswordCombinationNotExists';\nexport const PASSWORD_RESET_SENDING_FAILED = 'passwordResetSendingFailed';\nexport const UNKNOWN_ERROR = 'unknownError';\nexport const STATUS_OK = 'statusOk';\n","export const MEDIA_XSMALL = 376;\nexport const MEDIA_SMALL = 768;\nexport const MEDIA_MEDIUM = 1024;\nexport const MEDIA_LARGE = 1280;\nexport const MEDIA_XLARGE = 1440;\n\nexport const MEDIA_SMALL_FONT_RATIO = 1200;\nexport const MEDIA_TABLET = 1000;\nexport const MEDIA_MOBILE = 580;\n","import {\n  MULTIPLE_CHOICE,\n  SINGLE_CHOICE,\n  SINGLE_CHOICE_IMAGE,\n  STATEMENT_CHOICE,\n  OPEN_QUESTION,\n  RANKING_TEXT,\n  SCENARIO,\n  FILL_IN_THE_BLANK,\n  DRAG_AND_DROP_TEXT,\n  TEXT_MATCHING,\n  HOTSPOT\n} from 'constants/questionTypes';\nimport { MEDIA_TABLET } from 'constants/screenResolutions';\nimport { isLowerResolution } from 'utils/window';\n\nimport { RootAppState } from './types';\n\nconst state: RootAppState = {\n  app: {\n    isLoading: true,\n    isLoaded: false,\n    isLoadingFailed: false,\n    isLowResolution: false\n  },\n  course: {\n    sections: [],\n    title: '',\n    id: '',\n    templateId: '',\n    createdBy: '',\n    createdOn: new Date(),\n    hasIntroductionContent: false,\n    isLoadingFailed: false,\n    attemptId: null,\n    hasBeenContinued: false,\n    result: 0,\n    isCompleted: false,\n    isCertificateDownloaded: false,\n    score: 0,\n    isPassed: false,\n    passedAfterwords: [],\n    failedAfterwords: []\n  },\n  modules: {\n    xapi: {\n      isInitialized: false,\n      isLrsTrackingOn: false,\n      isNpsTrackingOn: false\n    },\n    scorm: {\n      isInitialized: false\n    },\n    progressStorage: {\n      isProgressStorageOn: false\n    },\n    review: {\n      isReviewModeEnabled: false,\n      reviewApiUrl: ''\n    },\n    lti: {\n      isInitialized: false\n    }\n  },\n  sections: {},\n  questions: {},\n  contents: {},\n  settings: {\n    isLoadingFailed: false,\n    template: {},\n    publish: {},\n    manifest: {},\n    translations: {},\n    publishMode: {}\n  },\n  navigation: {\n    chain: [],\n    prevUrl: null\n  },\n  treeOfContent: {\n    isExpanded: true\n  },\n  popup: {\n    isExpanded: false,\n    settings: {}\n  },\n  user: {\n    account: null,\n    email: '',\n    name: '',\n    password: null,\n    shortTermAccess: false,\n    authorizationSkipped: false\n  }\n};\n\nexport default state;\n\nexport function initialize() {\n  if (isLowerResolution(MEDIA_TABLET)) {\n    state.treeOfContent.isExpanded = false;\n  }\n}\n\nexport function getInitialQuestionResponse(questionType: string) {\n  switch (questionType) {\n    case SINGLE_CHOICE:\n    case SINGLE_CHOICE_IMAGE:\n    case MULTIPLE_CHOICE:\n    case STATEMENT_CHOICE:\n    case OPEN_QUESTION:\n    case RANKING_TEXT:\n    case SCENARIO:\n    case FILL_IN_THE_BLANK:\n    case DRAG_AND_DROP_TEXT:\n    case TEXT_MATCHING:\n    case HOTSPOT:\n      return [];\n    default:\n      return null;\n  }\n}\n","import uuidv4 from 'uuid/v4';\nimport deepmerge from 'deepmerge';\n\ntype ObjType = { [key: string]: any };\n\n\nexport function renameProperty(obj: ObjType, currPropName: string, newPropName: string) {\n  const modifiedObj: ObjType = obj || {};\n\n  modifiedObj[newPropName] = modifiedObj[currPropName];\n  delete modifiedObj[currPropName];\n}\n\nexport function guid() {\n  return uuidv4().replace(/[-]/g, '');\n}\n\nexport function guidWithHyphens() {\n  return uuidv4();\n}\n\nexport function toggleArrayElement(array: any[], element: any): any[] {\n  const index = array.indexOf(element);\n  if (index !== -1) {\n    array.splice(index, 1);\n  } else {\n    array.push(element);\n  }\n  return array;\n}\n\nexport function toggleArrayStatementElement(array: any[], element: any): any[] {\n  const index = array.indexOf(element);\n  if (index !== -1) {\n    array.splice(index, 1);\n  }\n  if (\n    array.some(e => e.id === element.id) &&\n    array.find(s => s.id === element.id).hasOwnProperty('isCorrect')\n  ) {\n    array.find(s => s.id === element.id).isCorrect = element.isCorrect;\n  } else {\n    array.push(element);\n  }\n  return array;\n}\n\nexport function objectToArray(value: ObjType): any[] {\n  return Object.keys(value).reduce((acc: any[], item: string) => {\n    acc.push(value[item]);\n    return acc;\n  }, []);\n}\n\nfunction overwriteMerge(destinationArray: any[], sourceArray: any[]): any[] {\n  return sourceArray.filter((item: any) => item != null);\n}\n\nexport function deepMerge(obj1: ObjType, obj2: ObjType): object {\n  if (Object.keys(obj2).length === 0) {\n    return obj1;\n  }\n  return deepmerge(obj1, obj2, {\n    arrayMerge: overwriteMerge\n  });\n}\n\nexport function isArray(item: any): boolean {\n  return item && item.constructor && item.constructor === Array;\n}\n\nexport function isObject(item: any): boolean {\n  return item && item.constructor && item.constructor === Object;\n}\n\nexport function deepExtend(destination: any, source: any): any {\n  if (destination === null || destination === undefined) {\n    return source;\n  }\n\n  for (const property in source) {\n    if (source[property] && (isObject(source[property]) || isArray(source[property]))) {\n      if (\n        (destination.hasOwnProperty(property) && hasInternalObjectsOrArrays(source[property])) ||\n        (!isArray(destination) &&\n          !isArray(source) &&\n          isObject(destination[property]) &&\n          isObject(source[property]) &&\n          !hasSameNumbersOfKeys(destination[property], source[property]))\n      ) {\n        deepExtend(destination[property], source[property]);\n      } else {\n        if (isArray(destination)) {\n          const { index, deleteNumber } = getItemPositionValues(destination, source[property].key);\n          destination.splice(index, deleteNumber, source[property]);\n          continue;\n        }\n\n        destination[property] = source[property];\n      }\n    } else {\n      destination[property] = source.hasOwnProperty(property)\n        ? source[property]\n        : destination[property];\n    }\n  }\n  return destination;\n}\n\nexport function hasInternalObjectsOrArrays(object: ObjType): boolean {\n  let counter = 0;\n  for (const property in object) {\n    if (object[property] && (isObject(object[property]) || isArray(object[property]))) {\n      counter++;\n    }\n  }\n  return counter > 0;\n}\n\nexport function hasSameNumbersOfKeys(destinationObj: ObjType, sourceObj: ObjType): boolean {\n  return Object.keys(destinationObj).length === Object.keys(sourceObj).length;\n}\n\ntype ReplacedItem = {\n  index: number,\n  deleteNumber: number\n}\n\nfunction getItemPositionValues(destination: any, sourceKey: any): ReplacedItem {\n  const index = destination.findIndex((item: any) => item.key === sourceKey);\n  const shouldReplaceItem = index !== -1;\n\n  return {\n    index: shouldReplaceItem ? index : destination.length,\n    deleteNumber: shouldReplaceItem ? 1 : 0\n  };\n}\n","import styled, { css } from 'styled-components';\nimport * as typography from 'components/mixins/typography';\n\nconst normalizeFocus = () => css`\n  &:focus {\n    outline: none;\n    border: none;\n  }\n`;\n\ntype HeadersProps = {\n  title: string;\n  tabIndex: string;\n}\nexport const Header1 = styled.h1.attrs((props: HeadersProps) => ({\n  tabIndex: 1,\n  title: props.title\n}))`\n  ${normalizeFocus};\n  ${typography.mainFontH1};\n`;\n\nexport const Header2 = styled.h2.attrs(() => ({\n  tabIndex: 1\n}))`\n  ${normalizeFocus};\n  ${typography.mainFontH2};\n`;\n\nexport const Header3 = styled.h3.attrs(() => ({\n  tabIndex: 1\n}))`\n  ${normalizeFocus};\n  ${typography.mainFontH3};\n`;\n\nexport const Header4 = styled.h4`\n  ${typography.mainFontH4};\n  ${normalizeFocus};\n`;\n\nexport const Span = styled.span`\n  ${typography.secondaryFontSmallText};\n  line-height: normal;\n`;\n\nexport const Paragraph = styled.p`\n  ${typography.secondaryFontText};\n`;\n\nexport const ellipsisMixin = css`\n  display: inline-block;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nexport const sizeMixin = (size: number) => css`\n  font-size: ${size}px;\n`;\n\nexport const fontMixin = (fontName: string) => css`\n  font-family: ${props => props.theme.fonts[fontName].fontFamily};\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { getShortString } from 'utils/string';\nimport {\n  Header1,\n  Header2,\n  Header3,\n  Header4,\n  Span,\n  Paragraph,\n  ellipsisMixin,\n  sizeMixin,\n  fontMixin\n} from './Text.styled';\n\nconst components = {\n  h1: Header1,\n  h2: Header2,\n  h3: Header3,\n  h4: Header4,\n  p: Paragraph,\n  span: Span\n};\n\ninterface TextAppearance {\n  h1: string;\n  h2: string;\n  h3: string;\n  h4: string;\n  span: string;\n  p: string;\n}\n\ntype TextProps = {\n  appearance: keyof TextAppearance;\n  ellipsis?: boolean;\n  children: React.ReactNode;\n  maxLength?: number;\n  size?: number;\n  font?: string;\n  title?: string;\n  inverted?: any;\n  theme?: any;\n}\n\nexport class Text extends React.PureComponent<TextProps, {}> {\n  refElement: any;\n  children: string;\n\n  constructor(props: TextProps) {\n    super(props);\n    this.refElement = React.createRef();\n    this.children = '';\n  }\n\n  static defaultProps = {\n    appearance: 'span'\n  };\n\n  componentDidMount() {\n    if (\n      this.props.appearance === 'h1' ||\n      this.props.appearance === 'h2' ||\n      this.props.appearance === 'h3'\n    ) {\n      this.refElement.current.focus();\n    }\n  }\n\n  render() {\n    const { appearance, children, maxLength, font, ...other } = this.props;\n    if (maxLength && typeof children === 'string') {\n      this.children = getShortString(children, maxLength);\n    }\n    let Wrapper = styled(components[appearance])`\n      ${font && fontMixin(font)};\n      ${(p: any) => p.ellipsis && ellipsisMixin};\n      ${(p: any) => p.size && sizeMixin(p.size)};\n    `;\n    return (\n      <Wrapper\n        ref={this.refElement}\n        {...other}\n      >\n        {children}\n      </Wrapper>\n    );\n  }\n}\n\nexport default Text;\n","export { default } from './Text';\n","export type CourseState = {\n    title: string;\n    id: string;\n    templateId: string;\n    createdBy: string;\n    createdOn: Date;\n    hasIntroductionContent: boolean;\n    isLoadingFailed: boolean;\n    attemptId: string | null;\n    hasBeenContinued: boolean;\n    result: number;\n    isCompleted: boolean;\n    isCertificateDownloaded: boolean;\n    score: number;\n    isPassed: boolean;\n    sections: string[];\n    introductions?: string[];\n    passedAfterwords: string[];\n    failedAfterwords: string[];\n    previewQuestionId?: string;\n}\n\nexport enum ActionTypes {\n    COURSE_DATA_LOADING_STARTED = 'COURSE_DATA_LOADING_STARTED',\n    COURSE_DATA_LOADED = 'COURSE_DATA_LOADED',\n    COURSE_DATA_LOADING_FAILED = 'COURSE_DATA_LOADING_FAILED',\n    COURSE_SCORE_UPDATED = 'COURSE_SCORE_UPDATED',\n    COURSE_LAUNCHED = 'COURSE_LAUNCHED',\n    COURSE_STARTED = 'COURSE_STARTED',\n    COURSE_PROGRESS_RESTORED = 'COURSE_PROGRESS_RESTORED',\n    COURSE_CLEANUP = 'COURSE_CLEANUP',\n    COURSE_FINISHED = 'COURSE_FINISHED',\n    COURSE_FINALIZED = 'COURSE_FINALIZED',\n    CLEAR_PREVIEW_QUESTION_ID = 'CLEAR_PREVIEW_QUESTION_ID',\n    CERTIFICATE_DOWNLOADED = 'CERTIFICATE_DOWNLOADED',\n    COURSE_IS_PASSED = 'COURSE_PASSED'\n}\n\ninterface CourseIsPassed {\n    type: ActionTypes.COURSE_IS_PASSED,\n    payload: {\n        isPassed: boolean\n    }\n}\n\ninterface CourseScoreUpdate {\n    type: ActionTypes.COURSE_SCORE_UPDATED,\n    payload: {\n        score: number,\n        isPassed: boolean\n    }\n}\n\ninterface CourseDataLoadingStarted {\n    type: ActionTypes.COURSE_DATA_LOADING_STARTED\n}\n\ninterface CourseDataLoaded {\n    type: ActionTypes.COURSE_DATA_LOADED,\n    payload: CourseState\n}\n\ninterface CourseDataLoadedFailed {\n    type: ActionTypes.COURSE_DATA_LOADING_FAILED;\n    reason: any;\n}\n\ninterface CourseProgressRestored {\n    type: ActionTypes.COURSE_PROGRESS_RESTORED;\n    payload: {\n        attemptId: string;\n    }\n}\n\ninterface CourseLaunched {\n    type: ActionTypes.COURSE_LAUNCHED;\n    payload: {\n        attemptId?: string;\n    }\n}\n\ninterface CourseStarted {\n    type: ActionTypes.COURSE_STARTED;\n}\n\ninterface CourseCleanUp {\n    type: ActionTypes.COURSE_CLEANUP;\n}\n\ninterface CourseFinished {\n    type: ActionTypes.COURSE_FINISHED;\n}\n\ninterface CourseFinalized {\n    type: ActionTypes.COURSE_FINALIZED;\n}\n\ninterface ClearPreviewQuestionId {\n    type: ActionTypes.CLEAR_PREVIEW_QUESTION_ID;\n}\n\ninterface CertificateDownloaded {\n    type: ActionTypes.CERTIFICATE_DOWNLOADED;\n    payload: any;\n}\n\nexport type CourseActionTypes = CourseIsPassed | CourseScoreUpdate | CourseDataLoadingStarted | CourseDataLoadedFailed | CourseProgressRestored | CourseLaunched | CourseStarted | CourseCleanUp | CourseFinished | CourseFinalized | ClearPreviewQuestionId | CertificateDownloaded | CourseDataLoaded;\n","export const REVIEW_USER_EMAIL = 'reviewerUsermail';\nexport const REVIEW_USER_NAME = 'reviewerUsername';\nexport const HINT_FOR_SPOT_COMMENT = 'hintForSpotComment';\nexport const HINT_FOR_GENERAL_COMMENT = 'hintForGeneralComment';\n\nexport const COMMENT_SENDING_FAILED = 'commentSendingFailed';\nexport const STATUS_OK = 'statusOk';\n\nexport const REVIEW_COMMENT_PROPERTIES: { [key: string]: string } = {\n  DEFAULT_TITLE: 'defaultTitle',\n  TITLE: 'title',\n  INTRODUCTION: 'introduction',\n  LEARNING_CONTENT: 'learningContent',\n  QUESTION: 'question',\n  VOICE_OVER: 'voiceOver',\n  CONTENT_ITEM: 'contentItem',\n  TITLE_OF_THE_SECTION: 'titleOfTheSection',\n  GENERAL: 'general'\n};\n\nexport const REVIEW_COMMENT_TYPES: { [key: string]: string } = {\n  QUESTION: 'question',\n  INFORMATION_CONTENT: 'informationContent',\n  COURSE: 'course',\n  SECTION: 'section'\n};\n","import fetchRetry from 'fetch-retry';\n\nconst defaultRetryOptions = {\n  retries: 20,\n  retryDelay: 5000,\n  retryOn: [503, 500]\n};\n\ntype RequestData = { [key: string]: any };\n\nconst getRequestOptions = (requestOptions: any, retryOptions: any) =>\n  retryOptions\n    ? { ...defaultRetryOptions, ...retryOptions, ...requestOptions }\n    : { ...requestOptions };\n\nconst defaultCredentials = 'same-origin';\n\nexport default {\n  async get(\n    url: string,\n    {\n      headers,\n      cacheBuster,\n      credentials = defaultCredentials,\n      mode,\n      query,\n      retryOptions\n    }: RequestData\n  ) {\n    const queryString = this._buildQueryString(query, cacheBuster);\n    const requestOptions = {\n      method: 'GET',\n      headers: this._buildHeaders(headers, cacheBuster),\n      credentials,\n      mode\n    };\n\n    return fetchRetry(url + queryString, getRequestOptions(requestOptions, retryOptions));\n  },\n  async post(\n    url: string,\n    { headers, cacheBuster, credentials = defaultCredentials, data, retryOptions }: RequestData\n  ) {\n    const body = JSON.stringify(data);\n\n    if ('Content-Type' in headers) {\n      headers['Content-Length'] = body.length;\n    }\n\n    const requestOptions = {\n      method: 'POST',\n      headers: this._buildHeaders(headers, cacheBuster),\n      body,\n      credentials\n    };\n\n    return fetchRetry(url, getRequestOptions(requestOptions, retryOptions));\n  },\n  async put(\n    url: string,\n    {\n      headers,\n      cacheBuster,\n      credentials = defaultCredentials,\n      data,\n      query,\n      retryOptions\n    }: RequestData\n  ) {\n    const queryString = this._buildQueryString(query, cacheBuster);\n    const body = JSON.stringify(data);\n    if ('Content-Type' in headers) {\n      headers['Content-Length'] = body.length;\n    }\n\n    const requestOptions = {\n      method: 'PUT',\n      headers: this._buildHeaders(headers, cacheBuster),\n      body,\n      credentials\n    };\n\n    return fetchRetry(url + queryString, getRequestOptions(requestOptions, retryOptions));\n  },\n  _buildQueryString(query: any, cacheBuster: any) {\n    if (!query) {\n      query = {};\n    }\n    let queryString = '';\n\n    query.v = cacheBuster || +new Date();\n    for (let key of Object.keys(query)) {\n      queryString += `&${encodeURIComponent(key)}=${encodeURIComponent(query[key])}`;\n    }\n    if (queryString) {\n      queryString = queryString.replace('&', '?');\n    }\n\n    return queryString;\n  },\n  _buildHeaders(headers: { [key: string]: any } = {}, cacheBuster = '') {\n    const _headers = Object.assign({}, headers);\n    const CACHE_EXPIRATION_DATE_IN_SECONDS = 2678400;\n    if (cacheBuster) {\n      _headers['Cache-Control'] = 'public';\n      _headers.Pragma = 'public';\n      _headers.Expires = CACHE_EXPIRATION_DATE_IN_SECONDS;\n    } else {\n      _headers['Cache-Control'] = 'no-cache';\n      _headers.Pragma = 'no-cache';\n      _headers.Expires = 0;\n    }\n\n    return _headers;\n  }\n};\n","export type ModulesState = {\n    xapi: {\n        isInitialized: boolean;\n        isLrsTrackingOn: boolean;\n        isNpsTrackingOn: boolean;\n    },\n    scorm: {\n        isInitialized: boolean\n    };\n    progressStorage: {\n        isProgressStorageOn: boolean;\n    };\n    review: {\n        isReviewModeEnabled: boolean;\n        reviewApiUrl: string;\n    };\n    lti: {\n        isInitialized: boolean;\n    }\n}\nexport enum ActionTypes {\n    MODULE_XAPI_INITIALIZED = 'MODULE_XAPI_INITIALIZED',\n    MODULE_XAPI_LRS_ON = 'MODULE_XAPI_LRS_ON',\n    MODULE_XAPI_LRS_OFF = 'MODULE_XAPI_LRS_OFF',\n    MODULE_XAPI_NPS_ON = 'MODULE_XAPI_NPS_ON',\n    MODULE_XAPI_NPS_OFF = 'MODULE_XAPI_NPS_OFF',\n    MODULE_SCORM_INITIALIZED = 'MODULE_SCORM_INITIALIZED',\n    MODULE_PROGRESS_STORAGE_ON = 'MODULE_PROGRESS_STORAGE_ON',\n    MODULE_PROGRESS_STORAGE_OFF = 'MODULE_PROGRESS_STORAGE_OFF',\n    ENABLE_REVIEW_MODE = 'ENABLE_REVIEW_MODE',\n    MODULE_LTI_INITIALIZED = 'MODULE_LTI_INITIALIZED'\n}\n\ntype InitializeXApi = {\n    type: ActionTypes.MODULE_XAPI_INITIALIZED \n}\n\ntype SubscribeLRS = {\n    type: ActionTypes.MODULE_XAPI_LRS_ON\n}\n\ntype SubscribeNPS = {\n    type: ActionTypes.MODULE_XAPI_NPS_ON\n}\n\ntype SubscribePS = {\n    type: ActionTypes.MODULE_PROGRESS_STORAGE_ON\n}\n\ntype SubscribeLTI = {\n    type: ActionTypes.MODULE_LTI_INITIALIZED\n}\n\ntype UnsubscribeLrs = {\n    type: ActionTypes.MODULE_XAPI_LRS_OFF\n}\n\ntype UnsubscribeNPS = {\n    type: ActionTypes.MODULE_XAPI_NPS_OFF\n}\n\ntype UnsubscribePS = {\n    type: ActionTypes.MODULE_PROGRESS_STORAGE_OFF\n}\n\ntype ScrormInitialize = {\n    type: ActionTypes.MODULE_SCORM_INITIALIZED\n}\n\ntype EnableReview = {\n    type: ActionTypes.ENABLE_REVIEW_MODE,\n    payload: {\n        reviewApiUrl: string\n    }\n}\n\nexport type  ModulesActionTypes = InitializeXApi | SubscribeLRS | SubscribeNPS | SubscribePS | SubscribeLTI | UnsubscribeLrs | UnsubscribeNPS | UnsubscribePS | ScrormInitialize | EnableReview;\n\n","export const POPUP_ID_IMAGE_PREVIEW = 'image-preview';\nexport const POPUP_ID_CLOSE_COURSE = 'close-course';\nexport const POPUP_ID_NPS_POPUP = 'nps-popup';\nexport const POPUP_ID_CONTINUE_LATER = 'continue-later';\nexport const POPUP_ID_START_NEW_ATTEMPT = 'start-new-attempt';\nexport const POPUP_ID_CONTINUE_LATER_IN_SCORM = 'continue-later-in-scorm';\n","export type QuestionsState = {\n    [key: string]: any\n}\nexport enum ActionTypes {\n    QUESTIONS_LOADED = 'QUESTIONS_LOADED',\n    QUESTION_ANSWERED = 'QUESTION_ANSWERED',\n    QUESTION_PROGRESS_RESET = 'QUESTION_PROGRESS_RESET',\n    QUESTION_OPENED = 'QUESTION_OPENED',\n    QUESTION_PROGRESS_RESTORE = 'QUESTION_PROGRESS_RESTORE',\n    QUESTION_RESTORE_RESPONSE = 'QUESTION_RESTORE_RESPONSE',\n    FEEDBACK_ANIMATING = 'FEEDBACK_ANIMATING'\n}\n\ntype QuestionLoaded = {\n    type: ActionTypes.QUESTIONS_LOADED,\n    payload: {\n        questions: any // TODO: add type\n    }\n}\n\ntype QuestionAnswered = {\n    type: ActionTypes.QUESTION_ANSWERED,\n    payload: {\n        id: string,\n        score: number\n    }\n}\n\ntype QuestionOpened = {\n    type: ActionTypes.QUESTION_OPENED,\n    payload: {\n        hasBeenOpened: boolean,\n        questionId: string\n    }\n}\n\ntype QuestionProgressReset = {\n    type: ActionTypes.QUESTION_PROGRESS_RESET,\n    payload: {\n        id: string,\n        type: string\n    }\n}\n\ntype QuestionRestoreResponse = {\n    type: ActionTypes.QUESTION_RESTORE_RESPONSE,\n    payload: {\n        id: string,\n        response: any\n    }\n}\n\ntype QuestionProgressRestore = {\n    type: ActionTypes.QUESTION_PROGRESS_RESTORE,\n    payload: {\n        id: string,\n        score: number\n    }\n}\n\ntype FeedbackAnimating = {\n    type: ActionTypes.FEEDBACK_ANIMATING,\n    payload: {\n        id: string,\n        isFeedbackAnimating: boolean\n    }\n}\nexport type QuestionActionTypes = FeedbackAnimating | QuestionOpened | QuestionLoaded | QuestionAnswered |\n    QuestionProgressReset | QuestionRestoreResponse | QuestionProgressRestore;\n","/* eslint-disable no-useless-escape */\nexport const toCamelCase = (value: string) =>\n  value.toLowerCase().replace(/(\\-\\w)/g, matches => matches[1].toUpperCase());\n\nexport const normalizeColorName = (color: any) => toCamelCase(color.replace('@', ''));\n\nexport const getShortString = (str: any, countOfSymbols = 0) => {\n  const eos = '...';\n  if (typeof str !== 'string') {\n    return str;\n  }\n  let strLength = str.length;\n  if (strLength <= countOfSymbols) {\n    return str;\n  }\n  return `${str.substr(0, countOfSymbols)}${eos}`;\n};\n\nexport const getSizeString = (size: number) => {\n  var sizeStr = '';\n  if (!size || size < 1024) {\n    return '0 Kb';\n  }\n  if (size < 1024 * 1024) {\n    sizeStr = (size / 1024).toFixed(2);\n    return `${sizeStr} Kb`;\n  }\n  sizeStr = (size / (1024 * 1024)).toFixed(2);\n  return `${sizeStr} MB`;\n};\n\nexport const isMeaningful = (value: string) => !!(value && value.trim().length > 0);\n\nexport const isUUID = (id: string) => {\n  const regex = new RegExp(\n    /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i\n  );\n  return regex.test(id);\n};\n\n// temporary for learnServiceUrl courseId`s, delete after migration\nexport const IdToUuid = (id: string) => {\n  if (isUUID(id)) {\n    return id;\n  }\n  return `${id.slice(0, 8)}-${id.slice(8, 12)}-${id.slice(12, 16)}-${id.slice(16, 20)}-${id.slice(\n    20,\n    32\n  )}`;\n};\n","import styled, { keyframes, css } from 'styled-components';\n\nconst defaultBorderColor = '#F6842C';\n\nconst getBorderColor = (theme: any) =>\n  (theme && theme.colors && theme.colors.mainColor) || defaultBorderColor;\n\nconst circleRotate = keyframes`\n  0% {\n        transform: rotate(0deg);\n  }\n  100% {\n        transform: rotate(360deg);\n  }\n`;\n\nconst strokeRotate = keyframes`\n  0% {\n        transform: rotate(0deg);\n  }\n  100% {\n        transform: rotate(1080deg);\n  }\n`;\n\nconst strokeFix = keyframes`\n  0% {\n        transform: rotate(0deg);\n  }\n  50% {\n        transform: rotate(135deg);\n  }\n  100% {\n        transform: rotate(270deg);\n  }\n`;\n\nconst strokeLeftGrow = keyframes`\n  0% {\n        transform: rotate(-5deg);\n  }\n  50% {\n        transform: rotate(-140deg);\n  }\n  100% {\n        transform: rotate(-5deg);\n  }\n`;\n\nconst strokeRightGrow = keyframes`\n  0% {\n        transform: rotate(5deg);\n  }\n  50% {\n        transform: rotate(140deg);\n  }\n  100% {\n        transform: rotate(5deg);\n  }\n`;\n\nexport const getGeneralLineStyle = (width?: number, height?: number) => css`\n  width: ${width || 24}px;\n  height: ${height || 24}px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -${width ? width / 2 : 12}px;\n  margin-left: -${width ? width / 2 : 12}px;\n`;\n\nexport const lineStyle = css`\n  content: '';\n  display: block;\n  border-style: solid;\n  border-width: 3px;\n`;\n\nexport const getLineStyleStrokeRight = (iconSize?: number) => css`\n  position: absolute;\n  clip: rect(${iconSize ? `0 ${iconSize}px ${iconSize}px ${iconSize / 2}px` : `0 24px 24px 12px`});\n`;\n\nexport const getLineStyleStrokeLeft = (iconSize?: number) => css`\n  position: absolute;\n  clip: rect(${iconSize ? `0 ${iconSize / 2}px ${iconSize}px 0` : `0 12px 24px 0`});\n`;\n\nexport const getLineStyleStroke = (iconSize?: number) => css`\n  position: absolute;\n  clip: rect(\n    ${iconSize ? `0 ${iconSize / 2}px ${iconSize / 2}px ${iconSize / 2}px` : `0 12px 12px 12px`}\n  );\n`;\n\nexport const generalAnimationCircle = css`\n  animation: ${circleRotate} 1200ms linear infinite both;\n`;\n\nexport const generalAnimation = css`\n  animation: ${strokeFix} 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;\n`;\n\nexport const generalAnimationStroke = css`\n  animation: ${strokeRotate} 5332ms steps(4) infinite both;\n`;\n\nexport const generalAnimationRight = css`\n  animation: ${strokeRightGrow} 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;\n`;\n\nexport const generalAnimationLeft = css`\n  animation: ${strokeLeftGrow} 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;\n`;\n\ninterface LoaderProps {\n  iconSize?: number\n}\n\nexport const LoaderCircle = styled.div.attrs(() => ({\n  'data-test': 'circle-loader'\n}))`\n  ${(props: LoaderProps) => getGeneralLineStyle(props.iconSize, props.iconSize)} ${generalAnimationCircle};\n`;\n\nexport const LoaderStroke = styled.div<LoaderProps>`\n  ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n  ${generalAnimationStroke}\n  \n  &:before{\n    ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n    ${lineStyle}\n    ${props => getLineStyleStroke(props.iconSize)}\n    ${generalAnimation}\n    border-color: ${props => getBorderColor(props.theme)}\n`;\n\nexport const LoaderStrokeLeft = styled.div<LoaderProps>`\n  ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n  ${props => getLineStyleStrokeLeft(props.iconSize)}\n  ${generalAnimation}\n  \n  &:before{\n    ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n    ${lineStyle}\n    ${props => getLineStyleStrokeRight(props.iconSize)}\n    ${generalAnimationLeft}\n    border-color: ${props => getBorderColor(props.theme)}\n  }\n`;\n\nexport const LoaderStrokeRight = styled.div<LoaderProps>`\n  ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n  ${props => getLineStyleStrokeRight(props.iconSize)}\n  ${generalAnimation}\n  \n  &:before{\n    ${props => getGeneralLineStyle(props.iconSize, props.iconSize)}\n    ${lineStyle}\n    ${props => getLineStyleStrokeLeft(props.iconSize)}\n    ${generalAnimationRight}\n    border-color: ${props => getBorderColor(props.theme)}\n`;\n","import * as React from 'react';\nimport {\n  LoaderCircle,\n  LoaderStroke,\n  LoaderStrokeLeft,\n  LoaderStrokeRight\n} from './CircleLoader.styled';\n\nexport interface CircleLoader {\n  iconSize?: number\n}\n\nexport const CircleLoader = (props: Readonly<CircleLoader>) => {\n  const { iconSize } = props;\n  return (\n    <LoaderCircle iconSize={iconSize}>\n      <LoaderStroke iconSize={iconSize}>\n        <LoaderStrokeLeft iconSize={iconSize} />\n        <LoaderStrokeRight iconSize={iconSize} />\n      </LoaderStroke>\n    </LoaderCircle>\n  );\n};\n\n\nexport default CircleLoader;\n","export { default } from './CircleLoader';\n","import requester from './requester';\n\nclass ResourceLoader {\n  expires: any;\n  constructor() {\n    this.expires = +new Date();\n  }\n\n  set cacheBuster(cacheBuster) {\n    if (!cacheBuster) {\n      return;\n    }\n    this.expires = +Date.parse(cacheBuster);\n  }\n\n  get cacheBuster() {\n    return this.expires;\n  }\n\n  getLocalResource(relativeUrl: string) {\n    let { expires } = this;\n    return requester.get(`${relativeUrl}`, {\n      cacheBuster: expires\n    });\n  }\n\n  async getLocalJsonResource(relativeUrl: string) {\n    const response = await this.getLocalResource(relativeUrl);\n    const responseText = await response.text(); // fix for preview\n    if (!responseText || responseText.length === 0) {\n      return {};\n    }\n\n    return JSON.parse(responseText);\n  }\n}\n\nexport default new ResourceLoader();\n","import store from 'store';\nimport { getTranslations } from 'store/settings/selectors';\n\nconst applyTemplateData = (value: any, templateData: any) => {\n  for (let prop in templateData) {\n    const pattern = `{\\\\s*${prop}\\\\s*}`;\n    const regex = new RegExp(pattern, 'gmi');\n    value = value.replace(regex, templateData[prop]);\n  }\n  return value;\n};\n\n/* eslint-disable import/prefer-default-export */\nexport const localize = (key: any, templateData?: any, defaultValue?: any) => {\n  const translations = getTranslations(store.getState());\n  if (process.env.NODE_ENV === 'development' && !translations) {\n    return defaultValue || key;\n  }\n  if (!translations.hasOwnProperty(key)) {\n    throw new Error(\n      `Localization error appeared. Translation for key '${key}' has not been found.`\n    );\n  }\n  const value = translations[key];\n  return templateData ? applyTemplateData(value, templateData) : value;\n};\n","/* eslint-disable import/prefer-default-export */\nexport { localize } from './localization';\n","import styled, { keyframes, css } from 'styled-components';\nimport Text from 'components/common/Text';\nimport Icon from 'components/common/Icon';\nimport { transition } from 'components/mixins/interactivity';\nimport { transparentize } from 'utils/color';\nimport { SIZES } from 'constants/components';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nexport const CheckIcon = styled(Icon)``;\n\nexport const CheckImageIcon = styled(Icon)`\n  opacity: 0;\n  transition: 0.3s;\n  position: absolute;\n  top: 0;\n  left: 0;\n`;\n\ntype TextElement = {\n  selected: boolean;\n}\nexport const TextElement = styled(Text)<TextElement>`\n  color: ${props => props.theme.colors.textColor};\n  ${transition('padding-right')};\n`;\n\nexport const AnswerImage = styled.img.attrs((props: any) => ({\n  alt: props.alt\n}))`\n  position: absolute;\n  top: -6000px;\n  bottom: -6000px;\n  right: -6000px;\n  left: -6000px;\n  margin: auto;\n`;\n\ntype ButtonElementProps = {\n  selected: boolean;\n  multiple: boolean;\n  size: any;\n  imageUrl?: string;\n}\nexport const ButtonElement = styled.div.attrs({\n  'data-test': 'button-element'\n}) <ButtonElementProps>`\n  flex-shrink: 0;\n  align-self: self-start;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 20px;\n  width: 30px;\n  height: 30px;\n  background-color: ${props =>\n    props.selected\n      ? props.theme.colors.mainColor\n      : transparentize(props.theme.colors.textColor, 0.06)};\n  border-radius: ${props => (props.multiple ? '2px' : '50%')};\n\n    position: absolute;\n    top: 50%;\n    left: 10px;\n    margin-top: -15px;\n  \n  ${props =>\n    props.size === SIZES.SMALL &&\n    css`\n      width: 15px;\n      height: 15px;\n      margin-right: 8px;\n\n      & ${CheckIcon} {\n        font-size: 5px;\n      }\n    `};\n\n  ${props =>\n    props.multiple\n      ? css`\n          & ${CheckIcon} {\n            opacity: ${props.selected ? '1' : '0'};\n            color: ${props.selected\n          ? props.theme.colors.buttonTextColor\n          : transparentize(props.theme.colors.textColor, 0.2)};\n          }\n        `\n      : css`\n          & ${CheckIcon} {\n            display: none;\n          }\n\n          &:before {\n            content: '';\n            display: inline-block;\n            width: 10px;\n            height: 10px;\n            background-color: #fff ${props.selected ? '!important' : ''};\n            border-radius: 50%;\n            opacity: ${props.selected ? '1' : '0'};\n          }\n        `};\n        \n  ${props =>\n    props.imageUrl\n      ? css`\n          position: absolute;\n          width: 60px;\n          height: 60px;\n          top: 50%;\n          left: 50%;\n          margin-top: -30px;\n          margin-left: -30px;\n          margin-right: 0;\n          box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n          transition: 0.3s;\n\n          ${props.selected\n          ? css`\n                background-color: ${props.theme.colors.mainColor};\n                opacity: 1 !important;\n              `\n          : css`\n                opacity: 0;\n                background-color: transparent !important;\n              `};\n\n          & ${CheckIcon} {\n            display: block;\n            transition: 0.3s;\n            ${props.selected ? 'opacity: 1 !important' : 'opacity: 0 !important'};\n            font-size: 14px;\n          }\n          & ${CheckImageIcon} {\n            ${!props.selected ? 'opacity: 1' : ''};\n          }\n\n          &:before {\n            display: none;\n          }\n        `\n      : css``};\n  }\n`;\n\nconst checkMarkAnimate = keyframes`\n  0% {\n        transform: scale(1);\n  }\n  50% {\n        transform: scale(0.85);\n  }\n  100% {\n        transform: rotate(1);\n  }\n`;\n\ntype ButtonWrapperProps = {\n  tabIndex: number;\n  roleValue: string;\n  imageUrl?: string;\n  ariaLabel?: string;\n  ariaDisabled: boolean;\n  selected: boolean;\n  ariaChecked: boolean;\n}\nexport const ButtonWrapper = styled.div.attrs((props: ButtonWrapperProps) => ({\n  tabIndex: props.tabIndex,\n  role: props.roleValue,\n  'aria-label': (props.imageUrl ? props.ariaLabel : undefined),\n  'aria-disabled': props.ariaDisabled,\n  'data-test': 'switch-button'\n}))<ButtonWrapperProps>`\n  height: 100%;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  padding: 10px;\n  padding-left: 60px;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:focus,\n  &:hover {\n    & ${CheckIcon} {\n      opacity: 1;\n    }\n    ${ButtonElement}:before {\n      opacity: 1;\n      background-color: ${props => transparentize(props.theme.colors.textColor, 0.2)};\n    }\n  }\n\n  ${props =>\n    props.selected && props.imageUrl\n      ? css`\n          ${ButtonElement} {\n            animation: ${checkMarkAnimate} 0.4s linear 1 both;\n          }\n        `\n      : css``};\n  &:focus {\n    .show-on-hover {\n      opacity: 0.75;\n    }\n`;\n","import { RootAppState } from '../types';\n\nexport const getChain = (state: RootAppState) => state.navigation.chain;\nexport const getPrevUrl = (state: RootAppState) => state.navigation.prevUrl;\n","import eventEmitter, { events } from 'core/events/eventEmitter';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const navigatedToUrl = (\n  prevUrl: string,\n  currentUrl: string\n): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  await eventEmitter.emit(events.APP_NAVIGATED, { url: currentUrl, state: getState() });\n  dispatch({ type: ActionTypes.NAVIGATED_INSIDE_THE_APP, payload: { prevUrl, currentUrl } });\n};\n\nexport const goToUrl = (url: string): ThunkResult => () => {\n  window.open(url, '_self');\n}\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { INDEX_PATH, RESULTS_PATH } from 'constants/navigation';\nimport { getChain, getPrevUrl } from 'store/navigation/selectors';\nimport * as actions from 'store/navigation/actions';\nimport { RootAppState } from 'store/types';\n\ntype NavigationProps = {\n  chain: any[];\n  prevUrl: string;\n  actions: { [key: string]: any };\n  history: { [key: string]: any };\n  match: { [key: string]: any };\n  navigateToUrl?: any;\n  checkHasPrevPage?: any;\n  navigateToPrevPage?: any;\n  navigateToNextPage?: any;\n  navigateToIndex?: any;\n  checkIsNextPageResults?: any;\n};\n\nexport function withNavigation<T>(WrappedComponent: React.ComponentType<T>): any {\n  class Navigation extends React.Component<T & NavigationProps, any> {\n    getNextPageUrl = () => {\n      const { chain, match } = this.props;\n      const { url } = match;\n      let currentUrlIndex = chain.indexOf(url);\n      if (currentUrlIndex === chain.length - 1) {\n        return INDEX_PATH;\n      }\n\n      return chain[++currentUrlIndex];\n    };\n\n    checkHasPrevPage = () => this.props.prevUrl;\n\n    navigateToPrevPage = () => {\n      this.navigateToUrl(this.props.prevUrl);\n    };\n\n    navigateToNextPage = () => {\n      this.navigateToUrl(this.getNextPageUrl());\n    };\n\n    navigateToIndex = () => {\n      this.navigateToUrl(INDEX_PATH);\n    };\n\n    navigateToUrl = async (url: string) => {\n      if (this.props.history.location.pathname === url) {\n        return;\n      }\n\n      await this.props.actions.navigatedToUrl(this.props.history.location.pathname, url);\n      this.props.history.push(url);\n    };\n\n    checkIsNextPageResults = () => this.getNextPageUrl() === RESULTS_PATH;\n\n    render() {\n      const combinedProps = {\n        ...this.props,\n        navigateToUrl: this.navigateToUrl,\n        checkHasPrevPage: this.checkHasPrevPage,\n        navigateToPrevPage: this.navigateToPrevPage,\n        navigateToNextPage: this.navigateToNextPage,\n        navigateToIndex: this.navigateToIndex,\n        checkIsNextPageResults: this.checkIsNextPageResults\n      };\n      return <WrappedComponent {...combinedProps} />;\n    }\n  }\n\n  function mapStateToProps(state: RootAppState) {\n    return {\n      state,\n      chain: getChain(state),\n      prevUrl: getPrevUrl(state)\n    };\n  }\n\n  function mapDispatchToProps(dispatch: Dispatch) {\n    return { actions: bindActionCreators(actions, dispatch) };\n  }\n\n  return connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Navigation as any);\n}\n\nexport default withNavigation;\n","import { isAuthorized } from 'store/user/selectors';\nimport { isResultsTrackingEnabled, isNpsEnabled } from 'store/settings/selectors';\nimport { RootAppState } from '../types';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const isXapiInitialized = (state: RootAppState) => state.modules.xapi.isInitialized;\n\nexport const shouldInitializeXapi = (state: RootAppState) =>\n  isAuthorized(state) && (isResultsTrackingEnabled(state) || isNpsEnabled(state));\n\nexport const isReviewEnabled = (state: RootAppState) => state.modules.review.isReviewModeEnabled;\n\nexport const getReviewApiUrl = (state: RootAppState) => state.modules.review.reviewApiUrl;\n\nexport const isLtiInitialized = (state: RootAppState) => state.modules.lti.isInitialized;\n","import styled, { css } from 'styled-components';\nimport media from 'components/mixins/media';\n\ntype WrapperProps = {\n  isVoiceOver: boolean;\n};\nexport const Wrapper = styled.div<WrapperProps>`\n  position: relative;\n  height: 100%;\n  width: inherit;\n  ${props =>\n    props.isVoiceOver &&\n    css`\n      position: fixed;\n      height: 84px;\n      top: calc(100% - 110px);\n      ${media.small`\n        height: 57px;\n        width: 100%;\n        left: 0;\n        top: 100%;\n        -webkit-transform: translateY(-100%);\n        transform: translateY(-100%);\n        z-index: 10;\n      `};\n    `};\n`;\n\nexport default Wrapper;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { isReviewEnabled } from 'store/modules/selectors';\nimport { Wrapper } from './Reviewable.styled';\nimport { RootAppState } from 'store/types';\n\ntype ReviewableProps = {\n  isGeneral?: boolean;\n  context?: { [key: string]: any };\n  reviewMode?: boolean;\n  isVoiceOver?: boolean;\n  children?: any;\n  ReviewSpot?(e?: any): void;\n  hintName?: string;\n};\n\ntype ReviewableState = {\n  ReviewSpot: any;\n}\n\nexport class Reviewable extends React.Component<ReviewableProps, ReviewableState> {\n  constructor(props: ReviewableProps) {\n    super(props);\n    this.state = { ReviewSpot: '' };\n  }\n\n  renderSpot = async () => {\n    const { default: ReviewSpot } = await import('components/review/ReviewSpot');\n    this.setState({ ReviewSpot });\n  };\n\n  componentDidMount() {\n    if (!this.props.reviewMode) {\n      return;\n    }\n    this.renderSpot();\n  }\n\n  render() {\n    const { reviewMode, isGeneral, context, children, hintName, isVoiceOver = false } = this.props;\n    const { ReviewSpot } = this.state;\n    return (\n      <Wrapper isVoiceOver={isVoiceOver} className=\"reviewable-container\">\n        {children}\n        {reviewMode && ReviewSpot && (\n          <ReviewSpot\n            isVoiceOver={isVoiceOver}\n            hintName={hintName}\n            isGeneral={isGeneral}\n            context={context}\n          />\n        )}\n      </Wrapper>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    reviewMode: isReviewEnabled(state)\n  };\n}\n\nexport default connect(mapStateToProps)(Reviewable);\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { secondaryFont, mainFontText } from 'components/mixins/typography';\nimport { Icon, Text, ProgressBar as ProgressComponent } from 'components/common';\n\nexport const ProgressBar = styled(ProgressComponent)`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n`;\n\nexport const SectionContentWrapper = styled.section`\n  position: relative;\n  flex: 1 1 auto;\n  width: 100%;\n  height: inherit;\n  min-width: 0;\n  padding: 24px 30px;\n  ${media.large`\n    padding: 24px 12px;\n  `};\n  ${media.mobile`\n    margin-top: 25px;\n    padding: 0 0 50px;\n  `};\n`;\n\nexport const SectionTitle = styled(Text)`\n  height: 85px;\n  max-height: 85px;\n  ${mainFontText}\n  color: ${props => props.theme.colors.textColor};\n  text-decoration: none;\n  font-style: normal;\n  && {\n    font-size: 22px;\n  }\n  line-height: 1.4;\n  overflow: hidden;\n\n  ${media.medium`\n    font-size: 20px;\n  `}\n\n  ${media.mobile`\n    height: initial;\n    max-height: initial;\n    padding: 0 30px 50px;\n  `};\n`;\n\nexport const SectionSubText = styled(Text)`\n  font-size: 11px;\n`;\n\nexport const IconArrowRight = styled(Icon)`\n  margin-left: 8px;\n`;\n\nexport const Footer = styled.footer`\n  position: absolute;\n  right: 30px;\n  left: 30px;\n  bottom: 24px;\n  display: flex;\n  justify-content: flex-end;\n  font-weight: 600;\n  font-size: 12px;\n  ${secondaryFont};\n  opacity: 1;\n  transition: bottom 0.2s, opacity 0.2s;\n  &.hover-state {\n    bottom: 0;\n    justify-content: flex-end;\n    align-items: center;\n    opacity: 0;\n  }\n  ${media.large`\n    right: 12px;\n  `};\n  ${media.mobile`\n    right: auto;\n    bottom: 60px;\n    &.hover-state {\n      bottom: -24px;\n    }\n  `};\n`;\n\ntype SectionProgressStatusWrapperProps = {\n  isPassed: boolean;\n}\nexport const SectionProgressStatusWrapper = styled.div<SectionProgressStatusWrapperProps>`\n  display: flex;\n  align-items: center;\n  color: ${props =>\n    props.isPassed ? props.theme.colors.correctColor : props.theme.colors.textColor};\n  opacity: ${props => (props.isPassed ? 1 : 0.4)};\n\n  ${SectionSubText} {\n    color: ${props =>\n    props.isPassed ? props.theme.colors.correctColor : props.theme.colors.textColor};\n  }\n`;\n\ntype SectionProgressStatusIconWrapperProps = {\n  isPassed: boolean;\n}\nexport const SectionProgressStatusIconWrapper = styled.span<SectionProgressStatusIconWrapperProps>`\n  display: ${props => (props.isPassed ? 'flex' : 'none')};\n  align-items: center;\n  justify-content: center;\n  width: 16px;\n  height: 16px;\n  margin-right: 8px;\n  font-size: 5px;\n  color: ${props => props.theme.colors.buttonTextColor};\n  background-color: ${props => props.theme.colors.correctColor};\n  border-radius: 50%;\n`;\n","import styled, { css } from 'styled-components';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport { defaultBoxShadowColor } from 'constants/common';\nimport { Footer, SectionSubText } from '../SectionContent/SectionContent.styled';\n\nexport const SectionsList = styled.ul.attrs(props => ({\n  'data-test': 'sections-list'\n}))`\n  display: flex;\n  flex-flow: column nowrap;\n`;\n\ntype SectionsListItemProps = {\n  isDummy?: boolean;\n}\nexport const SectionsListItem = styled.li<SectionsListItemProps>`\n  position: relative;\n  bottom: 0;\n  width: 100%;\n  max-width: 880px;\n  margin: 0 auto 40px;\n  padding: 0;\n\n  ${media.mobile`\n    height: auto;\n    padding: 0 30px;\n  `};\n\n  ${props =>\n    props.isDummy &&\n    css`\n      background-color: ${props.theme.colors.textColor};\n      opacity: 0.02;\n      ${media.mobile`\n        display: none;\n      `};\n    `};\n\n  ${props =>\n    !props.isDummy &&\n    css`\n      transition: bottom 0.1s linear, box-shadow 0.1s linear;\n      &:hover {\n        bottom: 5px;\n        box-shadow: 0 2px 20px 0 ${transparentize(defaultBoxShadowColor, 0.1)});\n      }\n    `};\n  & > .reviewable-container {\n    width: 100%;\n  }\n`;\n\ntype SectionsButtonProps = {\n  tabIndex: number;\n  ariaLabel: string;\n  isDummy: boolean;\n  isPassed: boolean;\n}\nexport const SectionsButton = styled.button.attrs((props: SectionsButtonProps) => ({\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel,\n  disabled: props.isDummy,\n  'aria-hidden': props.isDummy\n})) <SectionsButtonProps>`\n  ${buttonDefaultStyle};\n  position: relative;\n  bottom: 0;\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  max-width: 880px;\n  height: 140px;\n  margin: 0 auto;\n  padding: 0;\n  background-color: ${props => props.theme.colors.textColor};\n  text-align: left;\n  opacity: 0.02;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n  ${media.mobile`\n    align-items: initial;\n    flex-direction: column;\n    height: auto;\n    padding: 30px 0 0;\n  `};\n\n  ${props =>\n    props.isDummy &&\n    media.mobile`\n      display: none;\n    `};\n\n  ${props =>\n    !props.isDummy &&\n    css`\n      box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n      transition: bottom 0.1s linear, box-shadow 0.1s linear;\n      background-color: ${props.theme.colors.contentBodyColor};\n      opacity: 1;\n      cursor: pointer;\n      ${SectionSubText} {\n        color: ${props.isPassed ? props.theme.colors.correctColor : props.theme.colors.textColor};\n      }\n      &:hover ${Footer}, &:focus ${Footer} {\n        bottom: 0;\n        opacity: 0;\n        &.hover-state {\n          bottom: 24px;\n          opacity: 1;\n        }\n        ${media.mobile`\n          bottom: 60px;\n          opacity: 1;\n          &.hover-state {\n            opacity: 0;\n            bottom: 0;\n          }\n        `};\n      }\n    `};\n`;\n","import styled from 'styled-components';\nimport { Text, Icon, Button } from 'components/common';\nimport { transparentize } from 'utils/color';\nimport * as typography from 'components/mixins/typography';\nimport media from 'components/mixins/media';\n\nexport const CollapseWrapper = styled.div`\n  ${typography.secondaryFontText};\n  background: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  border-left: 2px solid ${props => props.theme.colors.mainColor};\n  position: relative;\n  font-size: 12px;\n  ${media.mobile`\n    margin-top: -50px;\n  `};\n`;\n\nexport const CollapseInnerWrapper = styled.div`\n  padding: 34px;\n`;\n\nexport const CollapseButton = styled(Button)`\n  position: absolute;\n  display: block;\n  top: 85px;\n  left: 135px;\n  padding: 15px 15px 39px 15px;\n  border: 0;\n  opacity: 0.5;\n  background: none;\n  user-select: none;\n  transition: opacity 0.2s;\n  cursor: pointer;\n  &:focus {\n    outline: 0;\n  }\n  &:hover {\n    opacity: 1;\n  }\n  &:hover,\n  &:focus {\n    background: none;\n  }\n  ${media.large`\n    left: 117px;\n  `};\n  ${media.mobile`\n    position: relative;\n    top: -55px;\n    left: 30px;\n    padding: 0;\n  `};\n  > span {\n    display: flex;\n  }\n`;\n\nexport const ButtonText = styled(Text)`\n  font-family: ${props => props.theme.fonts.secondaryFont.fontFamily};\n  color: ${props => props.theme.colors.textColor};\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 1;\n`;\n\nexport const IconClose = styled(Icon)`\n  position: absolute;\n  top: 17px;\n  right: 17px;\n  padding: 10px;\n  opacity: 0.3;\n  transition: opacity 0.2s;\n  cursor: pointer;\n  &:hover {\n    opacity: 1;\n  }\n  &:focus {\n    outline: 0;\n  }\n`;\n\nexport const IconCircleObjective = styled(Icon)`\n  font-size: 12px;\n  margin-right: 5px;\n`;\n\nexport const LearningObjectiveText = styled(Text)`\n  ${typography.secondaryFontText};\n  padding-bottom: 8px;\n  font-size: 12px;\n  font-weight: 600;\n`;\n\nexport const CollapseContent = styled(Text)`\n  ${typography.secondaryFontText};\n  font-size: 12px;\n  line-height: 1.92;\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { Collapse } from 'components/common';\n\nimport {\n  CollapseWrapper,\n  CollapseInnerWrapper,\n  CollapseButton,\n  ButtonText,\n  IconCircleObjective,\n  IconClose,\n  LearningObjectiveText,\n  CollapseContent\n} from './SectionLearningObjective.styled';\n\ntype SectionLearningObjectiveProps = {\n  learningObjective: string\n};\n\ntype SectionLearningObjectiveState = {\n  isExpanded: boolean;\n}\nclass SectionLearningObjective extends React.Component<SectionLearningObjectiveProps, SectionLearningObjectiveState> {\n  constructor(props: SectionLearningObjectiveProps) {\n    super(props);\n    this.state = { isExpanded: false };\n  }\n\n  toggleExpanded = (event: any) => {\n    event.stopPropagation();\n    this.setState((prevState: SectionLearningObjectiveState) => ({ isExpanded: !prevState.isExpanded }));\n  };\n\n  onKeyDown = (event: any) => {\n    if (event.key === ` ` || event.key === 'Enter') {\n      this.toggleExpanded(event);\n    }\n  };\n\n  render() {\n    const { isExpanded } = this.state;\n    const { learningObjective } = this.props;\n    return (\n      <React.Fragment>\n        <CollapseButton\n          tabIndex={1}\n          onKeyDown={(event: any) => this.onKeyDown(event)}\n          onClick={(event: any) => this.toggleExpanded(event)}\n        >\n          <IconCircleObjective name=\"circle-objective\" size={11} color=\"textColor\" />\n          <ButtonText>\n            {localize(isExpanded ? '[hide learning objective]' : '[show learning objective]')}\n          </ButtonText>\n        </CollapseButton>\n\n        <CollapseWrapper>\n          <Collapse isExpanded={isExpanded}>\n            <CollapseInnerWrapper>\n              <IconClose\n                role=\"button\"\n                tabIndex={1}\n                onKeyDown={(event: any) => this.onKeyDown(event)}\n                onClick={(event: any) => this.toggleExpanded(event)}\n                name=\"close\"\n                size={7}\n                color=\"textColor\"\n              />\n              <LearningObjectiveText appearance={'p'}>\n                {localize('[learning objective]')}\n              </LearningObjectiveText>\n              <CollapseContent appearance={'p'}>{learningObjective}</CollapseContent>\n            </CollapseInnerWrapper>\n          </Collapse>\n        </CollapseWrapper>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default SectionLearningObjective;\n","export const getImageDimensions = (url: string) =>\n  new Promise((resolve, reject) => {\n    let img = new Image(); // eslint-disable-line no-undef\n\n    img.onload = loadHandler;\n    img.onerror = errorHandler;\n    img.src = url;\n\n    function loadHandler(this: any) {\n      resolve({ width: this.width, height: this.height });\n    }\n    function errorHandler() {\n      reject(new Error(`Can't load image by url ${url}`));\n    }\n  });\n\nexport const getThumbnailUrl = (url: string, width: number, height: number) => `${url}?width=${width}&height=${height}`;\n\nexport const getImageNameByUrl = (url: string) => {\n  let imageName = url.substring(url.indexOf('image/') + 6);\n  imageName = imageName.substring(\n    0,\n    imageName.length - (imageName.length - imageName.indexOf('?width'))\n  );\n  return imageName;\n};\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { MEDIA_XSMALL } from 'constants/common';\nimport { transparentize } from 'utils/color';\n\ntype ContainerProps = {\n  isBgColorTransparent?: boolean;\n}\nexport const Container = styled.figure<ContainerProps>`\n  flex: 0 0 auto;\n  width: 120px;\n  height: inherit;\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  ${media.mobile`\n    width: 100%;\n    height: 170px;\n    padding: 0 30px;\n    background: transparent;\n  `};\n  @media (max-width: ${MEDIA_XSMALL + 55}px) {\n    width: 100%;\n    height: 130px;\n  }\n`;\n\ntype BackgroundImageProps = {\n  bgSize: any;\n  url: string;\n}\n\nexport const BackgroundImage = styled.div<BackgroundImageProps>`\n  width: 100%;\n  height: 100%;\n  background-size: ${props => (props.bgSize ? props.bgSize : 'initial')};\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  background-image: url(${props => props.url});\n`;\n\nexport const DefaultSectionImage = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const DefaultSectionImageIcon = styled.div`\n  font-size: 30px;\n  color: ${props => props.theme.colors.textColor};\n  opacity: 0.3;\n`;\n","import * as React from 'react';\nimport { imageResizerQueryPattern, supportedBgSizes } from 'constants/common';\nimport { getImageDimensions, getThumbnailUrl } from 'utils/image';\nimport { Container, BackgroundImage } from './SectionImage.styled';\n\ntype SectionImageProps = {\n  imageUrl: string\n};\n\ntype SectionImageState = {\n  bgSize: any;\n  isImageLoading: boolean;\n  imageUrl: string;\n}\n\nexport class SectionImage extends React.Component<SectionImageProps, SectionImageState> {\n  isUnmounted: boolean;\n  imageDimensions: any;\n\n  constructor(props: SectionImageProps) {\n    super(props);\n    this.isUnmounted = false;\n    this.imageDimensions = {\n      width: 255,\n      height: 170\n    };\n    this.state = {\n      bgSize: supportedBgSizes.initial,\n      isImageLoading: true,\n      imageUrl: props.imageUrl\n    };\n  }\n\n  _getOriginalImageUrl() {\n    const { imageUrl } = this.props;\n    let originalImage = imageUrl;\n    const coincidences = imageResizerQueryPattern.exec(imageUrl);\n    if (coincidences && coincidences.length) {\n      originalImage = imageUrl.substring(0, coincidences.index);\n    }\n    return originalImage;\n  }\n\n  async getBgProps() {\n    try {\n      const { width, height } = this.imageDimensions;\n      let imageUrl = this._getOriginalImageUrl();\n      const size: any = await getImageDimensions(imageUrl);\n      let bgSize = 'initial';\n      if (size.width >= width || size.height >= height) {\n        imageUrl = getThumbnailUrl(imageUrl, width, height);\n        bgSize = 'contain';\n      }\n      if (size.width >= width && size.height >= height) {\n        imageUrl += '&scaleBySmallerSide=true';\n        bgSize = 'cover';\n      }\n\n      if (!this.isUnmounted) {\n        this.setState({ bgSize, isImageLoading: false, imageUrl });\n      }\n    } catch (e) {\n      if (!this.isUnmounted) {\n        this.setState({ bgSize: supportedBgSizes.initial, isImageLoading: false });\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.getBgProps();\n  }\n\n  componentWillUnmount() {\n    this.isUnmounted = true;\n  }\n\n  render() {\n    const { bgSize, isImageLoading, imageUrl } = this.state;\n    if (isImageLoading) {\n      return <Container />;\n    }\n    return (\n      <Container isBgColorTransparent>\n        <BackgroundImage url={imageUrl} bgSize={bgSize} />\n      </Container>\n    );\n  }\n}\n\nexport default SectionImage;\n","import React from 'react';\nimport { localize } from 'core/localization';\nimport { ShapedIcon } from 'components/common';\nimport {\n  SectionContentWrapper,\n  SectionTitle,\n  Footer,\n  SectionProgressStatusIconWrapper,\n  SectionProgressStatusWrapper,\n  SectionSubText,\n  ProgressBar,\n  IconArrowRight\n} from './SectionContent.styled';\n\nexport const LIST_ITEM_TITLE_LENGTH = 45;\n\ntype SectionContentProps = {\n  progress: number;\n  title: string;\n  isPassed: boolean;\n  affectsProgress?: boolean;\n};\n\nfunction SectionContent({ title, isPassed, progress, affectsProgress }: SectionContentProps) {\n  const maxLength = LIST_ITEM_TITLE_LENGTH;\n  return (\n    <SectionContentWrapper>\n      <SectionTitle maxLength={maxLength} appearance='h4'>{title}</SectionTitle>\n      <Footer>\n        {affectsProgress && (\n          <SectionProgressStatusWrapper isPassed={isPassed}>\n            <SectionProgressStatusIconWrapper isPassed={isPassed}>\n              <ShapedIcon\n                name=\"ok\"\n                color=\"buttonTextColor\"\n                shapeColor=\"correctColor\"\n                size=\"small\"\n              />\n            </SectionProgressStatusIconWrapper>\n            <SectionSubText>{localize(isPassed ? '[passed]' : '[not passed yet]')}</SectionSubText>\n          </SectionProgressStatusWrapper>\n        )}\n      </Footer>\n      <Footer className=\"hover-state\">\n        <SectionSubText>{localize('[start section]')}</SectionSubText>\n        <IconArrowRight name=\"arrow-right\" size={8} color=\"textColor\" />\n      </Footer>\n      <ProgressBar progress={progress} />\n    </SectionContentWrapper>\n  );\n}\n\nexport default SectionContent;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport Reviewable from 'components/review/Reviewable';\nimport { SectionsList, SectionsListItem, SectionsButton } from './SectionsList.styled';\nimport SectionLearningObjective from '../SectionLearningObjective';\nimport SectionImage from '../SectionImage';\nimport SectionContent from '../SectionContent';\nimport { REVIEW_COMMENT_PROPERTIES, REVIEW_COMMENT_TYPES } from 'constants/review';\n\nexport const COUNT_OF_DUMMY_ELEMENTS = 3;\n\nexport const getDummyElements = (length: any) => {\n  let dummyElements: Array<any> = [];\n  if (length < COUNT_OF_DUMMY_ELEMENTS) {\n    dummyElements = Array.from({ length: COUNT_OF_DUMMY_ELEMENTS - length }, (v, index) => (\n      <SectionsListItem key={index + length} isDummy={true} />\n    ));\n  }\n  return dummyElements;\n};\n\ntype SectionsListComponentProps = {\n  sections: Array<any>;\n  navigateToQuestion(id: string, question: string): void;\n  learningObjective?: string;\n  navigateToLearningObjective(id: string): void;\n};\n\nexport const SectionsListComponent = ({\n  sections,\n  navigateToQuestion,\n  navigateToLearningObjective\n}: Readonly<SectionsListComponentProps>) => {\n  const { length } = sections;\n  const dummyElements = getDummyElements(length);\n  return (\n    <SectionsList>\n      {sections.map((section, index) => {\n        const questionId = section.questions[0];\n        const {\n          id,\n          imageUrl,\n          isPassed,\n          learningObjective,\n          score,\n          title,\n          affectsProgress\n        } = section;\n        return (\n          <SectionsListItem key={index}>\n            <Reviewable context={{ type: REVIEW_COMMENT_TYPES.SECTION, property: REVIEW_COMMENT_PROPERTIES.TITLE, id, title }}>\n              <SectionsButton\n                isDummy={false}\n                ariaLabel={`${localize('[aria label start section]')} ${title} ${localize(\n                  isPassed ? '[passed]' : '[not passed yet]'\n                )}`}\n                isPassed={isPassed}\n                tabIndex={1}\n                onClick={() =>\n                  learningObjective\n                    ? navigateToLearningObjective(id)\n                    : navigateToQuestion(id, questionId)\n                }\n              >\n                <SectionImage imageUrl={imageUrl} />\n                <SectionContent\n                  progress={score}\n                  title={title}\n                  isPassed={isPassed}\n                  affectsProgress={affectsProgress}\n                />\n              </SectionsButton>\n              {learningObjective && (\n                <SectionLearningObjective learningObjective={learningObjective} />\n              )}\n            </Reviewable>\n          </SectionsListItem>\n        );\n      })}\n      {dummyElements.length !== 0 && dummyElements.map(dummy => dummy)}\n    </SectionsList>\n  );\n};\n\nexport default SectionsListComponent;\n","import xss from '@easygenerator/xss';\nimport resourceLoader from './resourceLoader';\n\nexport default {\n  async loadCourseData() {\n    let response = await resourceLoader.getLocalResource(`content/data.js`);\n    return response.json();\n  },\n  async loadStaticHtmlContent(url: string) {\n    let response = await resourceLoader.getLocalResource(`content/${url}`);\n    return xss.filter(await response.text());\n  }\n};\n","import contentLoader from 'core/http/contentLoader';\nimport { ActionTypes, ContentState } from './types';\nimport { ThunkResult } from '../types';\n\nexport const contentsLoaded = (contents: any): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.CONTENTS_LOADED, payload: contents });\n  loadAll(contents, dispatch); // TEMPORARY SOLUTION\n};\n\nconst loadContent = async (content: ContentState, dispatch: any) => {\n  if (content.value) {\n    return;\n  }\n  try {\n    const value = await contentLoader.loadStaticHtmlContent(content.url);\n    dispatch({ type: ActionTypes.CONTENT_LOADED, payload: { contentId: content.id, value } });\n  } catch (e) {\n    dispatch({ type: ActionTypes.CONTENT_LOADING_FAILED, payload: { contentId: content.id } });\n  }\n};\n\nexport const loadContents = (contents: any): ThunkResult => async dispatch => {\n  const promises: any[] = [];\n  contents.forEach((content: ContentState) => {\n    promises.push(loadContent(content, dispatch));\n  });\n\n  return Promise.all(promises);\n};\n\nasync function loadAll(contents: any, dispatch: any) {\n  const promises = [];\n  for (const content in contents) {\n    promises.push(loadContent(contents[content], dispatch));\n  }\n  return Promise.all(promises);\n}\n","import { createSelector } from 'reselect';\nimport { RootAppState } from '../types';\n/* eslint-disable import/prefer-default-export */\nexport const getContents = createSelector(\n  state => state,\n  (state: RootAppState, ids: string[]) => ids,\n  (state, ids) => {\n    let contents: any[] = [];\n    if (ids) ids.forEach(id => contents.push(state.contents[id]));\n    return contents;\n  }\n);\n/* eslint-enable */\n","export function hasClass(element: Element, selector: string) {\n  const className = ` ${selector} `;\n  return ` ${element.className} `.replace(/[\\n\\t\\r]/g, ' ').indexOf(className) > -1;\n}\n\nexport function findClosest(element: Element, css: string) {\n  if (window.Element.prototype.closest) {\n    return element.closest(css);\n  }\n\n  if (!window.Element.prototype.matches) {\n    window.Element.prototype.matches = window.Element.prototype.msMatchesSelector;\n  }\n\n  let node: Element | null = element;\n  while (node) {\n    if (node.matches(css)) {\n      return node;\n    }\n    node = node.parentElement;\n  }\n  return null;\n}\n\nexport function getStyles(theme: any) {\n  return JSON.stringify({\n    '@main-color': theme.colors.mainColor,\n    '@content-body-color': theme.colors.contentBodyColor,\n    '@text-color': theme.colors.textColor,\n    '@design-type': 1\n  });\n}\n\nexport function getAttributeFromHtml(plainHtml: string, attribute: any) {\n  if (!plainHtml || !attribute) {\n    return null;\n  }\n  const regex = new RegExp(`${attribute}=\"(.*?)\"`);\n  const match = regex.exec(plainHtml);\n  return match && match[1];\n}\n","import styled, { css } from 'styled-components';\nimport * as typography from 'components/mixins/typography';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\n\ntype ContainerProps = {\n  inverted: boolean;\n  theme: { [key: string]: any };\n};\n/* eslint-disable import/prefer-default-export */\nexport const Container = styled.div<ContainerProps>`\n  & > *:first-child {\n    margin-top: 0 !important;\n  }\n  ${typography.secondaryFontText};\n  h1,\n  h2 {\n    margin: 48px 0 24px;\n  }\n  h3 {\n    margin: 40px 0 8px;\n  }\n  h1 {\n    ${typography.mainFontH1};\n  }\n  h2 {\n    ${typography.mainFontH2};\n  }\n  h3 {\n    ${typography.mainFontH3};\n  }\n  h4 {\n    ${typography.mainFontH4};\n  }\n  h4,\n  p {\n    margin: 16px 0 0;\n  }\n  cite {\n    display: block;\n    margin: 16px 0;\n    padding-left: 30px;\n    border-left: 2px solid ${props => props.theme.colors.mainColor};\n    &:last-child {\n      margin-bottom: 0;\n    }\n    ${typography.quote};\n    ${media.mobile`\n      padding-left: 0;\n      border-left: 0;\n      text-align: center;\n      &:before{\n        content: '';\n        display: block;\n        width: 25%;\n        height: 2px;\n        margin: 0 auto 16px;\n        background-color: ${(props: ContainerProps) => props.theme.colors.mainColor};\n      }\n    `};\n  }\n  ol,\n  ul {\n    margin: 16px 0 20px 0;\n    padding-left: 50px;\n    ${media.mobile`\n      padding-left: 44px;\n    `};\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    & > li {\n      margin-bottom: 12px;\n      > h1,\n      > h2,\n      > h3,\n      > h4,\n      > p {\n        display: inline;\n      }\n      &:last-child {\n        margin-bottom: 0;\n      }\n    }\n    & ol,\n    & ul {\n      margin: 0;\n    }\n  }\n  ul {\n    & > li {\n      margin-bottom: 12px;\n      &:before {\n        content: '';\n        display: inline-block;\n        width: 4px;\n        height: 4px;\n        margin: 0 27px 0 -32px;\n        border-radius: 50%;\n        background-color: ${props =>\n          props.inverted\n            ? props.theme.colors.coverBgOverlayTextColor\n            : props.theme.colors.textColor};\n        vertical-align: middle;\n        ${media.mobile`\n          margin: 0 25px 0 -30px;\n        `};\n      }\n      &:last-child {\n        margin-bottom: 0;\n      }\n    }\n  }\n  ol {\n    counter-reset: ol-counter;\n    & > li {\n      margin-bottom: 12px;\n      &:before {\n        content: counter(ol-counter) '.';\n        display: inline-block;\n        counter-increment: ol-counter;\n        width: 40px;\n        margin: 0 25px 0 -65px;\n        text-align: right;\n        ${media.mobile`\n          width: 20px;\n          margin: 0 16px 0 -45px;\n        `};\n      }\n      &:last-child {\n        margin-bottom: 0;\n      }\n    }\n  }\n  mark {\n    ${typography.highlighted};\n  }\n  a {\n    ${typography.links};\n    transition: color 0.2s linear;\n  }\n  img {\n    display: block;\n    max-width: 100%;\n    height: auto !important;\n    margin: 40px auto;\n    &[style*='float:right'],\n    &[style*='float: right'] {\n      margin-right: 0;\n      margin-left: 40px;\n    }\n    &[style*='float:left'],\n    &[style*='float: left'] {\n      margin-left: 0;\n      margin-right: 40px;\n    }\n  }\n  figure {\n    &[style*='float'] {\n      max-width: 60%;\n      img {\n        max-width: calc(100% - 40px);\n      }\n    }\n    ${media.xsmall`\n      &[style*='float'] {\n        max-width: 100%;\n        img {\n          max-width: 100%;\n        }\n      }\n    `}\n  }\n  em {\n    font-style: italic;\n  }\n  strong {\n    font-weight: 700;\n  }\n  sup,\n  sub {\n    font-size: 50%;\n  }\n  sup {\n    vertical-align: super;\n  }\n  sub {\n    vertical-align: sub;\n  }\n  iframe {\n    max-width: 100%;\n    border: none;\n  }\n  .table-wrapper {\n    margin: 36px 0;\n    max-width: 100%;\n    line-height: normal;\n    vertical-align: top;\n    overflow-x: auto;\n\n    table {\n      border-collapse: collapse;\n      &[align='center'] {\n        margin: 0 auto;\n      }\n\n      &.fr-dashed-borders {\n        thead {\n          tr {\n            th {\n              border-right-style: dashed;\n\n              &:last-child {\n                border-right-style: solid;\n              }\n            }\n          }\n        }\n\n        td {\n          border-style: dashed;\n        }\n      }\n\n      &.fr-alternate-rows tbody tr:nth-child(2n) {\n        background: whitesmoke;\n      }\n\n      td.fr-highlighted,\n      th.fr-highlighted {\n        border: 1px double red;\n      }\n\n      td.fr-thick,\n      th.fr-thick {\n        border-width: 2px;\n      }\n\n      caption {\n        margin-bottom: 16px;\n        ${typography.mainFontH4};\n      }\n\n      thead,\n      tbody {\n        tr {\n          th,\n          td {\n            padding: 12px 24px;\n            border: 1px solid ${props => transparentize(props.theme.colors.textColor, 0.08)};\n          }\n        }\n      }\n\n      thead,\n      tbody {\n        tr {\n          th {\n            background-color: ${props => props.theme.colors.mainColor};\n            color: ${props => props.theme.colors.contentBodyColor};\n            border-top-color: ${props => props.theme.colors.mainColor};\n            border-bottom-color: ${props => props.theme.colors.mainColor};\n\n            &:first-child {\n              border-left-color: ${props => props.theme.colors.mainColor};\n            }\n\n            &:last-child {\n              border-right-color: ${props => props.theme.colors.mainColor};\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .eg-content-editor {\n    & > *:first-child {\n      margin-top: 0 !important;\n    }\n    .column {\n      & > *:first-child {\n        margin-top: 0 !important;\n        margin-bottom: 0;\n      }\n      display: inline-block;\n      width: 100%;\n      padding: 0 20px;\n      vertical-align: top;\n\n      &:first-child {\n        padding-left: 0;\n      }\n\n      &:last-child {\n        padding-right: 0;\n      }\n\n      /* two columns */\n      &:nth-child(1):nth-last-child(2),\n      &:nth-child(2):nth-last-child(1) {\n        width: 50%;\n      }\n\n      ${media.small`\n        width: 100% !important;\n        padding: 0 !important;\n        margin-bottom: 30px;\n\n        &:last-child{\n          margin-bottom: 0;\n        }\n      `};\n\n      .row {\n        & > *:first-child {\n          margin-top: 0 !important;\n          margin-bottom: 0;\n        }\n        &:not(:last-child) {\n          margin-bottom: 20px;\n        }\n      }\n\n      ol > li::before {\n        width: auto;\n        min-width: 28px;\n      }\n    }\n\n    /* three columns */\n    & > .column:nth-child(2) {\n      padding: 0 20px;\n    }\n\n    & > .column:last-child {\n      padding-right: 0;\n    }\n\n    img {\n      margin: 0;\n    }\n\n    &[data-type='textEditorTwoColumns'] {\n      ${getListStylesForTextBlocks(2)};\n    }\n    &[data-type='textEditorThreeColumns'] {\n      ${getListStylesForTextBlocks(3)};\n    }\n    &[data-type='textEditorTwoColumns'],\n    &[data-type='textEditorThreeColumns'] {\n      cite {\n        margin: 44px 0;\n        padding-left: 0;\n        border-left: 0;\n        text-align: center;\n        &:before {\n          content: '';\n          display: block;\n          width: 25%;\n          height: 2px;\n          margin: 0 auto 20px;\n          background-color: ${props => props.theme.colors.mainColor};\n        }\n      }\n    }\n  }\n`;\n/* eslint-disable */\n\nfunction getListStylesForTextBlocks(divider: any) {\n  return css`\n    ol,\n    ul {\n      margin: ${division(56, divider)}px 0;\n      padding-left: ${division(88, divider)}px;\n      ${media.mobile`\n      padding-left: ${division(44, divider)}px;\n    `};\n    }\n    ul {\n      & > li {\n        &:before {\n          margin: 0 ${division(40, divider)}px 0 -${division(40, divider)}px;\n          ${media.mobile`\n          margin: 0 ${division(20, divider)}px 0 -${division(30, divider)}px;\n        `};\n        }\n      }\n    }\n    ol {\n      & > li {\n        &:before {\n          width: ${division(40, divider)}px;\n          margin: 0 ${division(32, divider)}px 0 -${division(70, divider)}px;\n          ${media.mobile`\n          width: ${division(20, divider)}px;\n          margin: 0 ${division(16, divider)}px 0 -${division(45, divider)}px;\n        `};\n        }\n      }\n    }\n  `;\n}\n\nfunction division(value: any, divider: any) {\n  return Math.round(value / divider || 1);\n}\n","export default class TableWrapper {\n  static wrap(finder: any) {\n    const tables = finder.querySelectorAll('table');\n    for (let i = 0; i < tables.length; i++) {\n      const table = tables[i];\n      const wrapper = document.createElement('figure');\n      wrapper.classList.add('table-wrapper');\n      wrapper.style.float = table.getAttribute('align');\n      table.parentNode.insertBefore(wrapper, table);\n      wrapper.appendChild(table);\n    }\n  }\n}\n","import { getStyles } from 'utils/element';\nimport { addQueryStringParameter } from 'utils/window';\n\nexport default class AudioWrapper {\n  static wrap(finder: any, theme: any) {\n    const audioFrames = finder.querySelectorAll('.audio-editor iframe');\n    const oldEditorAudioFrames = finder.querySelectorAll(\n      'iframe[data-media-type=\"old-editor-audio\"]'\n    );\n    for (let i = 0; i < oldEditorAudioFrames.length; i++) {\n      oldEditorAudioFrames[i].src = addQueryStringParameter(\n        oldEditorAudioFrames[i].src,\n        'style_variables',\n        encodeURIComponent(getStyles(theme))\n      );\n    }\n    for (let i = 0; i < audioFrames.length; i++) {\n      const audioFrame = audioFrames[i];\n      const wrapper = document.createElement('div');\n      wrapper.classList.add('audio-wrapper');\n\n      audioFrame.src = addQueryStringParameter(\n        audioFrame.src,\n        'style_variables',\n        encodeURIComponent(getStyles(theme))\n      );\n      audioFrame.onload = () => {\n        wrapper.appendChild(audioFrame.contentWindow.document);\n      };\n\n      audioFrame.parentNode.insertBefore(wrapper, audioFrame);\n      wrapper.appendChild(audioFrame);\n    }\n  }\n}\n","import { getStyles } from 'utils/element';\nimport { addQueryStringParameter } from 'utils/window';\n\nexport default class VideoWrapper {\n  static wrap(finder: any, theme: any) {\n    const videoFrames = finder.querySelectorAll('.video-editor iframe');\n    const oldEditorVideoFrames = finder.querySelectorAll(\n      'iframe[data-media-type=\"old-editor-video\"]'\n    );\n    for (let i = 0; i < oldEditorVideoFrames.length; i++) {\n      oldEditorVideoFrames[i].src = addQueryStringParameter(\n        oldEditorVideoFrames[i].src,\n        'style_variables',\n        encodeURIComponent(getStyles(theme))\n      );\n    }\n    for (let i = 0; i < videoFrames.length; i++) {\n      const videoFrame = videoFrames[i];\n      if (/easygenerator\\.com|localhost/.test(videoFrame.src)) {\n        videoFrame.src = addQueryStringParameter(\n          videoFrame.src,\n          'style_variables',\n          encodeURIComponent(getStyles(theme))\n        );\n      }\n    }\n  }\n}\n","import { hasClass, findClosest } from 'utils/element';\n\nconst IMAGE_WRAPPER_CLASS_NAME = 'image-wrapper';\n\nexport default class ImageWrapper {\n  static wrap(finder: any) {\n    const images = finder.querySelectorAll('img');\n    for (let i = 0; i < images.length; i++) {\n      const image = images[i];\n      if (findClosest(image, '.cropped-image')) {\n        if (image.parentElement && hasClass(image.parentElement, IMAGE_WRAPPER_CLASS_NAME)) {\n          return finder;\n        }\n      }\n      const wrapper = document.createElement('figure');\n      wrapper.classList.add(IMAGE_WRAPPER_CLASS_NAME);\n      wrapper.style.float = image.style.cssFloat;\n      if (\n        image.parentElement &&\n        image.parentElement.tagName === 'TD' &&\n        image.parentElement.style.width === ''\n      ) {\n        wrapper.style.width = image.style.width;\n        wrapper.style.height = image.style.height;\n      }\n      image.parentNode.insertBefore(wrapper, image);\n      wrapper.appendChild(image);\n    }\n  }\n}\n","import TableWrapper from './table';\nimport AudioWrapper from './audio';\nimport VideoWrapper from './video';\nimport ImageWrapper from './image';\n\nexport default class ContentWrapper {\n  static wrap(value: any, theme: any) {\n    const finder = document.createElement('div');\n    finder.innerHTML = value;\n\n    TableWrapper.wrap(finder);\n    ImageWrapper.wrap(finder);\n    AudioWrapper.wrap(finder, theme);\n    VideoWrapper.wrap(finder, theme);\n\n    return { __html: finder.innerHTML };\n  }\n}\n","import { getSizeString } from 'utils/string';\n\ntype DocumentContentIframe = {\n  src: string;\n  width: string;\n  height: string;\n}\n\nexport type DocumentContent = {\n  id: string;\n  title: string;\n  type: string;\n  size: string;\n  link: string;\n  iframe: DocumentContentIframe\n}\nexport default class DocumentContentParser {\n  static parse(contentHtml: string): DocumentContent {\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = contentHtml;\n    const container = wrapper.getElementsByClassName('document-container')[0] as HTMLElement;\n    const titleContainer = container.getElementsByClassName('document-title')[0] as HTMLElement;\n    const linkContainer = container.getElementsByClassName('download-document-btn')[0] as HTMLAnchorElement;\n    const iframe = container.getElementsByTagName('iframe')[0];\n\n    return {\n      id: container.dataset.documentId || '',\n      title: titleContainer && titleContainer.innerText,\n      type: container.dataset.documentType ? container.dataset.documentType : '',\n      size: getSizeString(container && container.dataset.documentSize ? +container.dataset.documentSize : 0),\n      link: linkContainer && linkContainer.href,\n      iframe: {\n        src: iframe.src !== 'about:blank' ? iframe.src : '',\n        width: iframe.width,\n        height: iframe.height\n      }\n    };\n  }\n}\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\n\nexport const HeaderContainer = styled.div`\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n\n  ${media.mobile`\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 40px 20px;\n    border: 2px solid ${(props: any) => transparentize(props.theme.colors.textColor, 0.02)};\n  `};\n`;\n\nexport const TitleContainer = styled.div`\n  display: flex;\n  width: 100%;\n  align-items: flex-start;\n\n  ${media.mobile`\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n  `};\n`;\n\nexport const IconWrapper = styled.div`\n  position: relative;\n  padding-right: 13px;\n  margin-right: 12px;\n  opacity: 0.4;\n\n  &::after {\n    content: '';\n    position: absolute;\n    display: block;\n    right: 0;\n    top: 8px;\n    width: 1px;\n    height: 16px;\n  }\n\n  ${media.mobile`\n    padding-right: 0;\n    margin-right: 0;\n    margin-bottom: 20px;\n\n    &::after {\n      display: none;\n    }\n  `};\n`;\n\nexport const TextWrapper = styled.div`\n  width: 100%;\n\n  h4 {\n    margin: 0;\n    margin-top: -4px;\n    word-break: break-word;\n  }\n\n  ${media.mobile`\n    margin: 0;\n  `};\n`;\n\nexport const ButtonContainer = styled.div`\n  margin-left: 40px;\n  margin-top: 6px;\n\n  ${media.mobile`\n    margin-top: 20px;\n    margin-left: 0;\n  `};\n`;\n\nexport const IframeContainer = styled.div`\n  margin-top: 32px;\n\n  ${media.mobile`\n    margin-top: 4px;\n  `};\n`;\n\nexport const Iframe = styled.iframe`\n  iframe& {\n    border: 1px solid ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  }\n`;\n\ntype ContainerProps = {\n  inverted: boolean\n}\n\nexport const Container = styled.div.attrs(props => ({\n  'data-test': 'content-document'\n})) <ContainerProps>`\n  ${IconWrapper} {\n    &::after {\n      background: ${props =>\n    props.inverted\n      ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.2)\n      : transparentize(props.theme.colors.textColor, 0.2)};\n    }\n  }\n`;\n","import React from 'react';\nimport { localize } from 'core/localization';\nimport { withTheme } from 'styled-components';\nimport { Text, Icon, Button } from 'components/common';\nimport { BUTTON, SIZES } from 'constants/components';\nimport DocumentContentParser, { DocumentContent } from './components/DocumentContentParser';\nimport {\n  Container,\n  HeaderContainer,\n  TitleContainer,\n  IconWrapper,\n  TextWrapper,\n  ButtonContainer,\n  IframeContainer,\n  Iframe\n} from './Document.styled';\n\ntype DocumentProps = {\n  content: string;\n  theme: { [key: string]: any };\n  inverted: boolean;\n};\n\nexport const Document = ({ content, inverted }: DocumentProps) => {\n  let data = DocumentContentParser.parse(content);\n\n  return render(data, inverted);\n};\n\nexport default withTheme(Document);\n\nfunction render(data: DocumentContent, inverted: boolean) {\n  return (\n    <Container data-type={data.type} inverted={inverted}>\n      {data.title && data.link && (\n        <HeaderContainer>\n          <TitleContainer>\n            <IconWrapper>\n              <Icon\n                name=\"document\"\n                color={inverted ? 'coverBgOverlayTextColor' : 'textColor'}\n                size={34}\n                fontSize={9}\n                text={data.type}\n              />\n            </IconWrapper>\n            <TextWrapper>\n              <Text appearance=\"h4\">{data.title}</Text>\n            </TextWrapper>\n          </TitleContainer>\n          <ButtonContainer>\n            <Button\n              textTransform=\"uppercase\"\n              size={SIZES.SMALL}\n              layout={BUTTON.LAYOUT.SECONDARY}\n              link={data.link}\n              inverted={inverted}\n            >\n              {localize('[download]')} ({data.size})\n            </Button>\n          </ButtonContainer>\n        </HeaderContainer>\n      )}\n      {data.iframe.src && (\n        <IframeContainer>\n          <Iframe width={data.iframe.width} height={data.iframe.height} src={data.iframe.src} />\n        </IframeContainer>\n      )}\n    </Container>\n  );\n}\n","export type HotSpotOnImageContent = {\n  image: HTMLImageElement,\n  spots: any[]\n}\nexport function HotspotOnImageContentParser(contentHtml: string): HotSpotOnImageContent {\n  const wrapper = document.createElement('div');\n  wrapper.innerHTML = contentHtml;\n  const container = wrapper.getElementsByClassName('hotspotOnImage')[0];\n  const image = container.getElementsByTagName('img')[0];\n  const spot = container.getElementsByClassName('spot');\n\n  return {\n    image,\n    spots: [...spot]\n  };\n}\n\nexport default HotspotOnImageContentParser;\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { transition } from 'components/mixins/interactivity';\n\ntype WrapperProps = {\n  isImageLoading: boolean;\n}\nexport const Wrapper = styled.div.attrs(props => ({\n  'data-test': 'content-hotspot-on-image'\n})) <WrapperProps>`\n  text-align: center;\n  ${transition('all', '0.3s')};\n\n  ${props =>\n    props.isImageLoading\n      ? css`\n          background-color: ${transparentize(props.theme.colors.ctaButtonColor, 0.02)};\n          min-height: 60px;\n        `\n      : ''};\n`;\n\nexport const ImageSpotsWrapper = styled.div`\n  max-width: 100%;\n  position: relative;\n  display: inline-block;\n  vertical-align: bottom;\n`;\n\ntype ImageProps = {\n  style: React.CSSProperties\n}\nexport const Image = styled.img<ImageProps>`\n  max-width: 100% !important;\n  margin: 0 auto !important;\n`;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { defaultBoxShadowColor } from 'constants/common';\nimport { transition } from 'components/mixins/interactivity';\n\ntype SpotAreaProps = {\n  width: string;\n  height: string;\n  naturalWidth: number;\n  naturalHeight: number;\n  top: string;\n  left: string;\n  key: string;\n}\nconst SpotArea = styled.div<SpotAreaProps>`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ${props => ((parseFloat(props.width) * 100) / parseFloat(`${props.naturalWidth}`)).toFixed(4)}%;\n  height: ${props =>\n    ((parseFloat(props.height) * 100) / parseFloat(`${props.naturalHeight}`)).toFixed(4)}%;\n  top: ${props => ((parseFloat(props.top) * 100) / parseFloat(`${props.naturalHeight}`)).toFixed(4)}%;\n  left: ${props => ((parseFloat(props.left) * 100) / parseFloat(`${props.naturalWidth}`)).toFixed(4)}%;\n\n  &:hover {\n    background-color: ${props => transparentize(props.theme.colors.contentBodyColor, 0.1)};\n    box-shadow: 0 0 20px 0 ${transparentize(defaultBoxShadowColor, 0.05)};\n\n    button {\n      background-color: ${props => props.theme.colors.contentBodyColor};\n      animation: none;\n\n      &::after {\n        visibility: visible;\n        background-color: ${props => transparentize(props.theme.colors.mainColor, 0.1)};\n        ${transition('0.3s')};\n      }\n    }\n  }\n\n  &.active {\n    background-color: ${props => transparentize(props.theme.colors.contentBodyColor, 0.1)};\n    box-shadow: 0 0 20px 0 ${transparentize(defaultBoxShadowColor, 0.05)};\n\n    button {\n      animation: none;\n      background-color: ${props => props.theme.colors.mainColor};\n      ${transition('0.3s')};\n      color: ${props => props.theme.colors.contentBodyColor};\n    }\n  }\n`;\n\nexport default SpotArea;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport * as typography from 'components/mixins/typography';\nimport media from 'components/mixins/media';\n\nexport const Wrapper = styled.div`\n  max-width: 292px;\n  max-height: 362px;\n\n  &::after {\n    content: '';\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    left: 23px;\n    right: 23px;\n    bottom: 7px;\n    height: 3em;\n    background: linear-gradient(\n      to top,\n      ${props => props.theme.colors.contentBodyColor},\n      ${props => transparentize(props.theme.colors.contentBodyColor, 0.1)}\n    );\n    z-index: 2;\n  }\n\n  ${media.mobile`\n    max-width: 252px;\n    max-height: 200px;\n\n    &::after {\n      left: 20px;\n      right: 20px;\n    }\n  `};\n`;\ntype TooltipContentProps = {\n  id: string;\n}\nexport const TooltipContent = styled.div.attrs((props: TooltipContentProps) => ({\n  id: props.id\n}))`\n  text-align: left;\n  overflow: auto;\n  max-width: inherit;\n  max-height: inherit;\n  padding: 25px 23px 0;\n  background-color: ${props => props.theme.colors.contentBodyColor};\n  color: ${props => props.theme.colors.textColor};\n  ${typography.mainFontSmallText};\n  line-height: 30px;\n  white-space: pre-line;\n\n  &::after {\n    content: '';\n    display: block;\n    height: 3em;\n  }\n\n  ${media.mobile`\n    padding: 15px 13px 0;\n    margin: 0 auto;\n\n    &::after {\n    content: '';\n    display: block;\n    height: 2em;\n  }\n\n  `};\n`;\n","import styled from 'styled-components';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport Icon from 'components/common/Icon';\nimport { transparentize } from 'utils/color';\nimport { transition } from 'components/mixins/interactivity';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nexport const InfoIcon = styled(Icon)`\n  line-height: 22px;\n  color: ${props => props.theme.colors.mainColor};\n\n  .active & {\n    color: ${props => props.theme.colors.contentBodyColor};\n  }\n`;\n\nconst InfoButton = styled.button`\n  ${buttonDefaultStyle};\n  width: 26px;\n  height: 26px;\n  cursor: pointer;\n  animation: pulse 1.5s infinite;\n  padding: 0;\n  border-radius: 50%;\n  box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n  background-color: ${props => props.theme.colors.contentBodyColor};\n  border: 2px solid ${props => props.theme.colors.mainColor};\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  .active &,\n  .active &:hover {\n    animation: none;\n    background-color: ${props => props.theme.colors.mainColor};\n    ${transition('0.3s')};\n\n    &::after {\n      visibility: visible;\n      background-color: ${props => transparentize(props.theme.colors.mainColor, 0.1)};\n      ${transition('0.3s')};\n    }\n  }\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0px ${props => transparentize(props.theme.colors.mainColor, 0.5)};\n    }\n    75% {\n      box-shadow: 0 0 0 7px ${props => transparentize(props.theme.colors.mainColor, 0.3)};\n    }\n    100% {\n      box-shadow: 0 0 0 12px ${props => transparentize(props.theme.colors.mainColor, 0.05)};\n    }\n  }\n`;\n\nexport default InfoButton;\n","import * as React from 'react';\nimport { isMobile } from 'utils/window';\nimport { Tooltip } from 'components/common';\nimport { localize } from 'core/localization';\nimport SpotArea from './SpotArea.styled';\nimport { TooltipContent, Wrapper } from './TooltipContent.styled';\nimport InfoButton, { InfoIcon } from './InfoButton.styled';\n\ntype SpotProps = {\n  id: string;\n  width: string;\n  height: string;\n  left: string;\n  top: string;\n  naturalWidth: number;\n  naturalHeight: number;\n  text: string;\n  theme?: { [key: string]: any }\n}\n\nexport const Spot = ({ id, width, height, left, top, naturalWidth, naturalHeight, text, theme }: Readonly<SpotProps>) => {\n  const [isDisabled, setDisabledState] = React.useState(false);\n  const templateTheme = theme;\n\n  React.useEffect(() => {\n    if (isDisabled) {\n      setDisabledState(false);\n    }\n  }, [isDisabled]);\n\n  return (\n    <SpotArea\n      key={id}\n      width={width}\n      height={height}\n      left={left}\n      top={top}\n      naturalWidth={naturalWidth}\n      naturalHeight={naturalHeight}\n    >\n      <Tooltip\n        disabled={isDisabled}\n        tabIndex={1}\n        style={{ outline: 'none' }}\n        arrow={true}\n        position=\"top\"\n        interactive\n        duration={0}\n        distance={20}\n        tooltipTheme={'light'}\n        html={\n          <Wrapper theme={templateTheme}>\n            <TooltipContent theme={templateTheme} id={`${id}-d`}>{text}</TooltipContent>\n          </Wrapper>\n        }\n      >\n        <InfoButton\n          onClick={() => !isMobile && setDisabledState(true)}\n          aria-label={localize('[hotspot open popover]')}\n          aria-describedby={`${id}-d`}\n        >\n          <InfoIcon size={12} name=\"info\" />\n        </InfoButton>\n      </Tooltip>\n    </SpotArea>\n  );\n};\n\nexport default Spot;\n","import * as React from 'react';\nimport { withTheme } from 'styled-components';\nimport { localize } from 'core/localization';\nimport CircleLoader from 'components/common/CircleLoader';\nimport HotspotOnImageContentParser, { HotSpotOnImageContent } from './components/HotspotOnImageContentParser';\nimport { Wrapper, ImageSpotsWrapper, Image } from './HotspotOnImage.styled';\n\nimport Spot from './components/Spot';\n\ntype HotspotOnImageProps = {\n  content: string;\n  theme: { [key: string]: any };\n};\n\ntype HotspotOnImageState = {\n  content: HotSpotOnImageContent;\n  isImageLoading: boolean;\n  imageNaturalWidth: number;\n  imageNaturalHeight: number;\n}\n\nexport class HotspotOnImage extends React.Component<HotspotOnImageProps, HotspotOnImageState> {\n  constructor(props: HotspotOnImageProps) {\n    super(props);\n    this.state = {\n      content: HotspotOnImageContentParser(props.content) || {},\n      isImageLoading: true,\n      imageNaturalWidth: 0,\n      imageNaturalHeight: 0\n    };\n  }\n\n  getImageNaturalSizes = (event: any) => {\n    this.setState({\n      imageNaturalWidth: event.target.naturalWidth,\n      imageNaturalHeight: event.target.naturalHeight,\n      isImageLoading: false\n    });\n  };\n\n  render() {\n    const data: HotSpotOnImageContent = this.state.content;\n    const { image, spots } = data;\n    const { imageNaturalWidth, imageNaturalHeight, isImageLoading } = this.state;\n    return (\n      <Wrapper isImageLoading={isImageLoading}>\n        {image ? (\n          <ImageSpotsWrapper>\n            {isImageLoading ? <CircleLoader iconSize={18} /> : null}\n            <Image\n              src={image.src}\n              alt={localize('[hotspot content image alt]')}\n              onLoad={this.getImageNaturalSizes}\n              style={isImageLoading ? { opacity: '0' } : {}}\n            />\n            {spots && image && !isImageLoading\n              ? renderSpots({ spots, imageNaturalWidth, imageNaturalHeight, theme: this.props.theme })\n              : null}\n          </ImageSpotsWrapper>\n        ) : null}\n      </Wrapper>\n    );\n  }\n}\n\nfunction renderSpots(data: { spots: any[], imageNaturalWidth: number, imageNaturalHeight: number, theme: any }) {\n  const { spots, imageNaturalWidth, imageNaturalHeight, theme } = data;\n  return spots.map(spotData => {\n    if (!spotData) {\n      return null;\n    }\n\n    const {\n      dataset: { id, text },\n      style: { width, height, left, top }\n    } = spotData;\n\n    return (\n      <Spot\n        key={id}\n        id={id}\n        width={width}\n        height={height}\n        left={left}\n        top={top}\n        naturalWidth={imageNaturalWidth}\n        naturalHeight={imageNaturalHeight}\n        text={text}\n        theme={theme}\n      />\n    );\n  });\n}\n\nexport default withTheme(HotspotOnImage);\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { centerAbsoluteElementY } from 'components/mixins/placement';\nimport * as typography from 'components/mixins/typography';\nimport media from 'components/mixins/media';\nimport AnimateHeight from 'react-animate-height';\nimport Icon from 'components/common/Icon';\n\ntype ExpandableBlockProps = {\n  inverted: boolean;\n}\nexport const ExpandableBlock = styled.div<ExpandableBlockProps>`\n  margin-bottom: 20px;\n  padding-right: 100px;\n`;\nexport const ExpandableBlockWrapper = styled.div`\n  position: relative;\n  cursor: pointer;\n  outline: none;\n`;\n\nexport const ContentListWrapper = styled.div`\n  display: block;\n  min-height: 50px;\n`;\n\nexport const ExpandableContentWrapper = styled(AnimateHeight).attrs({\n  'data-test': 'expandable-block-content'\n})`\n  transition: 0.3s;\n`;\n\ntype ExpandIconWrapperProps = {\n  isExpanded: boolean;\n}\nexport const ExpandIconWrapper = styled.div<ExpandIconWrapperProps>`\n  ${centerAbsoluteElementY};\n  position: absolute;\n  top: calc(50% - 7px);\n  right: 36px;\n\n  ${props =>\n    props.isExpanded &&\n    css`\n      top: 50%;\n    `};\n\n  ${media.mobile`\n    right: 26px;\n  `};\n`;\n\nexport const ExpandIcon = styled(Icon)`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n`;\n\ntype WrapperProps = {\n  inverted: boolean;\n  isExpanded: boolean;\n}\nexport const Wrapper = styled.div.attrs((props) => ({\n  'data-test': 'content-expandable-block'\n}))<WrapperProps>`\n  position: relative;\n  box-sizing: border-box;\n\n  ul {\n    margin: 0 auto;\n    padding: 0;\n    min-height: 80px;\n\n    & > li {\n      &:last-child {\n        padding-bottom: 20px;\n\n        p {\n          &:last-child {\n            margin-bottom: 0;\n          }\n        }\n      }\n\n      ul {\n        margin: 24px 0;\n        padding-left: 50px;\n\n        & > li {\n          &:last-child {\n            padding-bottom: 0;\n          }\n\n          &:before {\n            content: '';\n            display: inline-block;\n            width: 4px;\n            height: 4px;\n            margin: 0 27px 0 -32px;\n            border-radius: 50%;\n            background-color: ${props =>\n    props.inverted\n      ? props.theme.colors.coverBgOverlayTextColor\n      : props.theme.colors.textColor};\n            vertical-align: middle;\n            ${media.mobile`\n              margin: 0 25px 0 -30px;\n            `};\n          }\n        }\n      }\n\n      &:before {\n        display: none;\n      }\n    }\n  }\n  ${props =>\n    props.isExpanded &&\n    css`\n      &::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: -20px;\n        bottom: 0;\n        width: 2px;\n        background-color: ${props.theme.colors.mainColor};\n\n        ${media.mobile`\n          left: -30px;\n        `};\n      }\n    `};\n\n  ${ExpandableContentWrapper} {\n    border-top: 1px solid\n      ${props =>\n    props.inverted\n      ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)\n      : transparentize(props.theme.colors.textColor, 0.1)};\n    ${props =>\n    props.isExpanded &&\n    css`\n        border-top: 1px solid transparent;\n      `}\n  }\n\n  ${ExpandIcon} {\n    color: ${props =>\n    props.inverted\n      ? transparentize(props.theme.colors.coverBgOverlayTextColor, 0.5)\n      : transparentize(props.theme.colors.textColor, 0.5)};\n  }\n\n  ${ExpandableBlock} {\n    ${props =>\n    props.isExpanded &&\n    css`\n        transition: 0.3s;\n        margin-bottom: 16px;\n      `}\n\n    .eg-expandable-block {\n      ${typography.mainFontH4};\n      line-height: 1.5;\n    }\n\n    ${media.mobile`\n      ${typography.mainFont};\n      padding-right: 60px;\n    `};\n  }\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getContents } from 'store/contents/selectors';\nimport ContentList from '../../ContentList/ContentList';\n\nimport {\n  Wrapper,\n  ExpandableBlock,\n  ExpandableBlockWrapper,\n  ExpandableContentWrapper,\n  ExpandIcon,\n  ExpandIconWrapper,\n  ContentListWrapper\n} from './ShowMore.styled';\nimport { RootAppState } from 'store/types';\n\ntype ShowMoreProps = {\n  content: string;\n  childrenContents: any[];\n  inverted: boolean;\n  childrenElements: any;\n}\n\ntype ShowMoreState = {\n  isExpanded: boolean\n}\n\nexport class ShowMore extends React.Component<ShowMoreProps, ShowMoreState> {\n  constructor(props: ShowMoreProps) {\n    super(props);\n    this.state = {\n      isExpanded: false\n    };\n  }\n\n  static defaultProps = {\n    childrenContents: []\n  }\n\n  expandBlock = () => {\n    const { isExpanded } = this.state;\n    this.setState({\n      isExpanded: !isExpanded\n    });\n  };\n\n  handleOnKeyDown = (event: any) => {\n    if (event.keyCode === 32 || event.keyCode === 13) {\n      event.preventDefault();\n      this.expandBlock();\n    }\n  };\n\n  render() {\n    const { isExpanded } = this.state;\n    const { childrenContents, content, inverted } = this.props;\n    return (\n      <Wrapper isExpanded={isExpanded} inverted={inverted}>\n        <ExpandableBlockWrapper\n          role=\"button\"\n          tabIndex={1}\n          onClick={this.expandBlock}\n          onKeyDown={this.handleOnKeyDown}\n        >\n          <ExpandableBlock\n            dangerouslySetInnerHTML={{\n              __html: content\n            }}\n            inverted={inverted}\n          />\n          <ExpandIconWrapper isExpanded={isExpanded}>\n            <ExpandIcon size={isExpanded ? 2 : 16} name={isExpanded ? 'minus' : 'plus-tiny'} />\n          </ExpandIconWrapper>\n        </ExpandableBlockWrapper>\n\n        <ExpandableContentWrapper\n          className={isExpanded ? 'active' : ''}\n          height={isExpanded ? 'auto' : 0}\n          duration={300}\n        >\n          <ContentListWrapper>\n            {childrenContents.length > 0 && (\n              <ContentList items={childrenContents} isLoading={false} inverted={inverted} />\n            )}\n          </ContentListWrapper>\n        </ExpandableContentWrapper>\n      </Wrapper>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: ShowMoreProps) {\n  return { childrenContents: getContents(state, ownProps.childrenElements) };\n}\n\nexport default connect(mapStateToProps)(ShowMore);\n","export function LinkCurationContentParser(contentHtml: any) {\n  const wrapper = document.createElement('div');\n  wrapper.innerHTML = contentHtml;\n  const container = wrapper.querySelectorAll('[data-type=\"linkCuration\"]')[0];\n  const customDescription = container.getElementsByClassName('custom-description')[0];\n  const contentInnerWrapper = container.getElementsByClassName('content-inner-wrapper')[0];\n  const textWrapper = contentInnerWrapper.getElementsByClassName('text-wrapper')[0];\n  const title = textWrapper.getElementsByClassName('link-title')[0] as HTMLElement;\n  const text = textWrapper.getElementsByClassName('link-content')[0] as HTMLElement;\n  const staticLink = textWrapper.getElementsByClassName('link-url')[0] as HTMLAnchorElement;\n  const imageWrapper = contentInnerWrapper.getElementsByClassName('images')[0];\n  const image = contentInnerWrapper.getElementsByTagName('img')[0];\n  return {\n    customDescription,\n    title: title.innerText,\n    text: text.innerText,\n    imgUrl: image.src || '',\n    imgClasses: imageWrapper.classList.value || 'images',\n    resourceUrl: staticLink.href || ''\n  };\n}\n\nexport default LinkCurationContentParser;\n","import styled from 'styled-components';\nimport * as typography from 'components/mixins/typography';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\nimport { defaultBoxShadowColor } from 'constants/common';\nimport Icon from 'components/common/Icon';\n\nexport const LinkCurationContainer = styled.div.attrs({\n  'data-test': 'content-link-curation'\n})`\n  display: flex;\n  flex-direction: column;\n`;\n\ntype LinkContentWrapperProps = {\n  href: string;\n}\nexport const LinkContentWrapper = styled.a.attrs((props) => ({\n  href: props.href,\n  className: 'link-curation-text-wrapper'\n})) <LinkContentWrapperProps>`\n  &.link-curation-text-wrapper {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: calc(100% - 8px);\n    height: 205px;\n    box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n    background-color: ${props => props.theme.colors.contentBodyColor};\n    box-sizing: border-box;\n    margin: 4px 4px 6px;\n    text-decoration: none;\n\n    ${media.small`\n      max-height: 200px;\n  `}\n\n    ${media.mobile`\n        flex-direction: column;\n        height: 100%;\n        max-height: 372px;\n    `}\n  }\n`;\n\nexport const CustomDescription = styled.div`\n  margin-bottom: 20px;\n  .custom-description {\n    p {\n      &:first-child {\n        margin-top: 0;\n      }\n    }\n  }\n`;\n\nexport const ImageContainer = styled.div``;\n\nexport const ImageWrapper = styled.div`\n  display: flex;\n  margin: auto;\n  align-items: center;\n  justify-content: center;\n  margin: auto 40px auto 30px;\n\n  &.parsed {\n    overflow: hidden;\n    position: relative;\n  }\n\n  &.deleted {\n    padding-left: 20px;\n  }\n\n  ${media.mobile`\n    &.parsed {\n      margin: 20px;\n    }\n\n    &.deleted {\n      padding-top: 20px;\n    }\n  `}\n`;\n\n\ntype LinkImageProps = {\n  src: string;\n  alt: string;\n}\nexport const LinkImage = styled.img.attrs(props => ({\n  src: props.src,\n  alt: props.alt,\n  className: 'link-curation-image'\n})) <LinkImageProps>`\n  &.link-curation-image {\n    margin: auto;\n    max-width: 205px;\n    max-height: 135px;\n\n    @media (min-width: 580px) and (max-width: 1000px) {\n      max-width: 160px;\n      max-height: 107px;\n    }\n  }\n`;\n\nexport const TextWrapper = styled.div`\n  min-width: 1px;\n  height: 100%;\n  padding-right: 20px;\n\n  ${media.mobile`\n    width: auto;\n    max-width: 100%;\n    height: auto;\n    padding: 0 20px 40px;\n  `}\n`;\n\nexport const Title = styled.h3.attrs({\n  className: 'link-curation-title'\n})`\n  &.link-curation-title {\n    height: auto;\n    margin: 30px 0 16px;\n    ${typography.mainFontH3};\n    font-size: 22px;\n    text-align: left;\n    vertical-align: middle;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n\n    ${media.mobile`\n      margin-top: 0;\n    `}\n  }\n`;\n\nexport const Text = styled.p.attrs({\n  className: 'link-curation-text'\n})`\n  &.link-curation-text {\n    max-height: 60px;\n    margin: 0 0 20px;\n    ${typography.secondaryFontText};\n    font-size: 18px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    word-break: break-all;\n\n    ${media.mobile`\n    max-height: 78px;\n    margin-bottom: 20px;\n    font-size: 16px;\n    line-height: 1.4;\n    `}\n\n    @media (min-width: 580px) and (max-width: 1000px) {\n      max-height: 60px;\n      margin-bottom: 16px;\n      line-height: 1.5;\n    }\n  }\n`;\n\nexport const StaticLink = styled.div`\n  display: flex;\n  margin-left: 39px;\n  ${typography.links}\n  font-size: 16px;\n  line-height: normal;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nexport const LinkIcon = styled(Icon)`\n  position: absolute;\n  cursor: pointer;\n  top: 25%;\n`;\n\nexport const StaticLinkWrapper = styled.div`\n  position: relative;\n  max-height: 25px;\n  span {\n    color: ${props => transparentize(props.theme.colors.textColor, 0.2)};\n  }\n  &:hover {\n    span {\n      color: ${props => transparentize(props.theme.fonts.links.color, 0.8)};\n    }\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport { withTheme } from 'styled-components';\nimport LinkCurationContentParser from './LinkCurationContentParser';\nimport {\n  LinkCurationContainer,\n  LinkContentWrapper,\n  LinkImage,\n  ImageWrapper,\n  ImageContainer,\n  CustomDescription,\n  Title,\n  TextWrapper,\n  Text,\n  StaticLink,\n  LinkIcon,\n  StaticLinkWrapper\n} from './LinkCuration.styled';\n\ntype LinkCurationProps = {\n  content: string,\n  theme: { [key: string]: any }\n};\n\nexport const LinkCuration = ({ content }: LinkCurationProps) => {\n  const [data] = useState(LinkCurationContentParser(content));\n  const { title, text, imgUrl, imgClasses, resourceUrl, customDescription } = data;\n  let descriptionNode: any = React.createRef();\n\n  useEffect(() => {\n    descriptionNode.current && descriptionNode.current.appendChild(customDescription);\n  }, [descriptionNode, customDescription]);\n\n  return (\n    <LinkCurationContainer>\n      {customDescription && (\n        <CustomDescription\n          ref={descriptionNode}\n        ></CustomDescription>\n      )}\n      <LinkContentWrapper href={resourceUrl} target=\"_blank\">\n        <ImageContainer>\n          <ImageWrapper className={imgClasses}>\n            <LinkImage src={imgUrl} alt={title} title={title} />\n          </ImageWrapper>\n        </ImageContainer>\n        <TextWrapper>\n          <Title title={title}>{title}</Title>\n          <Text title={text}>{text}</Text>\n          <StaticLinkWrapper title={resourceUrl}>\n            <LinkIcon size={12} name=\"link\" />\n            <StaticLink>{resourceUrl}</StaticLink>\n          </StaticLinkWrapper>\n        </TextWrapper>\n      </LinkContentWrapper>\n    </LinkCurationContainer>\n  );\n};\n\nexport default withTheme(LinkCuration);\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\nimport * as typography from 'components/mixins/typography';\n\nconst AudioWrapper = styled.div.attrs(props => ({\n  'data-test': 'content-audio'\n}))`\n  [data-type='singleAudio'] {\n    width: 100%;\n    border: solid 2px ${props => transparentize(props.theme.colors.textColor, 0.08)};\n    background: ${props => props.theme.colors.contentBodyColor};\n\n    .audio-editor > div {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .audio-wrapper {\n      margin-top: -26px;\n      margin-bottom: -16px;\n      margin-left: -20px;\n      width: ~'calc(100% + 20px)';\n      text-align: center;\n    }\n\n    .audio-title {\n      ${typography.mainFontText}\n      color: ${props => props.theme.colors.textColor};\n      padding-bottom: 14px;\n      margin-top: -8px;\n      font-weight: bold;\n      font-size: 20px;\n      line-height: 1.8;\n    }\n\n    .audio-image {\n      width: 200px;\n      height: 133px;\n      display: block;\n      background-position: center center;\n      background-repeat: no-repeat;\n      background-size: contain;\n      border-radius: 2px;\n    }\n\n    .row.audio-editor {\n      padding: 30px;\n    }\n\n    .audio-image-container {\n      margin-right: 30px;\n      align-self: flex-start;\n    }\n\n    .audio-player-container {\n      width: 100%;\n    }\n\n    .audio-player-container iframe {\n      height: 64px;\n      width: 100%;\n    }\n\n    ${media.small`\n      .audio-image {\n        width: 160px;\n        height: 107px;\n      }\n    `};\n\n    ${media.mobile`\n      .row.audio-editor {\n        padding: 20px;\n\n        & > div {\n          flex-direction: column;\n\n          &[data-view-mode='0'] {\n            .audio-title {\n              text-align: center;\n            }\n          }\n        }\n\n        .audio-image-container {\n          margin: 0 auto 20px;\n\n          .audio-image {\n            width: 220px;\n            height: 133px;\n          }\n\n          .audio-title {\n            margin-top: -10px;\n          }\n        }\n      }\n    `};\n\n    ${media.xsmall`\n      .row.audio-editor {\n        .audio-image-container {\n          .audio-image {\n            width: 200px;\n          }\n        }\n      }\n    `};\n  }\n`;\n\nexport default AudioWrapper;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { defaultBoxShadowColor } from 'constants/common';\n\ntype VideoWrapperProps = {\n  'data-test': string\n}\nconst VideoWrapper = styled.div.attrs((props: VideoWrapperProps) => ({\n  'data-test': 'content-video'\n}))`\n  .eg-content-editor {\n    &[data-type*='video'],\n    &[data-type*='Video'] {\n      .video-editor {\n        position: relative;\n        padding-bottom: 56.25% !important;\n        margin: 15px 0;\n        height: 0;\n        width: 100%;\n        border: 1px solid transparent;\n\n        iframe {\n          display: block;\n          position: absolute;\n          top: 0;\n          left: 0;\n          bottom: 0;\n          right: 0;\n          width: 100% !important;\n          height: 100% !important;\n        }\n      }\n\n      iframe {\n        box-shadow: 0 0 4px -1px ${transparentize(defaultBoxShadowColor, 0.2)};\n      }\n    }\n\n    &[data-type='videoInTheLeft'] {\n      .column:first-child {\n        width: 60%;\n\n        & + .column {\n          width: 40%;\n        }\n      }\n    }\n\n    &[data-type='videoInTheRight'] {\n      .column:first-child {\n        width: 40%;\n\n        & + .column {\n          width: 60%;\n        }\n      }\n    }\n  }\n`;\n\nexport default VideoWrapper;\n","import * as React from 'react';\nimport { withTheme } from 'styled-components';\nimport { getAttributeFromHtml } from 'utils/element';\nimport { Container } from './ContentItem.styled';\nimport ContentWrapper from '../ContentWrapper';\nimport Document from './Document';\nimport HotspotOnImage from './HotspotOnImage';\nimport ShowMore from './ShowMore';\nimport LinkCuration from './LinkCuration';\nimport AudioWrapper from './Audio/Audio.styled';\nimport VideoWrapper from './Video/Video.styled';\n\ntype ContentItem = {\n  value: string;\n  childrenElements: any[];\n  inverted: boolean;\n  theme: { [key: string]: any };\n};\n\nexport const ContentItem = ({ value, inverted, theme, childrenElements }: ContentItem) =>\n  (<Container inverted={inverted}>\n    {renderContent(value, childrenElements, theme, inverted)}\n  </Container>)\n  ;\n\nexport default withTheme(ContentItem);\n\nfunction renderContent(contentHtml: any, childrenElements: any[], theme: { [key: string]: any }, inverted: boolean) {\n  let type = getAttributeFromHtml(contentHtml, 'data-type');\n\n  switch (type) {\n    case 'document':\n      return <Document content={contentHtml} inverted={inverted} />;\n    case 'hotspot':\n      return <HotspotOnImage content={contentHtml} />;\n    case 'expandableBlock':\n      return (\n        <ShowMore content={contentHtml} childrenElements={childrenElements} inverted={inverted} />\n      );\n    case 'linkCuration':\n      return <LinkCuration content={contentHtml} />;\n    case 'singleAudio':\n      return <AudioWrapper dangerouslySetInnerHTML={ContentWrapper.wrap(contentHtml, theme)} />;\n    case 'videoInTheLeft':\n    case 'videoWithText':\n    case 'videoInTheRight':\n    case 'singleVideo':\n      return <VideoWrapper dangerouslySetInnerHTML={ContentWrapper.wrap(contentHtml, theme)} />;\n    default:\n      return (\n        <div\n          data-test=\"content-default\"\n          dangerouslySetInnerHTML={ContentWrapper.wrap(contentHtml, theme)}\n        />\n      );\n  }\n}\n","import styled from 'styled-components';\n\nexport const LoaderContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 10px;\n`;\n\nexport const List = styled.ul``;\n\nexport const Item = styled.li.attrs({\n  'data-test': 'content-item'\n})`\n  &:not(:last-child) {\n    margin-bottom: 40px;\n  }\n`;\n","import * as React from 'react';\nimport { Text, Loader } from 'components/common';\nimport ContentItem from '../ContentItem';\nimport { Item, List, LoaderContainer } from './ContentList.styled';\n\ntype ContentListProps = {\n  items: any[] ;\n  isLoading: boolean;\n  inverted: boolean;\n}\n\nexport const ContentList = ({ items, isLoading, inverted }: ContentListProps) => {\n  if (isLoading) return renderLoader();\n\n  return renderList(items, inverted);\n};\n\nfunction renderLoader() {\n  return (\n    <LoaderContainer>\n      <Loader />\n    </LoaderContainer>\n  );\n}\n\nfunction renderList(items: any, inverted: any) {\n  const contents = items.filter((content: any) => content.value && filterContents(content.value));\n  if (contents.length) {\n    return (\n      <List>\n        {contents.map((content: any, index: any) => (\n          <Item key={index}>\n            <ContentItem\n              inverted={inverted}\n              value={content.value}\n              childrenElements={\n                content.children && content.children.length ? content.children : null\n              }\n            />\n          </Item>\n        ))}\n      </List>\n    );\n  }\n  // TODO: should remove when will be added support for all content types\n  return <Text appearance=\"h2\">No supported contents</Text>;\n}\n\n// TODO: should remove when will be added support for all content types\nconst contentEditorClassSelector = '.eg-content-editor';\nconst supportedContentTypesSelectors = [\n  '[data-type=\"textEditorOneColumn\"]',\n  '[data-type=\"textEditorTwoColumns\"]',\n  '[data-type=\"textEditorThreeColumns\"]',\n  '[data-type=\"imageEditorOneColumn\"]',\n  '[data-type=\"imageEditorTwoColumns\"]',\n  '[data-type=\"imageInTheLeft\"]',\n  '[data-type=\"imageInTheRight\"]',\n  '[data-type=\"videoInTheLeft\"]',\n  '[data-type=\"videoWithText\"]',\n  '[data-type=\"videoInTheRight\"]',\n  '[data-type=\"singleVideo\"]',\n  '[data-type=\"singleAudio\"]',\n  '[data-type=\"document\"]',\n  '[data-type=\"linkCuration\"]',\n  '[data-type=\"hotspot\"]',\n  '[data-type=\"htmlBlock\"]'\n];\n\nfunction filterContents(value: any) {\n  const finder = createHTMLWrapper(value);\n  const isContentEditorBlock =\n    finder.querySelector(contentEditorClassSelector) ||\n    finder.querySelector('[data-type=\"linkCuration\"]');\n  if (isContentEditorBlock) {\n    for (let supportedContentType of supportedContentTypesSelectors) {\n      if (finder.querySelector(supportedContentType)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  return true;\n}\n\nfunction createHTMLWrapper(value: any) {\n  const wrapper = document.createElement('div');\n  wrapper.innerHTML = value;\n  return wrapper;\n}\n\nexport default ContentList;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport * as actions from 'store/contents/actions';\nimport { getContents } from 'store/contents/selectors';\nimport ContentList from './ContentList';\nimport { RootAppState } from 'store/types';\n\ntype ContentItem = {\n  id: string;\n  url: string;\n}\n\ntype ContentsProps = {\n  actions: {[key: string]: any},\n  items: string[];\n  contents?: ContentItem[];\n  inverted?: boolean;\n}\n\ntype ContentsState = {\n  isLoading: boolean;\n}\n\nexport class Contents extends React.Component<ContentsProps, ContentsState> {\n\n  constructor(props: ContentsProps) {\n    super(props);\n    this.state = {\n      isLoading: false\n    }\n  }\n\n  static defaultProps = {\n    actions: {}\n  }\n\n  componentDidMount() {\n    this.loadData(this.props);\n  }\n\n  componentDidUpdate(prevProps: ContentsProps) {\n    if (prevProps.items !== this.props.items) {\n      this.loadData(this.props);\n    }\n  }\n\n  async loadData(props: ContentsProps) {\n    this.setState({ isLoading: true });\n    await props.actions.loadContents(props.contents);\n    this.setState({ isLoading: false });\n  }\n\n  render() {\n    const { isLoading } = this.state;\n    const { contents, inverted } = this.props;\n    return <ContentList isLoading={isLoading} items={contents || []} inverted={inverted || false} />;\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: ContentsProps) {\n  return { contents: getContents(state, ownProps.items) };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(actions, dispatch) };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Contents);\n","import { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\n\nexport function getCustomScrollbars(scrollColor?: any) {\n  return css`\n    overflow-y: auto;\n    &::-webkit-scrollbar {\n      width: 8px;\n      background-color: transparent;\n    }\n    &::-webkit-scrollbar-thumb {\n      margin-right: 8px;\n      background-color: ${props =>\n        transparentize(`${scrollColor || props.theme.colors.textColor}`, 0.2)};\n      border-radius: 6px;\n    }\n\n    &:hover {\n      &::-webkit-scrollbar-thumb {\n        background-color: ${props =>\n          transparentize(`${scrollColor || props.theme.colors.textColor}`, 0.4)};\n      }\n    }\n  `;\n}\nexport default getCustomScrollbars;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport { mainFontText } from 'components/mixins/typography';\nimport { Text, ProgressBar, ProgressResult } from 'components/common';\nimport { MEDIA_MEDIUM } from 'constants/common';\nimport { getCustomScrollbars } from 'components/mixins/customScrollbars';\n\nexport const Container = styled.section`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  position: relative;\n  min-width: 0;\n  min-height: 100vh;\n  max-height: 100%;\n  ${props => getCustomScrollbars(props.theme.colors.coverBgOverlayTextColor)};\n  ${media.tablet`\n    height: auto;\n  `};\n  @media (max-width: ${MEDIA_MEDIUM - 24}px) {\n    flex: 0 0 auto;\n    min-height: 0;\n  }\n`;\n\nexport const CourseInfoContainer = styled.div`\n  position: relative;\n  z-index: 10;\n  width: 100%;\n  padding: 56px 80px;\n  ${media.large`\n    padding: 56px 40px;\n  `}\n  ${media.tablet`\n    height: auto;\n  `};\n  ${media.mobile`\n    padding: 80px 30px;\n  `};\n`;\n\nexport const CourseInfoWrapper = styled.div`\n  margin: 0 auto;\n\n  h1 {\n    ${mainFontText}\n    color: ${props => props.theme.colors.coverBgOverlayTextColor};\n    text-decoration: none;\n    font-style: normal;\n    font-size: 48px;\n    line-height: 1.2;\n  }\n\n  ${media.medium`\n    h1 {\n      padding-right: 22px;\n      font-size: 40px;\n    }\n  `}\n`;\n\nexport const ContentsContainer = styled.div`\n  width: 100%;\n\n  h2,\n  h3,\n  h4 {\n    margin-top: 0;\n  }\n`;\n\nexport const LogoWrapper = styled.div`\n  margin-bottom: 40px;\n`;\n\ntype CourseLogoType = {\n  logoUrl: string;\n  alt: any;\n}\nexport const CourseLogo = styled.img.attrs((props: CourseLogoType) => ({\n  src: props.logoUrl,\n  alt: props.alt\n})) <CourseLogoType>`\n  max-width: 240px;\n  max-height: 100px;\n\n  ${media.tablet`\n    max-width: 200px;\n    max-height: 80px;\n  `};\n\n  ${media.mobile`\n    max-width: 160px;\n    max-height: 60px;\n  `};\n`;\n\nexport const ProgressSectionsWrapper = styled.div`\n  display: flex;\n  margin-top: 56px;\n  margin-bottom: 8px;\n`;\n\nexport const ProgressPerSection = styled(ProgressBar)`\n  height: 4px;\n  margin: 0 3px;\n  border-radius: 2px;\n  background: ${props => transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)};\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n`;\n\nexport const ProgressMasteryScore = styled(ProgressResult)`\n  margin-top: 46px;\n  height: 4px;\n  border-radius: 2px;\n  background: ${props => transparentize(props.theme.colors.coverBgOverlayTextColor, 0.1)};\n`;\n\nexport const ProgressCaption = styled(Text)`\n  padding-top: 4px;\n  display: block;\n  margin-bottom: 44px;\n  font-size: 10px;\n  font-weight: bold;\n  line-height: 1;\n  text-transform: uppercase;\n  color: ${props => props.theme.colors.coverBgOverlayTextColor};\n  opacity: 0.5;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Text, Separator } from 'components/common';\nimport { getCourseTitle, getCourseIntroductions, getScore } from 'store/course/selectors';\nimport {\n  getMasteryScoreValue,\n  isOverallMasteryScore,\n  getAlternativeLogo\n} from 'store/settings/selectors';\nimport { getAffectProgressSectionsCount, getSectionsPassedCount } from 'store/sections/selectors';\nimport Contents from 'components/contents/Contents';\nimport { localize } from 'core/localization';\nimport Reviewable from 'components/review/Reviewable';\nimport { HINT_FOR_SPOT_COMMENT, REVIEW_COMMENT_PROPERTIES, REVIEW_COMMENT_TYPES } from 'constants/review';\nimport {\n  Container,\n  CourseInfoContainer,\n  CourseInfoWrapper,\n  ContentsContainer,\n  LogoWrapper,\n  CourseLogo,\n  ProgressSectionsWrapper,\n  ProgressPerSection,\n  ProgressMasteryScore,\n  ProgressCaption\n} from './CourseInformation.styled';\nimport { RootAppState } from 'store/types';\n\ntype CourseInformationProps = {\n  title?: string;\n  introductions?: Array<string>;\n  sections: Array<any>;\n  courseProgress?: number;\n  masteryScore?: number;\n  isCourseProgress?: boolean;\n  affectProgressSectionsCount?: number;\n  sectionsPassedCount?: number;\n  reviewMode?: boolean;\n  alternativeLogoUrl: string;\n};\n\nexport class CourseInformation extends React.Component<CourseInformationProps, {}> {\n  refContainer: any;\n  constructor(props: CourseInformationProps) {\n    super(props);\n    this.refContainer = React.createRef();\n  }\n  render() {\n    const {\n      title,\n      introductions,\n      alternativeLogoUrl,\n      sections,\n      courseProgress = 0,\n      masteryScore = 0,\n      isCourseProgress,\n      sectionsPassedCount,\n      affectProgressSectionsCount = 0\n    } = this.props;\n\n    return (\n      <Container\n        ref={this.refContainer}\n      >\n        <CourseInfoContainer>\n          <CourseInfoWrapper>\n            <LogoWrapper>\n              <CourseLogo logoUrl={alternativeLogoUrl} alt={localize('[alt logo login]')} />\n            </LogoWrapper>\n            <Reviewable\n              context={{ type: REVIEW_COMMENT_TYPES.COURSE, property: REVIEW_COMMENT_PROPERTIES.TITLE }}\n              hintName={HINT_FOR_SPOT_COMMENT}\n            >\n              <Text title={title} appearance=\"h1\" inverted>\n                {title}\n              </Text>\n            </Reviewable>\n            {affectProgressSectionsCount > 0 ? (\n              isCourseProgress ? (\n                <>\n                  <ProgressMasteryScore\n                    forwardedRef={this.refContainer}\n                    progress={courseProgress}\n                    passedMark={masteryScore}\n                  />\n                  <ProgressCaption>\n                    {localize('[you complete x]', {\n                      percentSuccess: courseProgress\n                    })}\n                  </ProgressCaption>\n                </>\n              ) : (\n                  <>\n                    <ProgressSectionsWrapper>\n                      {sections.map(section => {\n                        if (section.affectsProgress) {\n                          const { id } = section;\n                          return section.isPassed ? (\n                            <ProgressPerSection key={id} progress={100} />\n                          ) : (\n                              <ProgressPerSection key={id} progress={0} />\n                            );\n                        }\n                        return false;\n                      })}\n                    </ProgressSectionsWrapper>\n                    <ProgressCaption>\n                      {localize('[x out of y sections passed]', {\n                        countSectionsSuccess: sectionsPassedCount,\n                        countSections: affectProgressSectionsCount\n                      })}\n                    </ProgressCaption>\n                  </>\n                )\n            ) : (\n                <Separator height={2} opacity={0.3} margin={56} color=\"coverBgOverlayTextColor\" />\n              )}\n            {renderCourseIntroduction(introductions)}\n          </CourseInfoWrapper>\n        </CourseInfoContainer>\n      </Container>\n    );\n  }\n}\n\nfunction renderCourseIntroduction(introductions: any) {\n  if (Array.isArray(introductions) && introductions.length !== 0) {\n    return (\n      <React.Fragment>\n        <Reviewable context={{ type: REVIEW_COMMENT_TYPES.COURSE, property: REVIEW_COMMENT_PROPERTIES.INTRODUCTION }}>\n          <ContentsContainer>\n            <Contents inverted items={introductions} />\n          </ContentsContainer>\n        </Reviewable>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    alternativeLogoUrl: getAlternativeLogo(state),\n    title: getCourseTitle(state),\n    introductions: getCourseIntroductions(state),\n    courseProgress: getScore(state),\n    masteryScore: getMasteryScoreValue(state),\n    isCourseProgress: isOverallMasteryScore(state),\n    affectProgressSectionsCount: getAffectProgressSectionsCount(state),\n    sectionsPassedCount: getSectionsPassedCount(state)\n  };\n}\nexport default connect(mapStateToProps)(CourseInformation);\n","import { schema } from 'normalizr';\nimport { QuestionChildren } from './question';\n\nconst content = new schema.Entity(\n  'contents',\n  {},\n  {\n    processStrategy: (value: any, parent: any, key: string) => {\n      const result = {\n        ...value,\n        value: undefined\n      }\n\n      if (result.children as QuestionChildren) {\n        result.children = result.children.map((item: any) => item.id) as Array<string>;\n      }\n\n      switch (key) {\n        case 'instructions':\n        case 'hints':\n        case 'correctFeedback':\n        case 'incorrectFeedback':\n        case 'children':\n          result.url = `${parent.sectionId}/${parent.id}/${value.id}.html`;\n          break;\n        case 'questionContent':\n          result.url = `${parent.sectionId}/${parent.id}/content.html`;\n          break;\n        default:\n          throw new Error('Content entity key is not supported');\n      }\n      return result;\n    }\n  }\n);\n\nexport default content;\n","import { schema } from 'normalizr';\n\nfunction getAnswerId(answerList: any, explanationBlockId: any) {\n  const answer = answerList.find(\n    (item: any) => item.explanationBlocks.findIndex((block: any) => block.id === explanationBlockId) >= 0\n  );\n  return answer.id;\n}\n\nconst explanationBlock = new schema.Entity(\n  'contents',\n  {},\n  {\n    processStrategy: (value: any, parent: any, key: string) => {\n      let answerId;\n      const result = {\n        ...value,\n        value: undefined\n      };\n      switch (key) {\n        case 'explanationBlocks':\n          answerId = getAnswerId(parent.answers, value.id);\n          result.url = `${parent.sectionId}/${parent.id}/${answerId}/${value.id}.html`;\n          result.sectionId = parent.sectionId;\n          result.questionId = parent.id;\n          result.answerId = answerId;\n          break;\n        case 'children':\n          result.url = `${parent.sectionId}/${parent.questionId}/${parent.answerId}/${value.id}.html`;\n          break;\n        default:\n          throw new Error('Content entity key is not supported');\n      }\n      return result;\n    }\n  }\n);\n\nexplanationBlock.define({\n  children: [explanationBlock]\n});\n\nexport default explanationBlock;\n","import { schema } from 'normalizr';\nimport { renameProperty, guid } from 'utils/object';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\nimport { getInitialQuestionResponse } from 'store/initialState';\nimport content from './content';\nimport explanationBlock from './explanationBlock';\n\nexport type QuestionChildren = Array<object>\n\nexport function transferPropBetweenObj(currentList: [{ [key: string]: any }], nameOfTargetProp: string, targetList: [{ [key: string]: any }]) {\n  if (currentList) {\n    currentList.forEach((prop: any) => {\n      if (prop[nameOfTargetProp] && prop[nameOfTargetProp].length) {\n        prop[nameOfTargetProp].forEach((item: any) => {\n          targetList.push({ id: item.id });\n        });\n      }\n    });\n  }\n}\n\nexport function transferExplanationBlocks(answerList: [{ [key: string]: any }], targetList: [{ [key: string]: any }]) {\n  if (answerList) {\n    answerList.forEach((answer: any) => {\n      if (answer.explanationBlocks && answer.explanationBlocks.length) {\n        answer.explanationBlocks.forEach((explanation: any) => {\n          const entity: { [key: string]: any } = {\n            id: explanation.id\n          };\n          if (explanation.children && explanation.children.length) {\n            entity.children = explanation.children;\n          }\n          targetList.push(entity);\n        });\n      }\n    });\n  }\n}\n\nconst question = new schema.Entity(\n  'questions',\n  {\n    children: [content],\n    instructions: [content],\n    hints: [content],\n    correctFeedback: [content],\n    incorrectFeedback: [content],\n    questionContent: [content],\n    explanationBlocks: [explanationBlock],\n  },\n  {\n    processStrategy: (value, parent) => {\n      let result = {\n        ...value,\n        questionContent: [],\n        children: [] as QuestionChildren,\n        explanationBlocks: [],\n        sectionId: parent.id,\n        score: 0,\n        hasBeenOpened: false,\n        isAnswered: false,\n        isAnsweredCorrectly: false,\n        response: getInitialQuestionResponse(value.type),\n        affectsProgress: value.type !== INFORMATION_CONTENT\n      };\n\n      if (result.hasOwnProperty('isSurvey') && result.affectsProgress) {\n        result.affectsProgress = !result.isSurvey;\n      }\n\n\n      if (result.hasContent) {\n        result.questionContent.push({ id: guid() });\n      }\n\n      transferPropBetweenObj(result.learningContents, 'children', result.children);\n      transferPropBetweenObj(result.questionInstructions, 'children', result.children);\n      transferPropBetweenObj(result.questionCorrectFeedbacks, 'children', result.children);\n      transferPropBetweenObj(result.questionIncorrectFeedbacks, 'children', result.children);\n\n      transferExplanationBlocks(result.answers, result.explanationBlocks);\n\n      renameProperty(result, 'questionInstructions', 'instructions');\n      renameProperty(result, 'learningContents', 'hints');\n      renameProperty(result, 'questionCorrectFeedbacks', 'correctFeedback');\n      renameProperty(result, 'questionIncorrectFeedbacks', 'incorrectFeedback');\n      delete result.hasCorrectFeedback;\n      delete result.hasIncorrectFeedback;\n      delete result.hasContent;\n      return result;\n    }\n  }\n);\n\nexport default question;\n","import { schema } from 'normalizr';\nimport question from './question';\n\nconst section = new schema.Entity(\n  'sections',\n  {\n    questions: [question]\n  },\n  {\n    processStrategy: (value: any) => ({\n      ...value,\n      score: 0,\n      isPassed: false\n    })\n  }\n);\n\nexport default section;\n","import { schema } from 'normalizr';\n\nconst afterword = new schema.Entity(\n  'contents',\n  {},\n  {\n    processStrategy: (value: any, parent: any, key: string) => {\n      let result = {\n        ...value,\n        value: undefined\n      };\n      switch (key) {\n        case 'children':\n          result.url = `afterword/${value.id}.html`;\n          break;\n        case 'passedAfterwords':\n          result.url = `afterword/${value.id}.html`;\n          break;\n        case 'failedAfterwords':\n          result.url = `afterword/${value.id}.html`;\n          break;\n        default:\n          throw new Error('Content entity key is not supported');\n      }\n      return result;\n    }\n  }\n);\n\nafterword.define({\n  children: [afterword]\n});\n\nexport default afterword;\n","import { schema } from 'normalizr';\n\nconst introduction = new schema.Entity(\n  'contents',\n  {},\n  {\n    processStrategy: (value: any, parent: any, key: string) => {\n      let result = {\n        ...value,\n        value: undefined\n      };\n      switch (key) {\n        case 'children':\n          result.url = `introduction/${value.id}.html`;\n          break;\n        case 'introductions':\n          result.url = `introduction/${value.id}.html`;\n          break;\n        default:\n          throw new Error('Content entity key is not supported');\n      }\n      return result;\n    }\n  }\n);\n\nintroduction.define({\n  children: [introduction]\n});\n\nexport default introduction;\n","import { schema } from 'normalizr';\nimport section from './section';\nimport afterword from './afterword';\nimport introduction from './introductions';\n\nconst course = new schema.Entity(\n  'course',\n  {\n    sections: [section],\n    introductions: [introduction],\n    passedAfterwords: [afterword],\n    failedAfterwords: [afterword]\n  },\n  {\n    processStrategy: value => ({\n      ...value,\n      score: 0,\n      isPassed: false\n    })\n  }\n);\n\nexport default course;\n","import { normalize } from 'normalizr';\nimport questionTypes from 'constants/questionTypes';\nimport courseSchema from '../schemas/course';\n\n/* eslint-disable import/prefer-default-export */\nexport default {\n  map: (data: any) => {\n    const normalized: any = normalize(filterCourseData(data), courseSchema);\n    const course: any = normalized.entities.course[normalized.result];\n    const { sections, questions, contents } = normalized.entities;\n\n    return {\n      course,\n      sections,\n      questions,\n      contents\n    };\n  }\n};\n\nfunction filterCourseData(data: any) {\n  data.sections = data.sections.filter((section: any) => {\n    section.questions = section.questions.filter((question: any) => questionTypes.includes(question.type));\n    return section.questions.length > 0;\n  });\n\n  return data;\n}\n","import eventEmitter, { events } from 'core/events/eventEmitter';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\nimport { getAffectProgressQuestions, getSection } from './selectors';\nimport { isOverallMasteryScore, getMasteryScoreValue } from '../settings/selectors';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\n\nexport const updateScore = (sectionId: string): ThunkResult => (dispatch, getState) => {\n  const scorePerCourse = isOverallMasteryScore(getState());\n  const masteryScore = getMasteryScoreValue(getState());\n  const questions = getAffectProgressQuestions(getState(), sectionId);\n\n  const correctQuestions = questions.filter((question: any) =>\n    question.type === INFORMATION_CONTENT ? question.hasBeenOpened : question.isAnsweredCorrectly\n  );\n  const score = questions.length\n    ? Math.floor((correctQuestions.length * 100) / questions.length)\n    : 100;\n\n  const sectionIsPassed = scorePerCourse ? score === 100 : score >= masteryScore;\n\n  dispatch({\n    type: ActionTypes.SECTION_SCORE_UPDATED,\n    payload: {\n      id: sectionId,\n      score,\n      isPassed: sectionIsPassed\n    }\n  });\n};\n\nexport const updateProgress = (sectionId: string): ThunkResult => (dispatch, getState) => {\n  dispatch(updateScore(sectionId));\n  eventEmitter.emit(events.SECTION_PROGRESSED, getSection(getState(), sectionId));\n};\n\nexport const onSectionIsPassed = (sectionId: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.SECTION_IS_PASSED,\n    payload: {\n      id: sectionId,\n      isPassed: true\n    }\n  });\n};\n\nexport const sectionsLoaded = (sections: any): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.SECTIONS_LOADED, payload: sections });\n};\n\nexport const cleanup = (sectionId: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.SECTION_SCORE_UPDATED,\n    payload: {\n      id: sectionId,\n      score: 0,\n      isPassed: false\n    }\n  });\n};\n","import * as courseActions from 'store/course/actions';\nimport * as sectionActions from 'store/sections/actions';\nimport * as contentActions from 'store/contents/actions';\nimport { getContents } from 'store/contents/selectors';\nimport eventEmitter, { events } from 'core/events/eventEmitter';\nimport { getSection } from 'store/sections/selectors';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\nimport { getQuestion, getScore, hasBeenOpened } from './selectors';\nimport { isScoringOfContentPagesAllowed } from '../settings/selectors';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const questionsLoaded = (questions: any): ThunkResult => (dispatch, getState) => {\n  const scoreContentPages = isScoringOfContentPagesAllowed(getState());\n  if (scoreContentPages && questions) {\n    Object.keys(questions).forEach(key => {\n      const question = questions[key];\n      if (question.type === INFORMATION_CONTENT) {\n        question.affectsProgress = scoreContentPages;\n      }\n    });\n  }\n  dispatch({\n    type: ActionTypes.QUESTIONS_LOADED,\n    payload: questions\n  });\n};\n\nexport const answer = (questionId: string): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const question = getQuestion(getState(), questionId);\n  const score = question.isSurvey ? 100 : getScore(getState(), question);\n\n  dispatch({\n    type: ActionTypes.QUESTION_ANSWERED,\n    payload: { id: question.id, score }\n  });\n\n  const questionContent = getContents(getState(), question.questionContent);\n  eventEmitter.emit(events.QUESTION_ANSWERED, [\n    getQuestion(getState(), questionId),\n    getSection(getState(), question.sectionId),\n    questionContent\n  ]);\n\n  dispatch(sectionActions.updateProgress(question.sectionId));\n  await dispatch(courseActions.updateProgress());\n};\n\nexport const informationContentExperienced = (questionId: string): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  if (!isScoringOfContentPagesAllowed(getState())) {\n    return;\n  }\n\n  dispatch({\n    type: ActionTypes.QUESTION_ANSWERED,\n    payload: { id: questionId, score: 100 }\n  });\n\n  const question = getQuestion(getState(), questionId);\n  const section = getSection(getState(), question.sectionId);\n  eventEmitter.emit(events.INFORMATION_CONTENT_EXPERIENCED, [question, section]);\n\n  dispatch(sectionActions.updateProgress(question.sectionId));\n  await dispatch(courseActions.updateProgress());\n};\n\nexport const markAsOpened = (questionId: string): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  if (hasBeenOpened(getState(), questionId)) {\n    return;\n  }\n\n  dispatch({\n    type: ActionTypes.QUESTION_OPENED,\n    payload: { questionId, hasBeenOpened: true }\n  });\n\n  const questionType = getQuestion(getState(), questionId).type;\n  if (questionType === INFORMATION_CONTENT) {\n    dispatch(informationContentExperienced(questionId));\n  }\n};\n\nexport const resetProgress = (question: any): ThunkResult => dispatch => {\n  const initialScore = question.score;\n  dispatch({\n    type: ActionTypes.QUESTION_PROGRESS_RESET,\n    payload: { id: question.id, type: question.type }\n  });\n\n  eventEmitter.emit(events.RESET_QUESTION_PROGRESS, question.id);\n\n  if (initialScore === 0) {\n    return;\n  }\n\n  dispatch(sectionActions.updateProgress(question.sectionId));\n  dispatch(courseActions.updateProgress());\n};\n\nexport const cleanup = (questionId: string): ThunkResult => (dispatch, getState) => {\n  const question = getQuestion(getState(), questionId);\n  dispatch({\n    type: ActionTypes.QUESTION_PROGRESS_RESET,\n    payload: { id: question.id, type: question.type }\n  });\n\n  dispatch({\n    type: ActionTypes.QUESTION_OPENED,\n    payload: { questionId, hasBeenOpened: false }\n  });\n};\n\nexport const loadFeedback = (questionId: string): ThunkResult => (dispatch, getState) => {\n  const state = getState();\n  const question = getQuestion(state, questionId);\n  if (question.correctFeedback.length) {\n    dispatch(contentActions.loadContents(getContents(state, question.correctFeedback)));\n  }\n  if (question.incorrectFeedback.length) {\n    dispatch(contentActions.loadContents(getContents(state, question.incorrectFeedback)));\n  }\n  if (question.explanationBlocks.length) {\n    dispatch(contentActions.loadContents(getContents(state, question.explanationBlocks)));\n  }\n};\n\nexport const restoreProgress = (questionId: string, questionAnswers: any): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch({\n    type: ActionTypes.QUESTION_RESTORE_RESPONSE,\n    payload: { id: questionId, response: questionAnswers }\n  });\n\n  const question = getQuestion(getState(), questionId);\n  const score = getScore(getState(), question);\n  dispatch({\n    type: ActionTypes.QUESTION_PROGRESS_RESTORE,\n    payload: { id: questionId, score }\n  });\n\n  dispatch(sectionActions.updateScore(question.sectionId));\n  await dispatch(courseActions.updateScore());\n};\n\nexport const animateFeedback = (data:{ questionId: string, isAnimating: boolean }): ThunkResult => dispatch => {\n  const {questionId, isAnimating} = data;\n  dispatch({\n    type: ActionTypes.FEEDBACK_ANIMATING,\n    payload: { id: questionId, isFeedbackAnimating: isAnimating }\n  });\n};\n","import progressStorage from 'core/progressStorage';\nimport { getValueFromUrl } from 'utils/window';\nimport { STATUS_OK } from 'constants/progressStorage';\nimport { getUser, shouldSaveCrossDevice } from 'store/user/selectors';\nimport { isPublishMode } from 'store/settings/selectors';\nimport * as courseActions from 'store/course/actions';\nimport eventEmitter, { events } from 'core/events/eventEmitter';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const authenticate = (payload: any): ThunkResult<Promise<void>> => async dispatch => {\n  dispatch({\n    type: ActionTypes.USER_AUTHENTICATED,\n    payload\n  });\n};\n\nexport const load = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  let user = getUserFromUrl();\n\n  if (shouldSaveCrossDevice(getState()) && isPublishMode(getState())) {\n    user = (await progressStorage.identifyUser()) || user;\n  }\n\n  if (user) {\n    dispatch(authenticate(user));\n    eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n  }\n};\n\nexport const authorizeUser = (signInData: any): ThunkResult<Promise<string>> => async (\n  dispatch,\n  getState\n) => {\n  let status = STATUS_OK;\n  if (shouldSaveCrossDevice(getState())) {\n    status = await progressStorage.authorizeUser(signInData);\n    if (status === STATUS_OK) {\n      const user = await progressStorage.identifyUser();\n      if (user) {\n        signInData.name = user.name;\n        eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n      }\n    }\n  }\n\n  if (status === STATUS_OK) {\n    dispatch(\n      authenticate({\n        email: signInData.email,\n        name: signInData.name,\n        password: signInData.password,\n        shortTermAccess: signInData.shortTermAccess\n      })\n    );\n  }\n\n  return status;\n};\n\nexport const registerUser = (signUpData: any): ThunkResult<Promise<any>> => async (\n  dispatch,\n  getState\n) => {\n  let status = await progressStorage.registerUser(signUpData);\n  if (status === STATUS_OK) {\n    dispatch(\n      authenticate({\n        email: signUpData.email,\n        name: signUpData.name,\n        password: signUpData.password,\n        shortTermAccess: true\n      })\n    );\n\n    eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n  }\n\n  return status;\n};\n\nexport const skipAuthentication = (): ThunkResult<Promise<void>> => async dispatch => {\n  dispatch({ type: ActionTypes.USER_AUTHENTICATION_SKIPPED });\n};\n\nexport const logout = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  await eventEmitter.emit(events.USER_LOGOUT, { state: getState() });\n  dispatch({ type: ActionTypes.USER_UNAUTHENTICATED });\n  await dispatch(courseActions.cleanup());\n};\n\nexport const sendSecretLink = async () => {\n  progressStorage.sendSecretLink();\n};\n\nfunction getUserFromUrl() {\n  const email = getValueFromUrl('email');\n  const name = getValueFromUrl('name');\n  if (!email || !name) {\n    return null;\n  }\n\n  return {\n    name,\n    email: email.toLowerCase()\n  };\n}\n","import requester from '../http/requester';\nimport progressStorage from '../progressStorage';\n\ntype RequestOptions = {\n  credentials: string;\n  data: { [key: string]: any };\n  headers: { [key: string]: any };\n  retryOptions: { [key: string]: any };\n  method: string;\n}\n\nclass Lti {\n  callbackUrl: any;\n  initialize(callbackUrl: any) {\n    this.callbackUrl = callbackUrl;\n  }\n\n  submitResultToLti = async (score = 0) => {\n    const requestOptions: RequestOptions = {\n      credentials: 'include',\n      data: {\n        score: score / 100\n      },\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      },\n      method: 'POST',\n      retryOptions: {}\n    };\n\n    const token = progressStorage.getToken();\n    if (token) {\n      requestOptions.headers = {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json; charset=utf-8'\n      };\n    }\n\n    return requester.post(this.callbackUrl, requestOptions);\n  };\n}\n\nexport default new Lti();\n","import { COURSE_FINISHED } from 'core/events/events';\nimport BaseEventHandler from 'core/events/eventHandler';\nimport lti from './lti';\n\nexport default class EventHandler extends BaseEventHandler {\n  handlers: any[];\n\n  constructor() {\n    super();\n    this.handlers = [{ event: COURSE_FINISHED, instance: this.submitResultToLti.bind(this) }];\n  }\n\n  initialize(callbackUrl: any) {\n    lti.initialize(callbackUrl);\n  }\n\n  submitResultToLti({ score }: { [key: string]: any }) {\n    lti.submitResultToLti(score);\n  }\n}\n","import EventHandler from './eventHandler';\n\nclass Lti {\n  eventHandler: EventHandler;\n  constructor() {\n    this.eventHandler = new EventHandler();\n  }\n\n  subscribe(callbackUrl: any) {\n    this.eventHandler.on();\n    this.eventHandler.initialize(callbackUrl);\n  }\n\n  unsubscribe() {\n    this.eventHandler.off();\n  }\n}\n\nexport default new Lti();\n","import * as userActions from 'store/user/actions';\nimport { getCourse, getCourseId } from 'store/course/selectors';\nimport { getValueFromUrl } from 'utils/window';\nimport { getUser, getName, getEmail, getAccount } from 'store/user/selectors';\nimport {\n  isNpsEnabled,\n  getXapiSettings,\n  getPublishSettings,\n  isResultsTrackingEnabled,\n  getAuthoringToolUrl,\n  isScorm2004Mode,\n  isScoringOfContentPagesAllowed\n} from 'store/settings/selectors';\nimport progressStorage from 'core/progressStorage';\nimport eventEmitter, { events } from 'core/events/eventEmitter';\nimport { loadReviewFont } from 'components/mixins/reviewTypography';\nimport { isPreviewMode } from '../settings/selectors';\nimport lti from '../../core/lti';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const initializeXapi = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const state = getState();\n  const { default: xApi } = await import('core/xApi');\n  xApi.initialize({\n    settings: {\n      xApi: getXapiSettings(state),\n      isScoringOfContentPagesAllowed: isScoringOfContentPagesAllowed(state)\n    },\n    defaultLrsUrl: getPublishSettings(state).defaultLRSUrl,\n    defaultNpsUrl: getPublishSettings(state).defaultNpsUrl,\n    course: getCourse(state),\n    actor: {\n      username: getName(state),\n      email: getEmail(state),\n      account: getAccount(state)\n    }\n  });\n  dispatch({ type: ActionTypes.MODULE_XAPI_INITIALIZED });\n};\n\nexport const subscribeXapi = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const { default: xApi } = await import('core/xApi');\n  if (isResultsTrackingEnabled(getState())) {\n    xApi.subscribeLrs();\n    dispatch({ type: ActionTypes.MODULE_XAPI_LRS_ON });\n  }\n  if (isNpsEnabled(getState())) {\n    xApi.subscribeNps();\n    dispatch({ type: ActionTypes.MODULE_XAPI_NPS_ON });\n  }\n};\n\nexport const unsubscribeXapi = (): ThunkResult<Promise<void>> => async (dispatch) => {\n  const { default: xApi } = await import('core/xApi');\n  xApi.unsubscribeAll();\n\n  dispatch({ type: ActionTypes.MODULE_XAPI_LRS_OFF });\n  dispatch({ type: ActionTypes.MODULE_XAPI_NPS_OFF });\n};\n\n// TODO: need refactor\nexport const initializeScorm = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const { default: scorm } = await import('core/scorm');\n  await scorm.initialize(isScorm2004Mode(getState()));\n  dispatch({ type: ActionTypes.MODULE_SCORM_INITIALIZED });\n  dispatch(\n    userActions.authenticate({\n      name: scorm.userInfoProvider.getUsername(),\n      email: scorm.userInfoProvider.getAccountId(),\n      account: {\n        homePage: scorm.userInfoProvider.getAccountHomePage(),\n        name: scorm.userInfoProvider.getAccountId()\n      }\n    })\n  );\n  await eventEmitter.emit(events.APP_INITIALIZED, { state: getState(), isScormMode: true });\n  await eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n  progressStorage.use(scorm.progressProvider);\n};\n\nexport const subscribeProgressStorage = (): ThunkResult => (dispatch, getState) => {\n  if (isPreviewMode(getState())) {\n    return;\n  }\n\n  progressStorage.subscribe();\n  dispatch({ type: ActionTypes.MODULE_PROGRESS_STORAGE_ON });\n};\n\nexport const unsubscribeProgressStorage = (): ThunkResult => dispatch => {\n  progressStorage.unsubscribe();\n  dispatch({ type: ActionTypes.MODULE_PROGRESS_STORAGE_OFF });\n};\n\nexport const enableReview = (): ThunkResult => async (dispatch, getState) => {\n  const editorWindow = window.parent;\n  const locationProtocol = window.location.protocol;\n  const targetOriginUrl = `${locationProtocol}//${getAuthoringToolUrl(getState())}`;\n  editorWindow.postMessage({ supportsNativeReview: true }, targetOriginUrl);\n  await loadReviewFont();\n  const reviewApiUrl = getValueFromUrl('reviewApiUrl');\n  const courseId = getCourseId(getState());\n  const { default: review } = await import('core/review');\n  review.subscribe();\n\n  dispatch({ type: ActionTypes.ENABLE_REVIEW_MODE, payload: { reviewApiUrl } as any });\n  \n  eventEmitter.emit(events.REVIEW_INITIALIZED, { reviewApiUrl, courseId });\n};\n\nexport const subscribeLti = (callbackUrl: any): ThunkResult => dispatch => {\n  lti.subscribe(callbackUrl);\n  dispatch({ type: ActionTypes.MODULE_LTI_INITIALIZED, payload: { isLTI: true } });\n};\n","import courseMapper from 'core/mappers/course';\nimport contentLoader from 'core/http/contentLoader';\nimport { guidWithHyphens } from 'utils/object';\nimport * as questionActions from 'store/questions/actions';\nimport * as contentsActions from 'store/contents/actions';\nimport * as sectionActions from 'store/sections/actions';\nimport {\n  initializeXapi,\n  subscribeXapi,\n  unsubscribeXapi,\n  initializeScorm\n} from 'store/modules/actions';\nimport { isXapiInitialized, shouldInitializeXapi } from 'store/modules/selectors';\nimport { getAffectProgressSections, getSections } from 'store/sections/selectors';\nimport { getValueFromUrl } from 'utils/window';\nimport { getCourse, getAttemptId, hasBeenContinued, isCourseAccessLimited } from 'store/course/selectors';\nimport eventEmitter, { events } from 'core/events/eventEmitter';\nimport { getUser, isAnonymous } from 'store/user/selectors';\nimport { getQuestions, getAffectProgressQuestions } from 'store/questions/selectors';\nimport {\n  isPreviewMode,\n  isScormMode,\n  isOverallMasteryScore,\n  getMasteryScoreValue\n} from 'store/settings/selectors';\nimport progressStorage from 'core/progressStorage';\nimport { INDEX_PATH } from 'constants/navigation';\nimport resourceLoader from '../../core/http/resourceLoader';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const markCourseAsPassed = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const affectProgressSections = getAffectProgressSections(getState());\n  const isCoursePassed =\n    getMasteryScoreValue(getState()) === 0 || affectProgressSections.length === 0;\n\n  if (isCoursePassed) {\n    affectProgressSections.forEach(section =>\n      dispatch(sectionActions.onSectionIsPassed(section.id))\n    );\n\n    await dispatch({\n      type: ActionTypes.COURSE_IS_PASSED,\n      payload: {\n        isPassed: true\n      }\n    });\n  }\n};\n\nexport const updateScorePerCourse = (): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const affectProgressQuestions = getAffectProgressQuestions(getState());\n  const masteryScore = getMasteryScoreValue(getState());\n\n  const correctQuestions = affectProgressQuestions.filter(question => question.isAnsweredCorrectly);\n\n  const score =\n    affectProgressQuestions.length > 0\n      ? Math.floor((correctQuestions.length * 100) / affectProgressQuestions.length)\n      : 100;\n\n  const coursePassed = score >= masteryScore;\n  dispatch({\n    type: ActionTypes.COURSE_SCORE_UPDATED,\n    payload: {\n      score,\n      isPassed: coursePassed\n    }\n  });\n};\n\nexport const updateScorePerSection = (): ThunkResult<Promise<void>> => async (\n  dispatch,\n  getState\n) => {\n  const sections = getAffectProgressSections(getState());\n  const totalScore = sections.reduce((sum, section) => sum + section.score, 0);\n  const score = sections.length > 0 ? Math.floor(totalScore / sections.length) : 100;\n  const coursePassed = sections.length\n    ? sections.every(section => section.isPassed === true)\n    : true;\n  dispatch({\n    type: ActionTypes.COURSE_SCORE_UPDATED,\n    payload: {\n      score,\n      isPassed: coursePassed\n    }\n  });\n};\n\nexport const updateScore = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  const masteryScorePerCourse = isOverallMasteryScore(getState());\n\n  if (masteryScorePerCourse) {\n    dispatch(updateScorePerCourse());\n  } else {\n    dispatch(updateScorePerSection());\n  }\n};\n\nexport const updateProgress = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch(updateScore());\n  eventEmitter.emit(events.COURSE_PROGRESSED, {\n    ...getState(),\n    course: getCourse(getState())\n  });\n};\n\nexport const load = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch({ type: ActionTypes.COURSE_DATA_LOADING_STARTED });\n  try {\n    const data = await contentLoader.loadCourseData();\n    const { course, sections, questions, contents } = courseMapper.map(data);\n    if (getValueFromUrl('questionId')) {\n      course.previewQuestionId = getValueFromUrl('questionId');\n    }\n    resourceLoader.cacheBuster = course.createdOn;\n    dispatch(questionActions.questionsLoaded(questions));\n    dispatch(sectionActions.sectionsLoaded(sections));\n    dispatch(contentsActions.contentsLoaded(contents));\n    await dispatch({ type: ActionTypes.COURSE_DATA_LOADED, payload: course });\n    eventEmitter.emit(events.APP_INITIALIZED, {\n      state: getState(),\n      isScormMode: isScormMode(getState())\n    });\n  } catch (e) {\n    dispatch({ type: ActionTypes.COURSE_DATA_LOADING_FAILED, reason: e });\n    throw e;\n  }\n};\n\nexport const restoreProgress = (): ThunkResult<Promise<boolean>> => async (\n  dispatch,\n  getState\n): Promise<boolean> => {\n  const isProgressRestored = await progressStorage.restoreProgress();\n  if (!isProgressRestored) {\n    return false;\n  }\n  const questions = getQuestions(getState());\n  const answers = progressStorage.getAnswers(questions);\n  answers.forEach(({ id, response }: any) => {\n    dispatch(questionActions.restoreProgress(id, response));\n  });\n\n  dispatch({\n    type: ActionTypes.COURSE_PROGRESS_RESTORED,\n    payload: { attemptId: progressStorage.attemptId }\n  });\n  return true;\n};\n\nexport const onCourseLaunched = (attemptId?: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.COURSE_LAUNCHED,\n    payload: { attemptId }\n  });\n  eventEmitter.emit(events.COURSE_LAUNCHED, attemptId);\n};\n\nexport const onCourseStarted = (): ThunkResult<Promise<void>> => async dispatch => {\n  await dispatch({\n    type: ActionTypes.COURSE_STARTED\n  });\n\n  await eventEmitter.emit(events.COURSE_STARTED);\n};\n\nexport const launch = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  if(isCourseAccessLimited(getState())) {\n    return INDEX_PATH;\n  }\n  \n  await dispatch(markCourseAsPassed());\n\n  if (isPreviewMode(getState())) {\n    dispatch(onCourseLaunched());\n    dispatch(onCourseStarted());\n    return INDEX_PATH;\n  }\n\n  if (isScormMode(getState())) {\n    await dispatch(initializeScorm());\n  } else {\n    if (isAnonymous(getState())) {\n      await eventEmitter.emit(events.APP_INITIALIZED, {\n        state: getState(),\n        isScormMode: isScormMode(getState())\n      });\n    }\n    await eventEmitter.emit(events.USER_AUTHENTICATED, getUser(getState()));\n  }\n\n  const restoreStatus = await dispatch(restoreProgress());\n\n  let attemptId = getAttemptId(getState());\n  if (!attemptId) {\n    attemptId = guidWithHyphens();\n  }\n\n  // TODO: events\n  dispatch(onCourseLaunched(attemptId));\n\n  if (!restoreStatus) {\n    await eventEmitter.emit(events.COURSE_ATTEMPT_STARTED, getState());\n  }\n\n  const state = getState();\n  if (shouldInitializeXapi(state)) {\n    await dispatch(initializeXapi());\n    await dispatch(subscribeXapi());\n  }\n\n  if (hasBeenContinued(getState())) {\n    return progressStorage.url || INDEX_PATH;\n  }\n\n  await dispatch({\n    type: ActionTypes.COURSE_STARTED\n  });\n\n  await eventEmitter.emit(events.COURSE_STARTED);\n\n  if (\n    getMasteryScoreValue(getState()) === 0 ||\n    getAffectProgressSections(getState()).length === 0\n  ) {\n    await eventEmitter.emit(events.COURSE_PROGRESSED, {\n      ...getState(),\n      course: getCourse(getState())\n    });\n  }\n  return INDEX_PATH;\n};\n\nexport const cleanup = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch({\n    type: ActionTypes.COURSE_CLEANUP\n  });\n\n  const sections = getSections(getState());\n  sections.forEach(section => {\n    dispatch(sectionActions.cleanup(section.id));\n  });\n  const questions = getQuestions(getState());\n  questions.forEach(question => {\n    dispatch(questionActions.cleanup(question.id));\n  });\n\n  if (isXapiInitialized(getState())) {\n    await dispatch(unsubscribeXapi());\n  }\n};\n\nexport const finished = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch({\n    type: ActionTypes.COURSE_FINISHED\n  });\n  eventEmitter.emit(events.COURSE_FINISHED, getCourse(getState()));\n};\n\nexport const finalized = (): ThunkResult<Promise<void>> => async (dispatch, getState) => {\n  dispatch({\n    type: ActionTypes.COURSE_FINALIZED\n  });\n  eventEmitter.emit(events.COURSE_FINALIZED, getCourse(getState()));\n};\n\nexport const startNewAttempt = (): ThunkResult<Promise<void>> => async dispatch => {\n  await dispatch(cleanup());\n  await progressStorage.removeProgress();\n\n  await dispatch(launch());\n};\n\nexport const clearPreviewQuestionId = (): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.CLEAR_PREVIEW_QUESTION_ID });\n};\n\nexport const certificateDownloaded = (\n  isCertificateDownloaded: boolean\n): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.CERTIFICATE_DOWNLOADED,\n    payload: { isCertificateDownloaded }\n  });\n};\n\nexport const evaluate = (data: { score: number; response: any }) => () => {\n  const { score, response } = data;\n  eventEmitter.emit(events.COURSE_EVALUATED, {\n    score,\n    response\n  });\n};\n","import { css } from 'styled-components';\n\nconst backgroundColor = (color: any) => css`\n  background-color: ${color};\n`;\n\nconst backgroundImage = (\n  imageUrl: string,\n  position = '0px 0px',\n  size = 'auto',\n  repeat = 'repeat',\n  color = 'transparent'\n) => css`\n  background-image: url(${imageUrl});\n  background-position: ${position};\n  background-size: ${size};\n  background-repeat: ${repeat};\n  ${backgroundColor(color)};\n`;\n\nconst headerBackgroundImage = (image: any) => {\n  let position = '0px 0px';\n  let size = 'auto';\n  let repeat = 'no-repeat';\n\n  if (image.option === 'fullscreen') {\n    position = 'top center';\n    size = 'cover';\n    repeat = 'no-repeat';\n  } else if (image.option === 'repeat') {\n    repeat = 'repeat';\n  }\n\n  return backgroundImage(image.url, position, size, repeat);\n};\n\nexport function bodyBackground(body: any) {\n  return body.color ? backgroundColor(body.color) : backgroundImage(body.texture);\n}\n\nexport function headerBackground(header: any) {\n  return header.color ? backgroundColor(header.color) : headerBackgroundImage(header.image);\n}\n\nexport default {\n  bodyBackground,\n  headerBackground\n};\n","import styled from 'styled-components';\n\n/* eslint-disable import/prefer-default-export */\n\ntype FigureProps = {\n  arialabel: string;\n  role: string\n}\nexport const Figure = styled.svg.attrs((props: FigureProps) => ({\n  role: props.role,\n  'aria-label': props.arialabel\n})) <FigureProps>`\n  max-width: 100%;\n`;\n","import React from 'react';\nimport { withTheme } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { localize } from 'core/localization';\nimport { Figure } from './Figure.styled';\n\ntype SecretLinkProps = {\n  theme: { [key: string]: any }\n};\nexport const SecretLink = (props: SecretLinkProps) => (\n  <Figure\n    width=\"260px\"\n    height=\"113px\"\n    viewBox=\"0 0 260 113\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    role=\"img\"\n    arialabel={`${localize('[aria label secret link]')}`}\n  >\n    <title>D18580DD-1FBB-400C-AF63-2F51E37FA0CF</title>\n    <desc>Created with sketchtool.</desc>\n    <defs>\n      <filter id=\"a\" width=\"100%\" height=\"100%\" x=\"0%\" y=\"0%\" filterUnits=\"objectBoundingBox\">\n        <feGaussianBlur in=\"SourceGraphic\" />\n      </filter>\n      <filter id=\"b\" width=\"100%\" height=\"100%\" x=\"0%\" y=\"0%\" filterUnits=\"objectBoundingBox\">\n        <feGaussianBlur in=\"SourceGraphic\" />\n      </filter>\n    </defs>\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <path\n        fill={props.theme.colors.textColor}\n        d=\"M74.48 18.423H20.984s-9.378 1.012-9.378 8.467c0 7.454 9.378 8.466 9.378 8.466l31.828.06s7.447 1.452 7.447 7.983c0 6.53-7.447 8.466-7.447 \n        8.466H36.368s-13.348.815-13.348 8.89c0 8.074 13.348 9.312 13.348 9.312H9.479S0 71.7 0 78.473C0 85.246 9.48 87 9.48 87h207.865s11.703-1.33 \n        11.703-8.527c0-7.196-11.703-8.406-11.703-8.406H197.02s-11.868-.707-12.08-8.042c-.211-7.336 12.08-8.709 12.08-8.709l23.586-.816s12.31 1.814 \n        12.31-8.376-11.325-8.768-11.325-8.768l28.253.06S260 34.806 260 26.89c0-7.917-10.156-8.89-10.156-8.89l-175.365.423z\"\n        filter=\"url(#a)\"\n        opacity=\".02\"\n      />\n      <ellipse\n        cx=\"130\"\n        cy=\"109\"\n        fill={props.theme.colors.textColor}\n        filter=\"url(#b)\"\n        opacity=\".1\"\n        rx=\"35\"\n        ry=\"4\"\n      />\n      <path\n        fill={transparentize(props.theme.colors.mainColor, 0.85)}\n        fillRule=\"nonzero\"\n        d=\"M169.97 76.529c0 .997-.333 1.828-.999 2.493-.666.498-1.332.83-2.331.83H93.372c-.833 \n        0-1.665-.332-2.331-.83-.666-.665-1-1.496-1-2.493V27.836h79.929V76.53z\"\n      />\n      <path\n        fill={props.theme.colors.mainColor}\n        fillRule=\"nonzero\"\n        d=\"M168.971 79.022c-.666.498-1.332.83-2.331.83H93.372c-.833 0-1.665-.332-2.331-.83l38.965-33.404 38.965 33.404z\"\n      />\n      <path\n        fill={props.theme.colors.mainColor}\n        fillRule=\"nonzero\"\n        d=\"M169.97 27.836l-11.323 8.143-26.476 18.946a3.753 3.753 0 0 1-4.496 0l-26.31-18.946-11.323-8.143 \n        11.323-8.143 24.644-17.616 1.832-1.33a3.753 3.753 0 0 1 4.496 0l1.832 1.33 11.823 8.476 5.828 4.154 6.827 4.986 11.323 8.143z\"\n      />\n      <g transform=\"translate(101.286 1.143)\">\n        <path\n          fill={props.theme.colors.contentBodyColor}\n          fillRule=\"nonzero\"\n          stroke={transparentize(props.theme.colors.textColor, 0.05)}\n          strokeOpacity=\".2\"\n          strokeWidth=\"1.143\"\n          d=\"M56.79 11.478L46.637 1.506H3.409A2.765 2.765 0 0 0 .65 4.258v30.286l26.081 18.78a3.185 3.185 0 0 0 3.821-.007L56.79 34.543V11.478z\"\n        />\n        <circle\n          cx=\"28.714\"\n          cy=\"29.714\"\n          r=\"14.857\"\n          fill={transparentize(props.theme.colors.mainColor, 0.7)}\n          opacity=\".8\"\n        />\n        <path\n          fill={props.theme.colors.buttonTextColor}\n          fillRule=\"nonzero\"\n          d=\"M25.281 28.358l-2.913 2.924a1.922 1.922 0 0 0 0 2.724l2.04 2.04c.366.366.85.566 \n          1.368.566.52 0 1.003-.2 1.368-.566l2.901-2.924c.366-.366.566-.85.566-1.368 0-.024 0-.035-.012-.059.024 0 .036.012.06.012.518 0 \n          1.002-.2 1.367-.566l2.925-2.925a1.922 1.922 0 0 0 0-2.724l-2.04-2.04a1.956 1.956 0 0 0-1.368-.554c-.52 0-.99.2-1.356.566l-2.925 \n          2.913a1.917 1.917 0 0 0-.566 1.368c0 .023 0 .035.012.059-.024 0-.035-.012-.059-.012-.519 0-1.002.2-1.368.566zm2.724-1.238l2.925-2.925a.884.884 0 \n          0 1 1.25 0l2.04 2.04a.875.875 0 0 1 0 1.239l-2.937 2.924a.898.898 0 0 1-1.238 0l-.648-.649.59-.59c.2-.2.2-.542 0-.742-.201-.2-.543-.2-.744 \n          0l-.59.59-.648-.65a.884.884 0 0 1-.26-.624c0-.236.095-.448.26-.613zm-.743 1.98l.649.65-.59.589c-.2.2-.2.542 0 .743a.509.509 0 0 0 .366.153.49.49 \n          0 0 0 .365-.153l.59-.59.648.649a.884.884 0 0 1 0 1.25l-2.924 2.924a.898.898 0 0 1-1.238 0L23.1 33.263a.875.875 0 0 1 0-1.238l2.924-2.924a.884.884 \n          0 0 1 .625-.26c.224 0 .448.095.613.26z\"\n        />\n      </g>\n      <path\n        fill={transparentize(props.theme.colors.textColor, 0.1)}\n        fillRule=\"nonzero\"\n        d=\"M148.323 9.722c0 1.496 1.165 2.659 2.664 2.659h7.66L148.323 2.077v7.645z\"\n      />\n    </g>\n  </Figure>\n);\n\nexport default withTheme(SecretLink);\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\n\nexport const TextElement = styled(Text)`\n  font-weight: 300;\n  color: ${props => props.theme.colors.textColor};\n  font-size: 24px;\n  ${media.mobile`\n    font-size: 20px;\n    padding: 0 40px;\n    text-align: center;\n  `};\n`;\n\nexport const ButtonsWrapper = styled.div`\n  display: inline-block;\n  margin-top: 40px;\n\n  & > button {\n    width: 100%;\n    display: block;\n    margin: 0 0 20px;\n  }\n`;\n\nexport const Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { localize } from 'core/localization';\nimport { RootAppState } from 'store/types';\nimport { Button } from 'components/common';\nimport { isScormMode, getLearnServiceUrl } from 'store/settings/selectors';\nimport * as navigationActions from 'store/navigation/actions';\nimport { TextElement, Wrapper, ButtonsWrapper } from './CloseCourse.styled';\n\ntype CloseCourseProps = {\n  scormMode: boolean;\n  learnServiceUrl?: string;\n  navigationActions: { [key: string]: any };\n}\n\nexport class CloseCourse extends React.PureComponent<CloseCourseProps, {}> {\n\n  render() {\n    const { scormMode, navigationActions, learnServiceUrl } = this.props;\n    return (\n      <Wrapper>\n        <TextElement appearance=\"span\">{localize('[close course text]')}</TextElement>\n        {!scormMode && (\n          <ButtonsWrapper>\n            <Button onClick={() => navigationActions.goToUrl(learnServiceUrl)}>\n              {localize('[my courses]')}\n            </Button>\n          </ButtonsWrapper>\n        )}\n      </Wrapper>\n    )\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    learnServiceUrl: getLearnServiceUrl(state),\n    scormMode: isScormMode(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    navigationActions: bindActionCreators(navigationActions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CloseCourse);\n","import styled from 'styled-components';\nimport { Button, Text } from 'components/common';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { transparentize } from 'utils/color';\n\nexport const ButtonElement = styled(Button)`\n  ${buttonDefaultStyle};\n  flex: 0 0 auto;\n  min-width: 200px;\n  background-color: ${props => props.theme.colors.mainColor};\n  font-size: 14px;\n  margin-bottom: 24px;\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.mainColor, 0.9)};\n  }\n`;\n\nexport const EmailWrapper = styled.span`\n  color: ${props => props.theme.colors.mainColor};\n`;\n\nexport const DescriptionElement = styled(Text)`\n  font-weight: normal;\n  line-height: 1.71;\n  text-align: center;\n  color: ${props => props.theme.colors.textColor};\n`;\n\nexport const DescriptionWrapper = styled(Text)`\n  display: flex;\n  flex-direction: column;\n  flex: 0 0 auto;\n  line-height: 1.71;\n  margin-bottom: 40px;\n`;\n\nexport const TitleElement = styled(Text)`\n  font-weight: 300;\n  line-height: 1.03;\n  text-align: center;\n  margin-bottom: 32px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n`;\n\nexport const Figure = styled.div`\n  margin-bottom: 54px;\n`;\n\nexport const ContinueLaterWrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { localize } from 'core/localization';\nimport SecretLink from 'assets/figures/SecretLink';\nimport { Link, StatusTooltip } from 'components/common';\nimport { BUTTON, LINK, TOOLTIP } from 'constants/components';\nimport { POPUP_ID_CLOSE_COURSE } from 'constants/popups';\nimport { getEmail, getPassword } from 'store/user/selectors';\nimport progressStorage from 'core/progressStorage';\nimport { STATUS_OK } from 'constants/progressStorage';\nimport { RootAppState } from 'store/types';\nimport CloseCoursePopup from '../closeCourse';\nimport {\n  ButtonElement,\n  EmailWrapper,\n  DescriptionElement,\n  DescriptionWrapper,\n  TitleElement,\n  Figure,\n  ContinueLaterWrapper\n} from './ContinueLater.styled';\n\nconst constants = {\n  emailSeparator: '{email}'\n};\n\ntype ContinueLaterProps = {\n  actions: { [key: string]: any };\n  closePopup(): void;\n  email: string;\n  password: string | null;\n};\n\ntype ContinueLaterState = {\n  emailSent: boolean;\n  emailSentError: boolean;\n};\n\nexport class ContinueLater extends React.Component<ContinueLaterProps, ContinueLaterState> {\n  constructor(props: ContinueLaterProps) {\n    super(props);\n\n    this.state = {\n      emailSent: false,\n      emailSentError: false\n    };\n  }\n\n  onSendSecretLink = async () => {\n    this.setState({ emailSent: false, emailSentError: false });\n\n    const status = await progressStorage.sendSecretLink();\n    const emailSent = status === STATUS_OK;\n\n    this.setState({\n      emailSent,\n      emailSentError: !emailSent\n    });\n  };\n\n  onCloseCourse = () => {\n    this.props.closePopup();\n    this.props.actions.openPopup({\n      popupId: POPUP_ID_CLOSE_COURSE,\n      popupAriaLabelKey: '[aria label close course popup]',\n      component: CloseCoursePopup,\n      disablePopupClosing: true\n    });\n  };\n\n  hideMessage = () => {\n    this.setState({\n      emailSent: false,\n      emailSentError: false\n    });\n  };\n\n  render() {\n    return (\n      <ContinueLaterWrapper>\n        <Figure>\n          <SecretLink />\n        </Figure>\n        <TitleElement appearance=\"span\" size={35}>\n          {localize('[continue on this device]')}\n        </TitleElement>\n        {this.renderDescription()}\n        {this.renderSecretLink()}\n        <Link\n          text={localize('[close course]')}\n          layout={LINK.LAYOUT.FORM}\n          onClick={this.onCloseCourse}\n        />\n      </ContinueLaterWrapper>\n    );\n  }\n\n  renderDescription = () => {\n    const { email } = this.props;\n\n    const localizedText = localize('[get secret link to]');\n    const descriptionElements = localizedText.split(constants.emailSeparator);\n    descriptionElements.splice(1, 0, <EmailWrapper key={Math.random()}>{email}</EmailWrapper>);\n\n    return (\n      <DescriptionWrapper appearance=\"p\">\n        <DescriptionElement appearance=\"span\" size={14}>\n          {descriptionElements}\n        </DescriptionElement>\n        <DescriptionElement appearance=\"span\" size={14}>\n          {localize('[get a secret link to explanation]')}\n        </DescriptionElement>\n      </DescriptionWrapper>\n    );\n  };\n\n  renderSecretLink = () => {\n    const { emailSent, emailSentError } = this.state;\n\n    const showTooltip = emailSent || emailSentError;\n    let tooltipType: any = TOOLTIP.CORRECT;\n    let tooltipMessageKey = '[secret link email sent success]';\n\n    if (emailSentError) {\n      tooltipType = TOOLTIP.INCORRECT;\n      tooltipMessageKey = '[error secret link email sending]';\n    }\n\n    return (\n      <StatusTooltip\n        popoverPosition={'top'}\n        layout={tooltipType}\n        showTooltip={showTooltip}\n        message={localize(tooltipMessageKey)}\n        onRequestClose={() => this.hideMessage()}\n        popoverButton={\n          <ButtonElement\n            layout={BUTTON.LAYOUT.PRIMARY}\n            onClick={this.onSendSecretLink}\n            data-test=\"send-me-the-link-button\"\n          >\n            {localize('[send me the link]')}\n          </ButtonElement>\n        }\n      />\n    );\n  };\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    email: getEmail(state),\n    password: getPassword(state)\n  };\n}\n\nexport default connect(mapStateToProps)(ContinueLater);\n","import styled from 'styled-components';\nimport { Text, Icon } from 'components/common';\nimport { transparentize } from 'utils/color';\nimport { secondaryFontText } from 'components/mixins/typography';\nimport media from 'components/mixins/media';\n\nexport const Wrapper = styled.article`\n  display: flex;\n  max-width: 368px;\n  padding: 36px 24px 32px;\n  background-color: ${props => transparentize(props.theme.colors.mainColor, 0.05)};\n  border-top: 4px solid ${props => transparentize(props.theme.colors.mainColor, 0.3)};\n\n  ${media.small`\n    padding: 32px 16px 32px;\n  `};\n`;\n\nexport const DescriptionText = styled(Text)`\n  ${secondaryFontText};\n  padding-left: 13px;\n`;\n\nexport const DescriptionIcon = styled(Icon)`\n  &:before {\n    color: ${props => props.theme.colors.mainColor};\n    line-height: 2;\n  }\n`;\n","import * as React from 'react';\nimport { Wrapper, DescriptionIcon, DescriptionText } from './DescriptionWithBackground.styled';\n\ntype DescriptionWithBackgroundProps = {\n  iconName: string;\n  iconSize: number;\n  descriptionText: string | null;\n  descriptionTextAppearance?: any;\n  descriptionChildren?: any;\n};\n\nexport const DescriptionWithBackground = ({\n  iconName = 'info',\n  iconSize = 2,\n  descriptionText = null,\n  descriptionTextAppearance = 'p',\n  descriptionChildren = null\n}: DescriptionWithBackgroundProps) => (\n    <Wrapper>\n      <DescriptionIcon size={iconSize} name={iconName} />\n      <DescriptionText appearance={descriptionTextAppearance}>\n        {descriptionText}\n        {descriptionChildren}\n      </DescriptionText>\n    </Wrapper>\n  );\n\nexport default DescriptionWithBackground;\n","import styled from 'styled-components';\nimport { Text, Button } from 'components/common';\nimport { transparentize } from 'utils/color';\n\nexport const TitleElement = styled(Text)`\n  font-weight: 300;\n  line-height: 1.43;\n  text-align: center;\n  margin-bottom: 48px;\n  color: ${props => props.theme.colors.textColor};\n`;\n\nexport const ButtonElement = styled(Button)`\n  background-color: ${props => props.theme.colors.mainColor};\n  margin: 48px 0 32px 0;\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.mainColor, 0.9)};\n  }\n`;\n\nexport const ContinueLaterWrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { POPUP_ID_CLOSE_COURSE } from 'constants/popups';\nimport { localize } from 'core/localization';\nimport { Link } from 'components/common';\nimport { LINK } from 'constants/components';\nimport * as popupActions from 'store/popup/actions';\nimport * as courseActions from 'store/course/actions';\nimport { closeWindow } from 'utils/window';\nimport CloseCoursePopup from '../closeCourse';\nimport DescriptionWithBackground from '../descriptionWithBackground';\nimport { TitleElement, ButtonElement, ContinueLaterWrapper } from './ContinueLaterInScorm.styled';\n\ntype ContinueLaterInScormProps = {\n  popupAction: { [key: string]: any };\n  courseAction: { [key: string]: any };\n  closePopup(): void\n};\n\nexport class ContinueLaterInScorm extends React.PureComponent<ContinueLaterInScormProps, {}> {\n  closeCourse = async () => {\n    const { courseAction, popupAction } = this.props;\n    this.props.closePopup();\n    popupAction.openPopup({\n      popupId: POPUP_ID_CLOSE_COURSE,\n      popupAriaLabelKey: '[aria label close course popup]',\n      component: CloseCoursePopup,\n      disablePopupClosing: true\n    });\n\n    await courseAction.finalized();\n    closeWindow();\n  };\n\n  render() {\n    return (\n      <ContinueLaterWrapper>\n        <TitleElement appearance=\"span\" size={35}>\n          {localize('[note that]')}\n        </TitleElement>\n        <DescriptionWithBackground\n          iconName=\"rounded-info\"\n          iconSize={12}\n          descriptionText={localize('[note]')}\n        />\n        <ButtonElement tabIndex={1} onClick={this.closeCourse}>\n          {localize('[ok close course]')}\n        </ButtonElement>\n        <Link\n          onClick={() => this.props.closePopup()}\n          text={localize('[cancel go back to the course]')}\n          layout={LINK.LAYOUT.FORM}\n        />\n      </ContinueLaterWrapper>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    courseAction: bindActionCreators(courseActions, dispatch),\n    popupAction: bindActionCreators(popupActions, dispatch)\n  };\n}\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(ContinueLaterInScorm);\n","import React from 'react';\nimport { withTheme } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { localize } from 'core/localization';\nimport { Figure } from './Figure.styled';\n\ntype TrophyProps = {\n  theme: { [key: string]: any };\n};\nexport const Trophy = (props: TrophyProps) => (\n  <Figure\n    width=\"260px\"\n    height=\"141px\"\n    viewBox=\"0 0 260 141\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    role=\"img\"\n    arialabel={`${localize('[aria label trophy]')}`}\n  >\n    <title>5F3B7156-1795-4431-B359-0884AE1D4E74</title>\n    <desc>Created with sketchtool.</desc>\n    <defs>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-1\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-2\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n    </defs>\n    <g\n      id=\"styles-simple-course\"\n      stroke=\"none\"\n      strokeWidth=\"1\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      transform=\"translate(-62.000000, -562.000000)\"\n    >\n      <g id=\"Group-7\" transform=\"translate(62.000000, 561.000000)\">\n        <g id=\"Group-4\" transform=\"translate(0.000000, 32.000000)\">\n          <path\n            d=\"M74.4791667,8.42331288 L20.9852982,8.42331288 C20.9852982,8.42331288 11.6071429,9.43488193 11.6071429,16.8895706 C11.6071429,24.3442592 \n            20.9852982,25.3558282 20.9852982,25.3558282 L52.8125,25.4163015 C52.8125,25.4163015 60.2604167,26.8676599 60.2604167,33.398773 \n            C60.2604167,39.9298861 52.8125,41.8650307 52.8125,41.8650307 L36.3690476,41.8650307 C36.3690476,41.8650307 23.0208333,42.6797948 \n            23.0208333,50.7546012 C23.0208333,58.8294077 36.3690476,60.0674847 36.3690476,60.0674847 L9.47916667,60.0674847 C9.47916667,60.0674847 \n            5.06725961e-16,61.7002629 0,68.4732691 C0,75.2462752 9.47916667,77 9.47916667,77 L217.344853,77 C217.344853,77 229.047619,75.6695881 \n            229.047619,68.4732691 C229.047619,61.27695 217.344853,60.0674847 217.344853,60.0674847 L197.020332,60.0674847 C197.020332,60.0674847\n             185.152433,59.3602005 184.940476,52.0245399 C184.728519,44.6888793 197.020332,43.3163891 197.020332,43.3163891 L220.606061,42.5 \n             C220.606061,42.5 232.916667,44.3142786 232.916667,34.1244522 C232.916667,23.9346259 221.590909,25.3558282 221.590909,25.3558282 \n             L249.84375,25.4163015 C249.84375,25.4163015 260,24.8060045 260,16.8895706 C260,8.97313658 249.84375,8 249.84375,8 L74.4791667,8.42331288 Z\"\n            id=\"Path-8\"\n            fill={props.theme.colors.textColor}\n            opacity=\"0.0199999996\"\n            filter=\"url(#filter-1)\"\n          />\n          <path\n            d=\"M131.399036,59.8785113 C131.087648,59.9948139 130.698414,60.1097949 130.555914,60.095257 C130.503137,60.0873273 130.455637,60.0820408 \n            130.406817,60.0820408 C130.364595,60.0820408 130.322373,60.0860057 130.277512,60.0926138 C130.167999,60.1177246 129.728626,59.9961355 \n            129.302447,59.841506 C106.800726,54.5114114 103.835946,7.91768911 103.511364,0.681818182 L157.30491,0.681818182 C157.278521,1.28447702 \n            157.229702,2.1831788 157.155814,3.2854101 C157.124147,3.3766019 157.108314,3.47308017 157.106994,3.57220169 L157.104355,4.03212555 \n            C156.174151,16.9655014 151.719723,55.055919 131.399036,59.8785113 Z\"\n            id=\"Path-Copy\"\n            fill={props.theme.colors.contentBodyColor}\n          />\n          <rect\n            id=\"Rectangle\"\n            fill={props.theme.colors.contentBodyColor}\n            x=\"110.465909\"\n            y=\"69.3579545\"\n            width=\"39.9886364\"\n            height=\"17.3863636\"\n          />\n          <rect\n            id=\"Rectangle-Copy\"\n            fill={props.theme.colors.contentBodyColor}\n            x=\"121.767045\"\n            y=\"58.9261364\"\n            width=\"17.3863636\"\n            height=\"10.4318182\"\n          />\n          <path\n            d=\"M159.188936,5.14909233 L159.19423,4.38312687 C161.424545,3.82654296 163.484111,4.05315212 165.323956,5.06295435 C169.503976,7.36085074 \n            170.213441,12.643097 170.324626,14.8071482 L170.324626,14.805823 C170.863343,25.3093564 163.709128,35.0813795 152.695212,39.257084 \n            C152.991705,38.4434113 153.224664,37.6310638 153.466888,36.7935376 C153.856035,35.443159 154.258418,34.0503741 154.971854,32.4866383 \n            C160.152537,29.5499957 163.34116,24.4691798 164.200195,17.7729453 C164.47948,15.6022681 164.619785,11.76714 162.426532,10.460493 \n            C161.494697,9.9065595 160.361671,9.93306349 159.045984,10.5386798 C159.171728,8.72845691 159.180994,6.91690882 159.188936,5.14909233 Z\"\n            id=\"Path-Copy-3\"\n            fill={props.theme.colors.contentBodyColor}\n          />\n          <path\n            d=\"M90.5958378,14.805823 C90.7070226,12.643097 91.4164877,7.36085074 95.5965078,5.06295435 C97.4350284,4.05182692 99.4932713,3.82389256 \n            101.726233,4.38312687 L101.730204,5.13451513 C101.73947,6.90763242 101.747411,8.72448131 101.873156,10.540005 C100.556145,9.93438869 \n            99.423119,9.9092099 98.4912843,10.4618182 C96.2980311,11.7684652 96.4383358,15.6035933 96.7176215,17.7742705 C97.5779803,24.4705049 \n            100.767926,29.5499957 105.945962,32.4879635 C106.660722,34.0503741 107.061782,35.4458094 107.452252,36.796188 C107.693153,37.632389 \n            107.927435,38.4447365 108.222604,39.2584092 C97.2113351,35.0813795 90.0571208,25.3093564 90.5958378,14.805823 Z\"\n            id=\"Path-Copy-2\"\n            fill={props.theme.colors.contentBodyColor}\n          />\n        </g>\n        <g id=\"Group\" transform=\"translate(88.732955, 0.943182)\">\n          <path\n            d=\"M26.1460122,114.870488 L56.9219375,114.870488 C57.4272828,114.870488 57.8376285,114.460786 57.8376285,113.954606 C57.8376285,113.922887 \n            57.8389479,110.758928 57.9181143,108.764603 C57.9379059,108.258422 57.5447129,107.831539 57.040687,107.811715 C56.5551333,107.786604 \n            56.1104822,108.185733 56.0906906,108.690592 C56.0365936,110.049218 56.0181215,111.931205 56.0115243,113.037401 L27.0603838,113.037401 \n            L27.0603838,104.25127 L40.5344995,104.417794 C40.9963033,104.427045 41.4541488,104.018664 41.460746,103.512484 C41.4673432,103.006303 \n            41.0622752,102.591314 40.5569299,102.584706 L26.1565677,102.407609 C25.8794854,102.407609 25.6762918,102.500123 25.5021258,102.670612 \n            C25.3279598,102.842422 25.2303212,103.077671 25.2303212,103.323492 L25.2303212,113.954606 C25.2303212,114.460786 25.6393475,114.870488 \n            26.1460122,114.870488 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n          />\n          <path\n            d=\"M62.6081852,72.9099685 C62.7458426,72.8357573 62.8689401,72.7363673 62.9589469,72.6117985 C75.6472537,68.5421101 84.0311193,57.5972852 \n            83.4235736,45.7698772 L83.4235736,45.768552 C83.1548769,40.5459398 80.9867727,36.4417961 77.4738616,34.5096548 C75.3719389,33.3527554 \n            73.0569119,33.0320571 70.5790786,33.5369582 C70.6730562,31.9175641 70.6982052,30.975347 70.6982052,30.9395666 C70.7034997,30.6917543 \n            70.609522,30.4532183 70.4374503,30.2756416 C70.2653785,30.09939 70.0284489,30 69.7809303,30 L13.9105536,30 C13.663035,30 13.4274291,30.09939 \n            13.2540337,30.2756416 C13.0806383,30.4518931 12.9866606,30.6917543 12.9932788,30.9395666 C12.9946024,30.975347 13.0184277,31.9361169 \n            13.1150526,33.582015 C10.5472125,33.0082035 8.15276783,33.3156498 5.98069277,34.5096548 C2.46778162,36.4417961 0.299677451,40.5459398 \n            0.0309807807,45.768552 L0.0309807807,45.7698772 C-0.576564893,57.5986104 7.80465342,68.5407849 20.4956075,72.6117985 C20.6425303,72.8119037 \n            20.8741654,72.9417733 21.1190367,72.9947813 C24.1474997,80.2992824 27.8854278,85.6650163 32.2931121,89.0668041 L32.2931121,98.4346412 \n            L20.4850185,98.4346412 C19.9780686,98.4346412 19.5677436,98.8454531 19.5677436,99.3530047 L19.5677436,118.621409 C19.5677436,119.128961 \n            19.9780686,119.539773 20.4850185,119.539773 L62.9695359,119.539773 C63.4764858,119.539773 63.8881344,119.128961 63.8881344,118.621409 \n            L63.8881344,99.3530047 C63.8881344,98.8454531 63.4778094,98.4346412 62.9695359,98.4346412 L51.1627659,98.4346412 L51.1627659,89.2351044 \n            C55.7014895,85.8187394 59.5254535,80.3655424 62.6081852,72.9099685 Z M70.4559811,36.2059105 L70.4612756,35.439945 C72.6915903,34.8833611 \n            74.7511569,35.1099703 76.5910011,36.1197725 C80.7710212,38.4176689 81.4804863,43.6999152 81.5916712,45.8639664 L81.5916712,45.8626412 \n            C82.1303881,56.3661746 74.9761738,66.1381977 63.9622576,70.3139021 C64.2587505,69.5002295 64.4917092,68.687882 64.7339332,67.8503558 \n            C65.1230802,66.4999772 65.5254633,65.1071923 66.2388993,63.5434565 C71.4195829,60.6068138 74.608205,55.5259979 75.4672402,48.8297635 \n            C75.7465259,46.6590863 75.8868305,42.8239582 73.6935774,41.5173112 C72.7617426,40.9633777 71.6287163,40.9898817 70.3130291,41.595498 \n            C70.4387739,39.7852751 70.4480393,37.973727 70.4559811,36.2059105 Z M69.767694,44.0550687 C71.1045592,43.0876729 72.164786,42.7470966 \n            72.7551245,43.0995997 C73.6432795,43.6283544 74.0006593,45.8374624 73.6472504,48.5978535 C72.9152836,54.2922369 70.4692174,58.5342014 \n            66.4030293,61.2601373 C66.5578939,60.6571714 66.7193766,60.0701079 66.8676231,59.4499144 C68.166103,54.040449 69.0277855,48.7078451 \n            69.5995932,44.1451823 C69.6565092,44.1173531 69.7147489,44.0934995 69.767694,44.0550687 Z M13.6868603,44.0537435 C13.8112815,44.1438571 \n            13.955557,44.1915643 14.1011562,44.2114423 C14.6716403,48.7595279 15.5319991,54.0643026 16.8225373,59.447264 C16.9866672,60.1284167 \n            17.1627099,60.773789 17.333458,61.4350637 C13.1004927,58.7184042 10.5564779,54.4194561 9.80730398,48.5965283 C9.45257143,45.8374624 \n            9.8125985,43.6270292 10.6994299,43.0982745 C11.2857975,42.7457714 12.3486715,43.0863477 13.6868603,44.0537435 Z M1.86288321,45.8626412 \n            C1.97406803,43.6999152 2.68353314,38.4176689 6.86355326,36.1197725 C8.70207383,35.1086451 10.7603168,34.8807107 12.9932788,35.439945 \n            L12.9972497,36.1913333 C13.0065151,37.9644506 13.0144569,39.7812995 13.1402016,41.5968232 C11.8231908,40.9912069 10.6901645,40.9660281 \n            9.75832971,41.5186364 C7.56507659,42.8252834 7.70538126,46.6604115 7.98466696,48.8310887 C8.84502575,55.5273231 12.0349715,60.6068138 \n            17.2130078,63.5447817 C17.9277674,65.1071923 18.328827,66.5026276 18.7192975,67.8530062 C18.960198,68.6892072 19.1944803,69.5015547 \n            19.4896495,70.3152273 C8.47838054,66.1381977 1.32416623,56.3661746 1.86288321,45.8626412 Z M62.0509374,100.271368 L62.0509374,117.701721 \n            L21.4022933,117.701721 L21.4022933,100.271368 L62.0509374,100.271368 L62.0509374,100.271368 Z M49.3242454,98.4346412 L34.1276617,98.4346412 \n            L34.1276617,90.3482722 C36.0389819,91.540952 38.0601633,92.4063075 40.1991476,92.9112086 C40.5088768,93.0304766 41.2620216,93.2769637 \n            41.8444183,93.2425085 C41.8867745,93.2451589 41.9317779,93.2478093 41.9754576,93.2478093 C42.5406472,93.2478093 43.1865781,93.026501 \n            43.3745334,92.946989 C45.469838,92.4513643 47.4513104,91.6244396 49.3242454,90.4847678 L49.3242454,98.4346412 Z M42.8397873,91.1924245 \n            C42.5274109,91.3090421 42.1369403,91.4243344 41.9939884,91.4097573 C41.9410433,91.4018061 41.8933926,91.3965053 41.8444183,91.3965053 \n            C41.8020622,91.3965053 41.7597061,91.4004809 41.7147027,91.4071069 C41.6048415,91.4322856 41.1640731,91.3103673 40.7365409,91.1553189 \n            C18.1633733,85.8107882 15.1891792,39.0908704 14.8635665,31.8354017 L68.8279175,31.8354017 C68.8014449,32.4396928 68.7524706,33.3408286 \n            68.6783474,34.4460452 C68.6465803,34.537484 68.6306968,34.6342236 68.6293732,34.7336136 L68.6267259,35.1947831 C67.6935675,48.163188 \n            63.2249963,86.3567705 42.8397873,91.1924245 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n          />\n          <ellipse\n            id=\"Oval-3\"\n            stroke={props.theme.colors.correctColor}\n            strokeWidth=\"0.866666667\"\n            fill={transparentize(props.theme.colors.correctColor, 0.06)}\n            cx=\"41.7272727\"\n            cy=\"57.0040584\"\n            rx=\"10.6086287\"\n            ry=\"10.6594968\"\n          />\n          <path\n            d=\"M43.5872704,5.21607097 C43.2302767,5.58188202 43.0673096,6.10896171 43.151669,6.62569333 L43.5481583,9.05681818 L41.4717662,7.90898859 \n            C41.2512813,7.78696198 41.0090675,7.72621746 40.7669815,7.72621746 C40.5248956,7.72621746 40.2828096,7.78723076 40.0621969,7.90898859 \n            L37.9858048,9.05681818 L38.3822941,6.62569333 C38.4666535,6.1090961 38.3036864,5.58201641 37.9466927,5.21607097 L36.2670455,3.49452817 \n            L38.5884634,3.13973714 C39.0817104,3.06447844 39.5082367,2.73858139 39.7288494,2.26861767 L40.7671094,0.0568181818 L41.8052415,2.26861767 \n            C42.025982,2.73858139 42.4522527,3.06434405 42.9456275,3.13973714 L45.2670455,3.49452817 L43.5872704,5.21607097 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n          />\n          <path\n            d=\"M8.58727041,14.216071 C8.23027668,14.581882 8.06730961,15.1089617 8.15166903,15.6256933 L8.54815832,18.0568182 L6.47176617,16.9089886 \n            C6.25128132,16.786962 6.00906752,16.7262175 5.76698155,16.7262175 C5.52489557,16.7262175 5.28280959,16.7872308 5.06219692,16.9089886 \n            L2.98580477,18.0568182 L3.38229406,15.6256933 C3.46665348,15.1090961 3.30368642,14.5820164 2.94669268,14.216071 L1.26704545,12.4945282 \n            L3.58846337,12.1397371 C4.08171036,12.0644784 4.50823671,11.7385814 4.72884938,11.2686177 L5.76710936,9.05681818 L6.80524153,11.2686177 \n            C7.02598201,11.7385814 7.45225273,12.0643441 7.94562753,12.1397371 L10.2670455,12.4945282 L8.58727041,14.216071 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n            transform=\"translate(5.767045, 13.556818) rotate(-15.000000) translate(-5.767045, -13.556818) \"\n          />\n          <path\n            d=\"M77.5872704,14.216071 C77.2302767,14.581882 77.0673096,15.1089617 77.151669,15.6256933 L77.5481583,18.0568182 L75.4717662,16.9089886 \n            C75.2512813,16.786962 75.0090675,16.7262175 74.7669815,16.7262175 C74.5248956,16.7262175 74.2828096,16.7872308 74.0621969,16.9089886 \n            L71.9858048,18.0568182 L72.3822941,15.6256933 C72.4666535,15.1090961 72.3036864,14.5820164 71.9466927,14.216071 L70.2670455,12.4945282 \n            L72.5884634,12.1397371 C73.0817104,12.0644784 73.5082367,11.7385814 73.7288494,11.2686177 L74.7671094,9.05681818 L75.8052415,11.2686177 \n            C76.025982,11.7385814 76.4522527,12.0643441 76.9456275,12.1397371 L79.2670455,12.4945282 L77.5872704,14.216071 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n            transform=\"translate(74.767045, 13.556818) scale(-1, 1) rotate(-15.000000) translate(-74.767045, -13.556818) \"\n          />\n          <ellipse\n            id=\"Oval-6\"\n            fill={props.theme.colors.textColor}\n            opacity=\"0.100000001\"\n            filter=\"url(#filter-2)\"\n            cx=\"41.2670455\"\n            cy=\"137.556818\"\n            rx=\"26\"\n            ry=\"3.5\"\n          />\n          <path\n            d=\"M44.4006287,57.7893213 C44.003969,58.195778 43.8228945,58.7814221 43.9166272,59.3555683 L44.3571709,62.0568182 L42.0500685,60.781452 \n            C41.8050853,60.6458668 41.5359589,60.5783729 41.2669744,60.5783729 C40.99799,60.5783729 40.7290056,60.6461655 40.4838804,60.781452 \n            L38.176778,62.0568182 L38.6173217,59.3555683 C38.7110544,58.7815714 38.5299799,58.1959273 38.1333201,57.7893213 L36.2670455,55.8764959 \n            L38.8463987,55.4822837 C39.3944509,55.3986629 39.8683691,55.0365551 40.1134943,54.5143732 L41.2671165,52.0568182 L42.4205966,54.5143732 \n            C42.6658639,55.0365551 43.139498,55.3985136 43.6876922,55.4822837 L46.2670455,55.8764959 L44.4006287,57.7893213 Z\"\n            fill={props.theme.colors.correctColor}\n            fillRule=\"nonzero\"\n            transform=\"translate(0.5, -0.4)\"\n          />\n        </g>\n      </g>\n    </g>\n  </Figure>\n);\n\nexport default withTheme(Trophy);\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\n\nexport const TextElement = styled(Text)`\n  && {\n    font-weight: 300;\n    font-size: 16px;\n    color: ${props => props.theme.colors.buttonTextColor};\n  }\n`;\n\nexport const Button = styled.button.attrs(props => ({\n  tabIndex: props.tabIndex,\n  'data-test': 'button-vote'\n}))`\n  ${buttonDefaultStyle};\n  background-color: ${props => props.theme.colors.correctColor};\n  border-radius: 2px;\n  position: relative;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  padding: 10px;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  overflow: visible;\n  ${media.mobile`\n    border-radius: 30px;\n    width: 160px;\n    height: 44px;\n    flex-flow: row nowrap;\n    justify-content: center;\n  `};\n\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    width: inherit;\n    height: inherit;\n    top: 0;\n    left: 0;\n  }\n  &:hover::before {\n    background: rgba(255, 255, 255, 0.1);\n  }\n  &:active::before {\n    background: rgba(0, 0, 0, 0.1);\n  }\n`;\n\nexport const TextLabel = styled(Text)`\n  font-weight: normal;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.4)};\n  position: relative;\n  top: 30px;\n  ${media.mobile`\n    top: 0;\n    color: ${(props: any) => props.theme.colors.buttonTextColor};\n    font-weight: 600;\n    margin-left: 10px;\n  `};\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { TextElement, Button, TextLabel } from './ButtonVote.styled';\n\ntype ButtonVoteProps = {\n  rating: number;\n  ratingLabelKey: string;\n  tabIndex: number;\n  onClick(): void;\n};\n\nconst ButtonVote = ({ rating, ratingLabelKey, tabIndex, onClick }: ButtonVoteProps) => (\n  <Button tabIndex={tabIndex} onClick={onClick}>\n    <TextElement appearance=\"span\" size={16} font=\"mainFont\">\n      {rating}\n    </TextElement>\n    {ratingLabelKey && (\n      <TextLabel appearance=\"span\" size={12} font=\"secondaryFont\">\n        {localize(ratingLabelKey)}\n      </TextLabel>\n    )}\n  </Button>\n);\n\nexport default ButtonVote;\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\n\nexport const Figure = styled.div`\n  margin: 200px 0 40px;\n  text-align: center;\n  ${media.mobile`\n    display: none;\n  `};\n`;\n\nexport const TextElement = styled(Text)`\n  font-weight: bold;\n  color: ${props => props.theme.colors.textColor};\n  text-align: center;\n  ${media.mobile`\n  padding: 80px 35px 30px;\n`};\n`;\n\nexport const ButtonsListItem = styled.li`\n  box-sizing: border-box;\n  margin-right: 15px;\n  &:last-child {\n    margin-right: 0;\n  }\n  ${media.mobile`\n    margin-right: 0;\n    margin-bottom: 12px;\n  `};\n`;\n\nexport const ButtonsListWrapper = styled.ul`\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  margin-top: 30px;\n  z-index: 1;\n  ${media.mobile`\n    flex-flow: column-reverse nowrap;\n    align-items: center;\n  `};\n`;\n\nexport const Wrapper = styled.div`\n  flex-grow: 1;\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport Trophy from 'assets/figures/Trophy';\nimport ButtonVote from '../buttonVote';\nimport {\n  Figure,\n  TextElement,\n  ButtonsListItem,\n  ButtonsListWrapper,\n  Wrapper\n} from './EvaluateCourse.styled';\n\ntype EvaluateCourseProps = {\n  onClick(data: any): void;\n};\n\ntype EvaluateCourseState = {\n  npsScore: number;\n}\n\nexport class EvaluateCourse extends React.PureComponent<EvaluateCourseProps, EvaluateCourseState> {\n  constructor(props: EvaluateCourseProps) {\n    super(props);\n    this.state = {\n      npsScore: 0\n    };\n  }\n\n  renderButtonsVote() {\n    let items = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n    return (\n      <ButtonsListWrapper>\n        {items.map(item => (\n          <ButtonsListItem key={item}>\n            <ButtonVote\n              rating={item}\n              ratingLabelKey={\n                (item === 1 && '[poor rating]') || ((item === 10 && '[excellent rating]') || '')\n              }\n              tabIndex={1}\n              onClick={() => this.props.onClick(item)}\n            />\n          </ButtonsListItem>\n        ))}\n      </ButtonsListWrapper>\n    );\n  }\n\n  render() {\n    return (\n      <Wrapper>\n        <Figure>\n          <Trophy />\n        </Figure>\n        <TextElement appearance=\"p\" size={18}>\n          {localize('[rate the course]')}\n        </TextElement>\n        {this.renderButtonsVote()}\n      </Wrapper>\n    );\n  }\n}\n\n\nexport default EvaluateCourse;\n","import React from 'react';\nimport { withTheme } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { localize } from 'core/localization';\nimport { Figure } from './Figure.styled';\n\ntype RateProps = {\n  theme: {[key: string]: any};\n  number: number;\n  promoters: boolean;\n};\n\nexport const Rate = (props: RateProps) => (\n  <Figure\n    width=\"261px\"\n    height=\"89px\"\n    viewBox=\"0 0 261 89\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    role=\"img\"\n    arialabel={`${localize('[aria label rate figure]')}`}\n  >\n    <title>F19AC1D1-78C9-451F-BAEC-6A87EB3B013B</title>\n    <desc>Created with sketchtool.</desc>\n    <defs>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-1\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-2\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n    </defs>\n    <g id=\"Page-2\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"nps-step2-8-10\" transform=\"translate(-589.000000, -238.000000)\">\n        <g id=\"Group\" transform=\"translate(589.590278, 238.000000)\">\n          <path\n            d=\"M74.427445,8.42331288 L20.970725,8.42331288 C20.970725,8.42331288 11.5990823,9.43488193 11.5990823,16.8895706 \n            C11.5990823,24.3442592 20.970725,25.3558282 20.970725,25.3558282 L52.7758247,25.4163015 C52.7758247,25.4163015 \n            60.2185692,26.8676599 60.2185692,33.398773 C60.2185692,39.9298861 52.7758247,41.8650307 52.7758247,41.8650307 L36.3437913,41.8650307 \n            C36.3437913,41.8650307 23.0048466,42.6797948 23.0048466,50.7546012 C23.0048466,58.8294077 36.3437913,60.0674847 36.3437913,60.0674847 \n            L9.47258391,60.0674847 C9.47258391,60.0674847 5.06374068e-16,61.7002629 0,68.4732691 C0,75.2462752 9.47258391,77 9.47258391,77 \n            L217.193919,77 C217.193919,77 228.888558,75.6695881 228.888558,68.4732691 C228.888558,61.27695 217.193919,60.0674847 217.193919,60.0674847 \n            L196.883512,60.0674847 C196.883512,60.0674847 185.023855,59.3602005 184.812045,52.0245399 C184.600235,44.6888793 196.883512,43.3163891 \n            196.883512,43.3163891 L220.452862,42.5 C220.452862,42.5 232.754919,44.3142786 232.754919,34.1244522 C232.754919,23.9346259 \n            221.437027,25.3558282 221.437027,25.3558282 L249.670247,25.4163015 C249.670247,25.4163015 259.819444,24.8060045 259.819444,16.8895706 \n            C259.819444,8.97313658 249.670247,8 249.670247,8 L74.427445,8.42331288 Z\"\n            id=\"Path-8\"\n            fillOpacity=\"0.02\"\n            fill=\"#191919\"\n            filter=\"url(#filter-1)\"\n          />\n          <ellipse\n            id=\"Oval-6\"\n            fillOpacity=\"0.1\"\n            fill=\"#191919\"\n            filter=\"url(#filter-2)\"\n            cx=\"129.909722\"\n            cy=\"85\"\n            rx=\"29.9791667\"\n            ry=\"4\"\n          />\n          <rect\n            id=\"Rectangle-2\"\n            fillOpacity=\"0.3\"\n            fill=\"#191919\"\n            x=\"126.911806\"\n            y=\"49\"\n            width=\"5.99583333\"\n            height=\"35\"\n            rx=\"2.99791667\"\n          />\n          <rect\n            id=\"Rectangle-26\"\n            strokeOpacity=\"0.1\"\n            stroke=\"#000000\"\n            strokeWidth=\"2\"\n            fill={\n              props.promoters\n                ? props.theme.colors.correctColor\n                : transparentize(props.theme.colors.textColor, 0.3, { solidColor: true })\n            }\n            x=\"100.930556\"\n            y=\"1\"\n            width=\"57.9583333\"\n            height=\"58\"\n            rx=\"5\"\n          />\n          <text\n            id=\"8\"\n            fontFamily=\"Charter-Roman, Charter\"\n            fontSize=\"32\"\n            fontWeight=\"normal\"\n            fill=\"#FFFFFF\"\n          >\n            <tspan x=\"49.5%\" y=\"47.5%\" textAnchor=\"middle\">\n              {props.number}\n            </tspan>\n          </text>\n        </g>\n      </g>\n    </g>\n  </Figure>\n);\n\nexport default withTheme(Rate);\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\n\nexport const Figure = styled.div`\n  margin: 45px 0;\n`;\n\nexport const TextElement = styled(Text)`\n  font-weight: bold;\n  color: ${props => props.theme.colors.textColor};\n  text-align: center;\n`;\n\nexport const FeedbackContainer = styled.div`\n  margin-bottom: 40px;\n  & ${TextElement} {\n    margin: 0 25px 20px;\n  }\n`;\n\nexport const EditableTextareaContainer = styled.div`\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  box-shadow: inset 0 2px 0 0 rgba(39, 17, 0, 0.06);\n  padding: 10px 23px 45px;\n  & textarea {\n    min-height: 160px;\n    font-size: 14px;\n    font-family: ${props => props.theme.fonts.secondaryFont};\n  }\n  ${media.mobile`\n    padding: 10px 10px 45px;\n    textarea {\n        padding: 4px 5px 29px;\n    }\n`};\n`;\n\nexport const Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  margin-top: 40px;\n  z-index: 1;\n  ${media.mobile`\n    margin-top: 70px;\n  `};\n`;\n","import * as React from 'react';\n\nimport { localize } from 'core/localization';\nimport Rate from 'assets/figures/Rate';\nimport { Button } from 'components/common';\nimport EditableTextarea from 'components/common/EditableTextarea';\nimport {\n  Figure,\n  TextElement,\n  FeedbackContainer,\n  EditableTextareaContainer,\n  Wrapper\n} from './FeedbackStep.styled';\n\ntype FeedbackStepProps = {\n  onChange(e: any): void;\n  onSubmit(): void;\n  npsScore: number;\n};\n\nexport class FeedbackStep extends React.PureComponent<FeedbackStepProps, {}> {\n\n  render() {\n    const { npsScore, onChange, onSubmit } = this.props;\n    let score = npsScore / 10;\n    return (\n      <Wrapper>\n        <TextElement appearance=\"h3\">{localize('[you gave a rate of]')}</TextElement>\n        <Figure>\n          <Rate number={score} promoters={score > 6} />\n        </Figure>\n        <FeedbackContainer>\n          <TextElement appearance=\"p\" size={18}>\n            {localize('[course score reason]')}\n          </TextElement>\n          <EditableTextareaContainer>\n            <EditableTextarea\n              placeholder={`${localize('[placeholder textarea]')}`}\n              tabIndex={1}\n              onChange={(e: any) => onChange(e)}\n              rows={1}\n              isAutofocus={true}\n            />\n          </EditableTextareaContainer>\n        </FeedbackContainer>\n        <Button tabIndex={1} onClick={onSubmit}>\n          {localize('[submit]')}\n        </Button>\n      </Wrapper>\n    );\n  }\n}\n\nexport default FeedbackStep;\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\n\nexport const Figure = styled.div`\n  margin-bottom: 55px;\n  text-align: center;\n`;\n\nexport const TextElement = styled(Text)`\n  font-weight: normal;\n  color: ${props => props.theme.colors.textColor};\n  text-align: center;\n  ${media.mobile`\n  padding: 0 65px;\n`};\n`;\n\nexport const ButtonsWrapper = styled.div`\n  display: inline-block;\n  margin-top: 40px;\n\n  & > button {\n    width: 100%;\n    display: block;\n    margin: 0 0 20px;\n  }\n`;\n\nexport const Wrapper = styled.div`\n  text-align: center;\n  z-index: 1;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { localize } from 'core/localization';\nimport { RootAppState } from 'store/types';\nimport Trophy from 'assets/figures/Trophy';\nimport { Text, Button } from 'components/common';\nimport { getLearnServiceUrl } from 'store/settings/selectors';\nimport * as navigationActions from 'store/navigation/actions';\nimport { Figure, TextElement, ButtonsWrapper, Wrapper } from './ThankForFeedback.styled';\n\ntype ThankForFeedbackProps = {\n  backTo(): void;\n  closeCourse(): void;\n  fromDownloadCertificateButton: boolean;\n  isScormMode: boolean;\n  learnServiceUrl?: string;\n  navigationActions: { [key: string]: any };\n};\n\nexport class ThankForFeedback extends React.PureComponent<ThankForFeedbackProps, {}> {\n  static defaultProps = {\n    fromDownloadCertificateButton: false,\n    isScormMode: false\n  };\n\n  render() {\n    const {\n      fromDownloadCertificateButton,\n      backTo,\n      closeCourse,\n      isScormMode,\n      navigationActions,\n      learnServiceUrl\n    } = this.props;\n    return (\n      <Wrapper>\n        <Figure>\n          <Trophy />\n        </Figure>\n        <Text appearance=\"h3\">{localize('[thank for feedback]')}</Text>\n        {!isScormMode && !fromDownloadCertificateButton && (\n          <Wrapper>\n            <TextElement appearance=\"p\" size={14} font=\"secondaryFont\">\n              {localize('[close course text]')}\n            </TextElement>\n            <ButtonsWrapper>\n              <Button onClick={() => navigationActions.goToUrl(learnServiceUrl)} layout=\"primary\">\n                {localize('[my courses]')}\n              </Button>\n            </ButtonsWrapper>\n          </Wrapper>\n        )}\n\n        {isScormMode && (\n          <Button onClick={closeCourse} layout=\"secondary\">\n            {localize('[close course]')}\n          </Button>\n        )}\n\n        {fromDownloadCertificateButton && (\n          <ButtonsWrapper>\n            <Button onClick={() => navigationActions.goToUrl(learnServiceUrl)} layout=\"primary\">\n              {localize('[my courses]')}\n            </Button>\n            <Button onClick={backTo} layout=\"primary\">\n              {localize('[back to the results]')}\n            </Button>\n            <Button onClick={closeCourse} layout=\"secondary\">\n              {localize('[close course]')}\n            </Button>\n          </ButtonsWrapper>\n        )}\n      </Wrapper>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    learnServiceUrl: getLearnServiceUrl(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    navigationActions: bindActionCreators(navigationActions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ThankForFeedback);\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport * as courseActions from 'store/course/actions';\nimport { isScormMode } from 'store/settings/selectors';\nimport { CssAnimation } from 'components/common';\nimport { closeWindow } from 'utils/window';\nimport { POPUP_ID_CLOSE_COURSE } from 'constants/popups';\nimport EvaluateCourse from './evaluateCourse';\nimport FeedbackStep from './feedbackStep';\nimport ThankForFeedback from './thankForFeedback';\nimport CloseCoursePopup from '../closeCourse';\nimport { RootAppState } from 'store/types';\n\nconst EVALUATE_COURSE_BLOCK = 'EVALUATE_COURSE_BLOCK';\nconst FEEDBACK_STEP_BLOCK = 'FEEDBACK_STEP_BLOCK';\nconst THANK_FOR_FEEDBACK_BLOCK = 'THANK_FOR_FEEDBACK_BLOCK';\n\ninterface NPSSteps {\n  EVALUATE_COURSE_BLOCK: string;\n  FEEDBACK_STEP_BLOCK: string;\n  THANK_FOR_FEEDBACK_BLOCK: string;\n}\n\ntype NpsPopupProps = {\n  courseActions: { [key: string]: any };\n  actions: { [key: string]: any };\n  closePopup(): void;\n  popupSettings: { [key: string]: any };\n  scormMode: boolean;\n};\n\ntype NpsPopupState = {\n  npsScore: number;\n  textFeedback: string;\n  currentStep: keyof NPSSteps;\n}\n\nexport class NpsPopup extends React.PureComponent<NpsPopupProps, NpsPopupState> {\n  steps: Array<keyof NPSSteps>;\n  constructor(props: NpsPopupProps) {\n    super(props);\n    this.state = {\n      npsScore: 0,\n      textFeedback: '',\n      currentStep: EVALUATE_COURSE_BLOCK\n    };\n    this.steps = [EVALUATE_COURSE_BLOCK, FEEDBACK_STEP_BLOCK, THANK_FOR_FEEDBACK_BLOCK];\n  }\n\n  updateNpsScore = (score: number) => {\n    this.setState({ npsScore: score * 10 });\n    this.goToNextStep();\n  };\n\n  updateTextFeedback = (e: { [key: string]: any }) => {\n    this.setState({ textFeedback: e.target.value });\n  };\n\n  submitNpsFeedback = async () => {\n    await this.props.courseActions.evaluate({\n      score: this.state.npsScore,\n      response: this.state.textFeedback\n    });\n\n    this.goToNextStep();\n  };\n\n  goToNextStep() {\n    let currentNameBlock = this.steps.indexOf(this.state.currentStep);\n    if (currentNameBlock < this.steps.length) {\n      ++currentNameBlock;\n      this.setState({ currentStep: this.steps[currentNameBlock] });\n    }\n  }\n\n  backToResult = () => {\n    this.props.closePopup();\n  };\n\n  openClosePopup() {\n    this.props.actions.openPopup({\n      popupId: POPUP_ID_CLOSE_COURSE,\n      popupAriaLabelKey: '[aria label close course popup]',\n      component: CloseCoursePopup,\n      disablePopupClosing: true,\n      closePopupByTap: false\n    });\n  }\n\n  closeCourse = () => {\n    this.props.closePopup();\n    if (!closeWindow()) {\n      this.openClosePopup();\n    } else {\n      closeWindow();\n    }\n  };\n\n  closeCourseInScormMode = () => {\n    this.props.closePopup();\n    this.openClosePopup();\n    this.props.courseActions.finalized();\n  };\n\n  render() {\n    const { fromDownloadCertificateButton } = this.props.popupSettings;\n    const { scormMode } = this.props;\n    return (\n      <React.Fragment>\n        {this.state.currentStep === EVALUATE_COURSE_BLOCK && (\n          <CssAnimation type={CssAnimation.AnimationType.fadeInDown}>\n            <EvaluateCourse onClick={this.updateNpsScore} />\n          </CssAnimation>\n        )}\n        {this.state.currentStep === FEEDBACK_STEP_BLOCK && (\n          <CssAnimation type={CssAnimation.AnimationType.fadeInDown}>\n            <FeedbackStep\n              npsScore={this.state.npsScore}\n              onChange={this.updateTextFeedback}\n              onSubmit={this.submitNpsFeedback}\n            />\n          </CssAnimation>\n        )}\n        {this.state.currentStep === THANK_FOR_FEEDBACK_BLOCK && (\n          <CssAnimation type={CssAnimation.AnimationType.fadeInDown}>\n            <ThankForFeedback\n              fromDownloadCertificateButton={fromDownloadCertificateButton}\n              backTo={this.backToResult}\n              closeCourse={scormMode ? this.closeCourseInScormMode : this.closeCourse}\n              isScormMode={scormMode}\n            />\n          </CssAnimation>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    scormMode: isScormMode(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    courseActions: bindActionCreators(courseActions, dispatch)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NpsPopup);\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { Button, Text } from 'components/common';\nimport { TextElement } from 'components/common/Button/Button.styled';\nimport { secondaryFont } from 'components/mixins/typography';\nimport { transparentize } from 'utils/color';\nimport { transition } from 'components/mixins/interactivity';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nexport const IconContainer = styled.div`\n  display: flex;\n  width: 15px;\n  height: 100%;\n  align-items: center;\n  padding: 3px;\n  opacity: 0.3;\n  transition: opacity 0.2s linear;\n`;\n\nexport const ItemText = styled(Text)`\n  text-align: left;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.7)};\n`;\n\nexport const ListItem = styled(Button)`\n  ${buttonDefaultStyle};\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: auto;\n  padding: 16px;\n  border-radius: 0;\n  line-height: 0;\n  cursor: pointer;\n\n  ${TextElement} {\n    display: flex;\n    align-items: center;\n    font-weight: normal;\n  }\n\n  ${IconContainer} {\n    opacity: 0.5;\n    margin-right: 8px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.textColor, 0.05)};\n\n    ${IconContainer} {\n      opacity: 1;\n    }\n\n    ${ItemText} {\n      color: ${props => transparentize(props.theme.colors.textColor, 1)};\n    }\n  }\n`;\n\nexport const ActionListContainer = styled.div.attrs({\n  'data-test': 'action-list-container'\n})`\n  position: relative;\n  width: 225px;\n  border-radius: 2px;\n  padding: 0;\n  background-color: ${props => props.theme.colors.contentBodyColor};\n`;\n\nexport const AvatarLetterElement = styled.span`\n  font-size: 12px;\n  ${secondaryFont};\n  font-weight: bold;\n  color: ${props => props.theme.colors.buttonTextColor};\n`;\n\nexport const AvatarLetterContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 34px;\n  height: 34px;\n  margin-right: 4px;\n  background-color: ${props => props.theme.colors.mainColor};\n  border-radius: 20px;\n`;\n\ntype ExpandableWrapperProps = {\n  ariaHidden?: any;\n  tabIndex?: number;\n}\nexport const ExpandableWrapper = styled.button.attrs((props: ExpandableWrapperProps) => ({\n  'aria-hidden':  props.ariaHidden,\n  'data-test': 'user-menu-dropdown-toggler',\n  tabIndex: props.tabIndex\n})) <ExpandableWrapperProps>`\n  ${buttonDefaultStyle};\n  display: flex;\n  align-items: center;\n  width: 60px;\n  height: 40px;\n  padding: 3px;\n  background-color: ${props => props.theme.colors.contentBodyColor};\n  box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n  border-radius: 20px;\n  cursor: pointer;\n  ${transition('.2s')};\n\n  &:hover,\n  &:focus {\n    box-shadow: 0 4px 10px 0 ${transparentize(defaultBoxShadowColor, 0.14)};\n    ${IconContainer} {\n      opacity: 0.7;\n    }\n  }\n`;\n\ntype MenuContainerProps = {\n  ariaHidden?: any;\n}\nexport const MenuContainer = styled.div.attrs((props: MenuContainerProps) => ({\n  'aria-hidden': props.ariaHidden\n}))<MenuContainerProps>`\n  position: absolute;\n  top: 20px;\n  right: 30px;\n  z-index: 105;\n\n  ${media.mobile`\n    top: 10px;\n    right: 10px;\n  `};\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { withTheme } from 'styled-components';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport * as userActions from 'store/user/actions';\nimport { shouldSaveCrossDevice } from 'store/user/selectors';\nimport { isScormMode, isNpsEnabled, getLearnServiceUrl } from 'store/settings/selectors';\nimport { isFinalized } from 'store/course/selectors';\nimport * as popupActions from 'store/popup/actions';\nimport * as courseActions from 'store/course/actions';\nimport * as navigationActions from 'store/navigation/actions';\nimport Icon from 'components/common/Icon';\nimport { localize } from 'core/localization';\nimport {\n  POPUP_ID_CONTINUE_LATER,\n  POPUP_ID_CONTINUE_LATER_IN_SCORM,\n  POPUP_ID_CLOSE_COURSE,\n  POPUP_ID_NPS_POPUP\n} from 'constants/popups';\nimport { Tooltip } from 'components/common';\nimport ContinueLater from '../popups/continueLater';\nimport ContinueLaterInScorm from '../popups/continueLaterInScorm';\nimport CloseCoursePopup from '../popups/closeCourse';\nimport NpsPopup from '../popups/nps';\n\nimport {\n  MenuContainer,\n  ExpandableWrapper,\n  AvatarLetterContainer,\n  AvatarLetterElement,\n  IconContainer,\n  ActionListContainer,\n  ListItem,\n  ItemText\n} from './UserMenu.styled';\nimport { getAvatarLetter } from '../../store/user/selectors';\nimport { RootAppState } from 'store/types';\n\nconst constants = {\n  defaultAvatarLetter: 'A'\n};\n\nconst closeCoursePopupSettings = {\n  popupId: POPUP_ID_CLOSE_COURSE,\n  popupAriaLabelKey: '[aria label close course popup]',\n  component: CloseCoursePopup,\n  disablePopupClosing: true\n};\n\nconst npsPopupSettings = {\n  popupId: POPUP_ID_NPS_POPUP,\n  popupAriaLabelKey: '[aria label close nps popup]',\n  component: NpsPopup,\n  fromDownloadCertificateButton: false,\n  disablePopupClosing: true,\n  disableBottomLine: true\n};\n\ntype UserMenuProps = {\n  actions: { [key: string]: any };\n  courseAction: { [key: string]: any };\n  saveCrossDevice: boolean;\n  avatarLetter: string;\n  isScorm: boolean;\n  courseIsFinalized: boolean;\n  npsEnabled: boolean;\n  popupActions: { [key: string]: any };\n  navigationActions: { [key: string]: any };\n  theme?: any;\n  ariaHidden?: any;\n  learnServiceUrl?: string;\n};\n\ntype UserMenuState = {\n  isExpanded: boolean;\n}\n\nexport class UserMenu extends React.Component<UserMenuProps, UserMenuState> {\n  templateTheme: any;\n  constructor(props: UserMenuProps) {\n    super(props);\n    this.templateTheme = props.theme;\n    this.state = {\n      isExpanded: false\n    };\n  }\n\n  toggle = () => {\n    this.setState({\n      isExpanded: !this.state.isExpanded\n    });\n  };\n\n  closePopup = () => {\n    this.setState({\n      isExpanded: false\n    });\n  };\n\n  onLogout = async () => {\n    await this.props.actions.logout();\n    this.toggle();\n  };\n\n  onContinueLater = () => {\n    this.props.popupActions.openPopup({\n      popupId: POPUP_ID_CONTINUE_LATER,\n      popupAriaLabelKey: '[continue later aria label]',\n      component: ContinueLater\n    });\n    this.toggle();\n  };\n\n  onContinueLaterInScorm = () => {\n    this.props.popupActions.openPopup({\n      popupId: POPUP_ID_CONTINUE_LATER_IN_SCORM,\n      popupAriaLabelKey: '[continue later aria label]',\n      component: ContinueLaterInScorm\n    });\n    this.toggle();\n  };\n\n  onSubmitResult = async () => {\n    const { npsEnabled } = this.props;\n    await this.props.courseAction.finished();\n\n    this.props.popupActions.openPopup(\n      npsEnabled ? npsPopupSettings : closeCoursePopupSettings\n    );\n\n    if (!npsEnabled) {\n      await this.props.courseAction.finalized();\n    }\n    this.toggle();\n  };\n\n  renderListItem(clickAction: any, itemTextKey: any, iconSettings?: any, additionalProps?: any) {\n    return (\n      <ListItem theme={this.templateTheme} {...additionalProps} onClick={clickAction}>\n        {iconSettings && (\n          <IconContainer>\n            <Icon theme={this.templateTheme} name={iconSettings.name} size={iconSettings.size} color={iconSettings.color} />\n          </IconContainer>\n        )}\n        <ItemText theme={this.templateTheme} appearance=\"span\" size={13}>\n          {localize(itemTextKey)}\n        </ItemText>\n      </ListItem>\n    );\n  }\n\n  render() {\n    const { avatarLetter, saveCrossDevice, isScorm, courseIsFinalized, ariaHidden, navigationActions, learnServiceUrl } = this.props;\n    const { isExpanded } = this.state;\n    return (\n      <MenuContainer ariaHidden={ariaHidden}>\n        <Tooltip\n          trigger={'manual'}\n          open={isExpanded}\n          onRequestClose={this.closePopup}\n          arrow={true}\n          position={'bottom-end'}\n          style={{ display: 'block' }}\n          interactive\n          html={\n            <ActionListContainer theme={this.templateTheme}>\n              {!isScorm &&\n                this.renderListItem(() => navigationActions.goToUrl(learnServiceUrl), '[my courses]')\n              }\n              {!isScorm &&\n                saveCrossDevice &&\n                this.renderListItem(this.onContinueLater, '[continue later with link]', null, {\n                  'data-test': 'continue-later-button'\n                })}\n\n              {!isScorm &&\n                this.renderListItem(\n                  this.onLogout,\n                  '[logout]',\n                  {\n                    name: 'logout',\n                    size: 10,\n                    color: 'textColor'\n                  },\n                  {\n                    'data-test': 'logout-button'\n                  }\n                )}\n\n              {isScorm &&\n                (courseIsFinalized\n                  ? this.renderListItem(this.onSubmitResult, '[user menu submit result]')\n                  : this.renderListItem(this.onContinueLaterInScorm, '[continue course later]'))}\n            </ActionListContainer>\n          }\n        >\n          <ExpandableWrapper ariaHidden={false} onClick={this.toggle} tabIndex={0}>\n            <AvatarLetterContainer>\n              <AvatarLetterElement>\n                {avatarLetter || constants.defaultAvatarLetter}\n              </AvatarLetterElement>\n            </AvatarLetterContainer>\n            <IconContainer>\n              <Icon name={isExpanded ? 'chevron-up' : 'chevron-down'} size={5} color=\"textColor\" />\n            </IconContainer>\n          </ExpandableWrapper>\n        </Tooltip>\n      </MenuContainer>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    avatarLetter: getAvatarLetter(state),\n    saveCrossDevice: shouldSaveCrossDevice(state),\n    isScorm: isScormMode(state),\n    courseIsFinalized: isFinalized(state),\n    npsEnabled: isNpsEnabled(state),\n    learnServiceUrl: getLearnServiceUrl(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  let data = {\n    actions: bindActionCreators(userActions, dispatch),\n    courseAction: bindActionCreators(courseActions, dispatch),\n    navigationActions: bindActionCreators(navigationActions, dispatch),\n    popupActions: bindActionCreators(popupActions, dispatch)\n  };\n  return data;\n}\n\nexport default withTheme(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UserMenu));\n","import styled, { css } from 'styled-components';\nimport media from 'components/mixins/media';\nimport { headerBackground } from 'components/mixins/backgrounds';\nimport { transparentize } from 'utils/color';\n\nexport const fullSizeAbsoluteBlock = css`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const LayoutContainer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  z-index: 10;\n  & > .reviewable-container {\n    display: flex;\n  }\n`;\n\ntype BackgroundContainerProps = {\n  background: any;\n}\nexport const BackgroundContainer = styled.div<BackgroundContainerProps>`\n  position: relative;\n  flex: 0 0 50%;\n  height: 100vh;\n  ${props => headerBackground(props.background)};\n  ${media.tablet`\n    flex: 1 1 100%;\n  `};\n`;\n\nexport const PageSidebarChild = styled.div.attrs({\n  'data-sidebar-child': true\n})`\n  ${fullSizeAbsoluteBlock};\n  ${media.tablet`\n    position: relative;\n    width: 100%;\n    height: auto;\n  `};\n`;\n\nexport const PageContentChild = styled.div.attrs({\n  'data-content-child': true\n})`\n  ${fullSizeAbsoluteBlock};\n  ${media.tablet`\n    position: relative;\n    width: 100%;\n    height: auto;\n  `};\n`;\n\nexport const PageContainer = styled.div`\n  ${fullSizeAbsoluteBlock};\n  overflow: hidden;\n`;\n\nexport const PageSidebarContainer = styled.aside.attrs({ 'data-sidebar': true })``;\n\nexport const PageContentContainer = styled.div.attrs({\n  'data-content': true\n})``;\n\ntype BasicStylesSidebarProps = {\n  background?: any;\n}\nexport const BasicStylesSidebar = styled.aside.attrs({ 'data-sidebar': true }) <BasicStylesSidebarProps>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 50%;\n  height: 100%;\n  overflow-y: auto;\n  background-color: ${props =>\n    props.background.header.coverOverlay.enabled\n      ? transparentize(\n        props.background.header.coverOverlay.color,\n        props.background.header.coverOverlay.opacity\n      )\n      : null};\n`;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Popup from 'components/common/Popup';\nimport { getPopupVisibility } from 'store/popup/selectors';\nimport { getBackground, isTrackingEnabled, isScormMode } from 'store/settings/selectors';\nimport { isAuthenticated } from 'store/user/selectors';\nimport { isReviewEnabled } from 'store/modules/selectors';\nimport { isCourseAccessLimited } from 'store/course/selectors';\nimport Reviewable from 'components/review/Reviewable';\nimport { HINT_FOR_GENERAL_COMMENT } from 'constants/review';\nimport UserMenu from '../../userMenu';\nimport {\n  LayoutContainer,\n  BackgroundContainer,\n  PageContainer,\n  PageContentContainer,\n  PageContentChild,\n  PageSidebarContainer,\n  PageSidebarChild,\n  BasicStylesSidebar\n} from './Layout.styled';\nimport { RootAppState } from 'store/types';\n\ntype PageSidebarProps = {\n  children: any;\n  className?: string;\n  props?: any\n};\nexport const PageSidebar = ({ children, className, ...props }: PageSidebarProps) => (\n  <PageSidebarContainer className={className} {...props}>\n    <PageSidebarChild>{children}</PageSidebarChild>\n  </PageSidebarContainer>\n);\n\ntype BasicStyledSidebarProps = {\n  children?: any;\n  className?: string;\n  background?: any;\n};\nexport const BasicStyledSidebar = ({ children, className = '', ...props }: BasicStyledSidebarProps) => (\n  <BasicStylesSidebar className={className} {...props}>\n    <PageSidebarChild>{children}</PageSidebarChild>\n  </BasicStylesSidebar>\n);\n\ntype PageContentProps = {\n  children: any;\n  className?: string;\n  props?: any;\n};\nexport const PageContent = ({ children, ...props }: PageContentProps) => (\n  <PageContentContainer {...props}>\n    <PageContentChild>{children}</PageContentChild>\n  </PageContentContainer>\n);\n\ntype LayoutProps = {\n  children: any;\n  background: { [key: string]: any };\n  isUserAuthenticated: boolean;\n  popupExpanded: boolean;\n  trackingEnabled: boolean;\n  isAccessLimited: boolean;\n  isScorm: boolean;\n  reviewMode: boolean;\n  className?: string;\n};\nexport class Layout extends Component<LayoutProps, {}> {\n  render() {\n    const { background, children, popupExpanded, className } = this.props;\n    const bgHeader = background.header;\n    return (\n      <LayoutContainer className={className}>\n        <Reviewable isGeneral={true} hintName={HINT_FOR_GENERAL_COMMENT}>\n          {this.shouldRenderUserMenu() && <UserMenu ariaHidden={popupExpanded} />}\n          <BackgroundContainer background={bgHeader} aria-hidden={popupExpanded} />\n          <PageContainer aria-hidden={popupExpanded}>{children}</PageContainer>\n          {popupExpanded && <Popup />}\n        </Reviewable>\n      </LayoutContainer>\n    );\n  }\n\n  shouldRenderUserMenu() {\n    const { isUserAuthenticated, trackingEnabled, isAccessLimited, isScorm } = this.props;\n    return (isUserAuthenticated && trackingEnabled && !isAccessLimited) || isScorm;\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    background: getBackground(state),\n    popupExpanded: getPopupVisibility(state),\n    isUserAuthenticated: isAuthenticated(state),\n    trackingEnabled: isTrackingEnabled(state),\n    isAccessLimited: isCourseAccessLimited(state),\n    isScorm: isScormMode(state),\n    reviewMode: isReviewEnabled(state)\n  };\n}\n\nexport default connect(mapStateToProps)(Layout);\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { MEDIA_MEDIUM } from 'constants/common';\nimport { getCustomScrollbars } from 'components/mixins/customScrollbars';\nimport { bodyBackground } from 'components/mixins/backgrounds';\nimport { BasicStyledSidebar, PageContent } from 'components/shell/Layout';\n\nexport const SectionsPageContainer = styled.div`\n  height: 100%;\n  overflow-y: auto;\n`;\n\nexport const SectionsPageSidebar = styled(BasicStyledSidebar)`\n  ${media.tablet`\n    position: relative;\n    width: 100% !important;\n    left: 0 !important;\n    height: auto;\n  `};\n`;\n\ntype SectionsPageContentProps = {\n  background: any;\n}\nexport const SectionsPageContent = styled(PageContent) <SectionsPageContentProps>`\n  position: absolute;\n  top: 0;\n  left: 50%;\n  height: 100%;\n  width: 50%;\n  left: 50%;\n  z-index: 100;\n  overflow-y: auto;\n  ${props => bodyBackground(props.background.body)};\n  ${media.tablet`\n    position: relative;\n    width: 100% !important;\n    left: 0 !important;\n    height: auto;\n  `};\n`;\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  min-height: 100vh;\n  ${getCustomScrollbars()};\n  @media (max-width: ${MEDIA_MEDIUM - 24}px) {\n    flex-direction: column;\n  }\n`;\n\nexport const SectionListContainer = styled.section`\n  flex: 1 1 50%;\n  height: 100vh;\n  min-width: 0;\n  padding: 100px 80px 30px;\n  ${getCustomScrollbars()};\n  ${media.large`\n    padding: 80px 40px 30px;\n  `};\n  ${media.medium`\n    min-height: 0;\n  `};\n  ${media.small`\n    flex: 0 0 auto;\n    padding: 60px 40px 30px;\n  `};\n  ${media.tablet`\n    height: auto;\n    overflow: initial;\n  `};\n  ${media.mobile`\n    padding: 48px 0 30px;\n  `};\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getQuestionUrl, getLearningObjectiveUrl } from 'utils/navigation';\nimport withNavigation from 'components/hocs/withNavigation';\nimport { getBackground, isPreviewMode } from 'store/settings/selectors';\nimport { getQuestionSection } from 'store/questions/selectors';\nimport {\n  getCourseTitle,\n  getCourseIntroductions,\n  getPreviewQuestionId\n} from 'store/course/selectors';\nimport { getSections, affectsProgress } from 'store/sections/selectors';\nimport SectionsListComponent from 'components/sections/SectionsList';\nimport CourseInformation from 'components/sections/CourseInformation';\nimport { localize } from 'core/localization';\nimport { clearPreviewQuestionId } from 'store/course/actions';\nimport {\n  SectionsPageContainer,\n  SectionListContainer,\n  SectionsPageSidebar,\n  SectionsPageContent\n} from './SectionsPage.styled';\nimport { RootAppState } from 'store/types';\n\ntype SectionsProps = {\n  sections: any[];\n  navigateToUrl(url: string): void;\n  isAccessLimited: boolean;\n  previewQuestionId: string;\n  previewSectionId: string;\n  clearPreviewQuestionIdAction(): void;\n  theme: { [key: string]: any };\n  background: { [key: string]: any };\n  title: string;\n};\nexport class Sections extends React.Component<SectionsProps, {}> {\n  navigateToQuestion = (sectionId: string, questionId: string) => {\n    this.props.navigateToUrl(getQuestionUrl(sectionId, questionId));\n  };\n\n  navigateToLearningObjective = (sectionId: string) => {\n    this.props.navigateToUrl(getLearningObjectiveUrl(sectionId));\n  };\n\n  componentDidMount() {\n    if (this.props.previewQuestionId) {\n      this.props.clearPreviewQuestionIdAction();\n      this.navigateToQuestion(this.props.previewSectionId, this.props.previewQuestionId);\n    }\n\n    document.title = `${localize('[section page title]')} | ${this.props.title}`;\n  }\n\n  render() {\n    const { sections, background } = this.props;\n    return (\n      <SectionsPageContainer>\n        <SectionsPageSidebar background={background}>\n          <CourseInformation sections={sections} />\n        </SectionsPageSidebar>\n        <SectionsPageContent background={background}>\n          <SectionListContainer>\n            <SectionsListComponent\n              sections={sections}\n              navigateToQuestion={this.navigateToQuestion}\n              navigateToLearningObjective={this.navigateToLearningObjective}\n            />\n          </SectionListContainer>\n        </SectionsPageContent>\n      </SectionsPageContainer>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { clearPreviewQuestionIdAction: bindActionCreators(clearPreviewQuestionId, dispatch) };\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  const props: {[key: string]: any} = {\n    title: getCourseTitle(state),\n    introductions: getCourseIntroductions(state),\n    sections: getSections(state).map(section => ({\n      ...section,\n      affectsProgress: affectsProgress(state, section.id)\n    })),\n    background: getBackground(state)\n  };\n\n  const previewQuestionId = getPreviewQuestionId(state);\n  if (isPreviewMode(state) && previewQuestionId) {\n    props.previewQuestionId = previewQuestionId;\n    props.previewSectionId = getQuestionSection(state, props.previewQuestionId);\n  }\n\n  return props;\n}\n\nexport default withNavigation(connect(mapStateToProps, mapDispatchToProps)(Sections));\n","import styled from 'styled-components';\n\ntype FormProps = {\n  idElement: string;\n}\nexport const Form = styled.form.attrs((props: FormProps) => ({\n  id: props.idElement\n}))<FormProps>`\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n`;\n\nexport const FormContentWrapper = styled.div`\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n`;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getEmail, getName } from 'store/user/selectors';\nimport { Form } from './AuthForm.styled';\nimport { RootAppState } from 'store/types';\n\ntype AuthFormProps = {\n  renderContent: any;\n  onSubmit(e: any, data: any): Promise<void>;\n  formId: string;\n  userEmail: string;\n  userName: string;\n  shortTermAccess?: boolean;\n  isEmailPasswordCombinationNotExists?: boolean;\n  isUserExist?: boolean;\n  resetPasswordSendMessage?: boolean;\n  checkIsUserExist?(email: string): void;\n  hideMessage?(): void;\n}\ntype AuthFormState = {\n  [key: string]: any\n  email: string;\n  name: string;\n  password: string;\n  validationStatusBeforeSubmit: any;\n  fieldRefs: { [key: string]: any };\n}\n\nexport class AuthForm extends Component<AuthFormProps, AuthFormState> {\n  fieldRefs: { [key: string]: any };\n  constructor(props: AuthFormProps) {\n    super(props);\n\n    this.state = {\n      email: '',\n      name: '',\n      password: '',\n      validationStatusBeforeSubmit: {\n        name: true,\n        email: true,\n        password: true\n      },\n      fieldRefs: {}\n    };\n    this.fieldRefs = {};\n  }\n\n  componentDidMount() {\n    const { userEmail, userName } = this.props;\n\n    if (userEmail || userName) {\n      this.setState({\n        email: userEmail || '',\n        name: userName || ''\n      });\n    }\n\n    this.setState({\n      fieldRefs: this.fieldRefs\n    });\n  }\n\n  onChange = (event: any) => {\n    event.target.classList.add('changed');\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  beforeSubmitValidation = (event: any, onSubmit: any) => {\n    event.preventDefault();\n    const { hideMessage, isUserExist } = this.props;\n    let validationStatusBeforeSubmit: {[key: string]: boolean} = {};\n    for (const ref in this.fieldRefs) {\n      validationStatusBeforeSubmit = {\n        ...validationStatusBeforeSubmit,\n        [ref]: this.returnValidationStatusElem(this.fieldRefs[ref])\n      };\n    }\n\n    this.setState({\n      validationStatusBeforeSubmit\n    });\n\n    for (const ref in validationStatusBeforeSubmit) {\n      if (!validationStatusBeforeSubmit[ref]) {\n        return;\n      }\n    }\n\n    if (typeof hideMessage === 'function') {\n      hideMessage();\n    }\n\n    if (!isUserExist) {\n      onSubmit(event, { ...this.state, email: this.state.email.toLowerCase() });\n    }\n  };\n\n  returnValidationStatusElem = (elem: any) => {\n    return (elem ? elem.validity.valid : false);\n  }\n\n  setValidationStatusElem = (elem: any) => {\n    const elemValid = elem ? elem.validity.valid : false;\n    this.setState({ validationStatusBeforeSubmit: { [elem.name]: elemValid } });\n  };\n\n  setRefs = (element: any) => {\n    if (element) {\n      this.fieldRefs[element.name] = element;\n    }\n  };\n\n  render() {\n    const { fieldRefs } = this.state;\n    const {\n      formId,\n      onSubmit,\n      resetPasswordSendMessage,\n      shortTermAccess,\n      renderContent,\n      isEmailPasswordCombinationNotExists,\n      isUserExist\n    } = this.props;\n    const props = {\n      refEmail: fieldRefs.email,\n      onChange: this.onChange,\n      setRefs: this.setRefs,\n      setValidationStatusElem: this.setValidationStatusElem,\n      validationStatusBeforeSubmit: this.state.validationStatusBeforeSubmit,\n      email: this.state.email,\n      isEmailPasswordCombinationNotExists,\n      resetPasswordSendMessage,\n      shortTermAccess,\n      isUserExist\n    };\n    return (\n      <Form\n        idElement={formId}\n        onSubmit={event => {\n          this.beforeSubmitValidation(event, onSubmit);\n        }}\n        noValidate\n      >\n        {renderContent(props)}\n      </Form>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    userEmail: getEmail(state),\n    userName: getName(state)\n  };\n}\n\nexport default connect(mapStateToProps)(AuthForm);\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { INPUT_TYPE } from 'constants/components';\nimport Input from '../Input';\n\ntype EmailInputProps = {\n  userEmail: string;\n  email?: string;\n  textError: string;\n  isUserExist?: boolean;\n  validationStatusBeforeSubmit: boolean;\n  checkIsUserExist?(email: string): void;\n  onChange(e: any): void;\n  setRefs(n: any): void;\n  onFocus(e: any): void;\n};\n\nexport class EmailInput extends React.Component<EmailInputProps, {}> {\n\n  static defaultProps = {\n    onFocus: () => { }\n  };\n\n  render() {\n    const {\n      userEmail,\n      email,\n      isUserExist,\n      checkIsUserExist,\n      onChange,\n      setRefs,\n      textError,\n      validationStatusBeforeSubmit,\n      onFocus\n    } = this.props;\n    return (\n      <Input\n        idInput=\"email\"\n        type={INPUT_TYPE.EMAIL}\n        refInput={(node: any) => setRefs(node)}\n        name=\"email\"\n        labelText={localize('[email]')}\n        defaultValue={userEmail}\n        placeholder=\"john@example.com\"\n        autoComplete=\"new-email\"\n        onChange={(e: any) => onChange(e)}\n        validIcon={true}\n        validationStatusBeforeSubmit={validationStatusBeforeSubmit}\n        textError={textError}\n        onBlur={checkIsUserExist ? (() => checkIsUserExist(email || '')) : (() => {})}\n        isUserExist={isUserExist}\n        onFocus={(e: any) => onFocus(e)}\n      />\n    );\n  }\n}\n\nexport default EmailInput;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { INPUT_TYPE } from 'constants/components';\nimport Input from '../Input';\n\ntype NameInputProps = {\n  userName: string;\n  validationStatusBeforeSubmit: boolean;\n  onChange(): void;\n  setRefs(node: any): void;\n  onFocus?(e: any): void;\n};\n\nexport class NameInput extends React.Component<NameInputProps, {}> {\n  render() {\n    const { userName, onChange, setRefs, validationStatusBeforeSubmit, onFocus } = this.props;\n\n    return (\n      <Input\n        idInput=\"name\"\n        type={INPUT_TYPE.TEXT}\n        refInput={(node: any) => setRefs(node)}\n        name=\"name\"\n        labelText={localize('[name]')}\n        defaultValue={userName}\n        placeholder=\"John Doe\"\n        onChange={onChange}\n        validIcon={true}\n        pattern=\"(([a-zA-Z]|[\\xC0-\\uFFFF]|\\d|-)+\\s?)+\"\n        validationStatusBeforeSubmit={validationStatusBeforeSubmit}\n        onFocus={onFocus}\n      />\n    );\n  }\n}\n\nexport default NameInput;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { INPUT_TYPE } from 'constants/components';\nimport Input from '../Input';\n\ntype PasswordInputProps = {\n  validationStatusBeforeSubmit: boolean;\n  pattern: string;\n  showValidationMessage: boolean;\n  onChange(e: any): void;\n  setRefs(node: any): void;\n  onFocus?(e: any): void;\n};\n\nexport class PasswordInput extends React.Component<PasswordInputProps, {}> {\n  render() {\n    const {\n      onChange,\n      setRefs,\n      validationStatusBeforeSubmit,\n      pattern,\n      showValidationMessage,\n      onFocus\n    } = this.props;\n\n    return (\n      <Input\n        idInput=\"password\"\n        type={INPUT_TYPE.PASSWORD}\n        refInput={(node: any) => setRefs(node)}\n        name=\"password\"\n        placeholder={localize('[password]')}\n        labelText={localize('[password]')}\n        autoComplete=\"new-password\"\n        onChange={onChange}\n        showValidationMessage={showValidationMessage}\n        pattern={pattern}\n        validationStatusBeforeSubmit={validationStatusBeforeSubmit}\n        onFocus={onFocus}\n      />\n    );\n  }\n}\n\nexport default PasswordInput;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { Button } from 'components/common';\nimport media from 'components/mixins/media';\nimport buttonDefaultStyle from 'components/mixins/normalize';\n\ntype InputContainerProps = {\n  size: number;\n}\nexport const InputContainer = styled.div<InputContainerProps>`\n  margin-bottom: ${props => props.size}px;\n  &:last-of-type {\n    margin-bottom: 0;\n  }\n`;\n\nexport const ButtonSubmitSingUp = styled(Button)`\n  ${buttonDefaultStyle};\n  background-color: ${props => props.theme.colors.mainColor};\n  color: ${props => props.theme.colors.buttonTextColor};\n  margin-top: 48px;\n  min-width: 198px;\n  max-width: 320px;\n  text-overflow: ellipsis;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ${media.mobile`\n    min-width: 160px;\n    max-width: 260px;\n  `};\n  & span {\n    font-size: 14px;\n  }\n  & .icon {\n    font-size: 8px;\n  }\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.mainColor, 0.9)};\n  }\n  &:active {\n    background-color: ${props => transparentize(props.theme.colors.mainColor)};\n  }\n  & > span:first-child {\n    position: relative;\n    width: auto;\n    padding: 0 10px;\n  }\n  & > span:first-child:after {\n    content: '*';\n    position: absolute;\n    top: -3px;\n    left: 91%;\n  }\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { localize } from 'core/localization';\nimport progressStorage from 'core/progressStorage';\nimport { getEmail, getName } from 'store/user/selectors';\nimport { BUTTON } from 'constants/components';\nimport AuthForm from '../AuthForm';\nimport EmailInput from '../AuthForm/EmailInput';\nimport NameInput from '../AuthForm/NameInput';\nimport PasswordInput from '../AuthForm/PasswordInput';\nimport { FormContentWrapper } from '../AuthForm/AuthForm.styled';\nimport { ButtonSubmitSingUp, InputContainer } from './SignUpForm.styled';\nimport { RootAppState } from 'store/types';\n\ntype SignUpProps = {\n  onSubmit(e: any, data: any): Promise<void>;\n  userEmail?: string;\n  userName?: string;\n  formId: string;\n  validationStatusBeforeSubmit?: any;\n};\n\ntype SignUpState = {\n  isUserExist: boolean;\n}\n\nexport class SignUp extends React.Component<SignUpProps, SignUpState> {\n  constructor(props: SignUpProps) {\n    super(props);\n\n    this.state = {\n      isUserExist: false\n    };\n  }\n\n  checkIsUserExist = async (email: string) => {\n    let status = await progressStorage.userExists(email.toLowerCase());\n    this.setState({ isUserExist: status.exists });\n  };\n\n  renderContent = (props: any) => {\n    const { userEmail='', userName='' } = this.props;\n    const { onChange, setRefs, validationStatusBeforeSubmit, email, isUserExist } = props;\n\n    return (\n      <FormContentWrapper>\n        <InputContainer size={40}>\n          <NameInput\n            userName={userName}\n            onChange={onChange}\n            setRefs={setRefs}\n            validationStatusBeforeSubmit={validationStatusBeforeSubmit.name}\n          />\n        </InputContainer>\n        <InputContainer size={40}>\n          <EmailInput\n            userEmail={userEmail}\n            isUserExist={isUserExist}\n            checkIsUserExist={this.checkIsUserExist}\n            onChange={onChange}\n            setRefs={setRefs}\n            email={email}\n            textError={isUserExist ? localize('[user exist]') : localize('[error email input]')}\n            validationStatusBeforeSubmit={validationStatusBeforeSubmit.email}\n          />\n        </InputContainer>\n        <InputContainer size={17}>\n          <PasswordInput\n            onChange={onChange}\n            setRefs={setRefs}\n            validationStatusBeforeSubmit={validationStatusBeforeSubmit.password}\n            pattern=\"\\S{7,}\"\n            showValidationMessage={true}\n          />\n        </InputContainer>\n        <ButtonSubmitSingUp layout={BUTTON.LAYOUT.PRIMARY} suffixIcon=\"arrow-right\" type=\"submit\">\n          {localize('[sign up button]')}\n        </ButtonSubmitSingUp>\n      </FormContentWrapper>\n    );\n  };\n\n  render() {\n    const { isUserExist } = this.state;\n    const { onSubmit, formId } = this.props;\n\n    return (\n      <AuthForm\n        isUserExist={isUserExist}\n        checkIsUserExist={this.checkIsUserExist}\n        formId={formId}\n        onSubmit={onSubmit}\n        renderContent={this.renderContent}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    userEmail: getEmail(state),\n    userName: getName(state)\n  };\n}\n\nexport default connect(mapStateToProps)(SignUp);\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { secondaryFont } from 'components/mixins/typography';\nimport Icon from 'components/common/Icon';\nimport Text from 'components/common/Text';\n\nconst variables = {\n  colors: {\n    facebook: '#4267b2',\n    linkedin: '#0077b5',\n    google: '#ea4335'\n  }\n};\n\nexport const IconElement = styled(Icon)`\n  font-size: 13px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n`;\n\ntype LinkElement = {\n  href: string;\n  ariaLabel: string;\n  name: string;\n}\nexport const LinkElement = styled.a.attrs((props: LinkElement) => ({\n  href: props.href,\n  'aria-label': props.ariaLabel\n}))<LinkElement>`\n  text-decoration: none;\n  text-align: center;\n  border-radius: 100px;\n  padding: 8px;\n  background-color: ${props => props.theme.colors.contentBodyColor};\n  border: 1px solid ${props => transparentize(props.theme.colors.textColor, 0.1)};\n  width: 53px;\n  height: 31px;\n  margin: 0 8px;\n  &:hover {\n    cursor: pointer;\n  }\n  &:focus {\n    outline: none;\n  }\n  ${props =>\n    props.name === 'facebook'\n      ? css`\n          &:hover,\n          &:focus {\n            border: 1px solid ${variables.colors.facebook};\n          }\n          &:hover ${IconElement}, &:focus ${IconElement} {\n            color: ${variables.colors.facebook};\n          }\n          &:active {\n            background-color: ${transparentize(variables.colors.facebook, 0.1)};\n          }\n        `\n      : css``};\n  ${props =>\n    props.name === 'linkedin'\n      ? css`\n          &:hover,\n          &:focus {\n            border: 1px solid ${variables.colors.linkedin};\n          }\n          &:hover ${IconElement}, &:focus ${IconElement} {\n            color: ${variables.colors.linkedin};\n          }\n          &:active {\n            background-color: ${transparentize(variables.colors.linkedin, 0.1)};\n          }\n        `\n      : css``};\n  ${props =>\n    props.name === 'google'\n      ? css`\n          &:hover,\n          &:focus {\n            border: 1px solid ${variables.colors.google};\n          }\n          &:hover ${IconElement}, &:focus ${IconElement} {\n            color: ${variables.colors.google};\n          }\n          &:active {\n            background-color: ${transparentize(variables.colors.google, 0.1)};\n          }\n        `\n      : css``};\n`;\n\nexport const SocialLoginContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const TextSocial = styled(Text)`\n  ${secondaryFont};\n  font-size: 14px;\n  text-align: center;\n  font-weight: normal;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  line-height: 1;\n  padding: 10px 16px;\n  flex-shrink: 0;\n`;\n\nexport const SeparatorContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n`;\n","import * as React from 'react';\nimport Separator from 'components/common/Separator';\nimport { localize } from 'core/localization';\nimport progressStorage from 'core/progressStorage';\nimport {\n  LinkElement,\n  SocialLoginContainer,\n  IconElement,\n  TextSocial,\n  SeparatorContainer\n} from './SocialLogin.styled';\n\ntype SocialLoginProps = {\n  title: string;\n};\nexport class SocialLogin extends React.Component<SocialLoginProps, {}> {\n  render() {\n    const { title } = this.props;\n    return (\n      <React.Fragment>\n        <SeparatorContainer>\n          <Separator opacity={0.05} color=\"textColor\" />\n          <TextSocial appearance=\"span\">{title}</TextSocial>\n          <Separator opacity={0.05} color=\"textColor\" />\n        </SeparatorContainer>\n        <SocialLoginContainer>\n          <LinkElement\n            name=\"facebook\"\n            ariaLabel={localize('[btn FB label]')}\n            href={progressStorage.getSocialNetworkAuthLink('facebook')}\n          >\n            <IconElement name=\"facebook\" />\n          </LinkElement>\n          <LinkElement\n            name=\"linkedin\"\n            ariaLabel={localize('[btn LI label]')}\n            href={progressStorage.getSocialNetworkAuthLink('linkedin')}\n          >\n            <IconElement name=\"linkedin\" />\n          </LinkElement>\n          <LinkElement\n            name=\"google\"\n            ariaLabel={localize('[btn G label]')}\n            href={progressStorage.getSocialNetworkAuthLink('google')}\n          >\n            <IconElement name=\"google\" />\n          </LinkElement>\n        </SocialLoginContainer>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default SocialLogin;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { transition } from 'components/mixins/interactivity';\nimport { secondaryFont } from 'components/mixins/typography';\n\ntype ListItemElementsProps = {\n  ariaCurrent: string | boolean;\n}\nexport const ListItemElements = styled.li.attrs((props: ListItemElementsProps) => ({\n  'aria-current': props.ariaCurrent\n})) <ListItemElementsProps>`\n  ${secondaryFont};\n  font-size: 14px;\n  font-weight: normal;\n  overflow: visible;\n  margin: 0 21px;\n  & a {\n    display: inline-block;\n    text-decoration: none;\n    color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  }\n  &.active a {\n    color: ${props => props.theme.colors.mainColor};\n  }\n  &:hover {\n    cursor: pointer;\n  }\n  & > a:focus {\n    outline: none;\n  }\n  &::after {\n    content: '';\n    position: relative;\n    top: 16px;\n    display: block;\n  }\n  &.active {\n    pointer-events: none;\n  }\n  &.inactive::after {\n    width: 0;\n    left: 50%;\n    border-top: 1px solid ${props => transparentize(props.theme.colors.textColor, 0.5)};\n    ${transition('width, left')};\n  }\n  &.inactive:hover::after {\n    width: 100%;\n    left: 0;\n  }\n  &.active::after {\n    width: 100%;\n    border-top: 1px solid ${props => props.theme.colors.mainColor};\n  }\n`;\n\nexport const ListElement = styled.ul`\n  display: flex;\n`;\n\nexport const LinksWrapper = styled.nav`\n  display: flex;\n  justify-content: center;\n`;\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { localize } from 'core/localization';\nimport { LOGIN_PATH, SIGNUP_PATH } from 'constants/navigation';\nimport { LinksWrapper, ListElement, ListItemElements } from './SwitcherForm.styled';\n\n\ntype SwitcherFormProps = {\n  signUp: boolean;\n  logIn: boolean;\n}\nexport class SwitcherForm extends React.Component<SwitcherFormProps, {}> {\n\n  static defaultProps = {\n    signUp: false,\n    logIn: false\n  };\n  render() {\n    const { signUp, logIn } = this.props;\n    // eslint-disable-next-line\n    return (\n      <LinksWrapper>\n        <ListElement>\n          <ListItemElements\n            ariaCurrent={signUp ? 'page' : false}\n            className={signUp ? 'active' : 'inactive'}\n          >\n            <Link to={SIGNUP_PATH}>{localize('[signup]')}</Link>\n          </ListItemElements>\n          <ListItemElements\n            ariaCurrent={logIn ? 'page' : false}\n            className={logIn ? 'active' : 'inactive'}\n          >\n            <Link to={LOGIN_PATH}>{localize('[login]')}</Link>\n          </ListItemElements>\n        </ListElement>\n      </LinksWrapper>\n    );\n  }\n}\n\nexport default SwitcherForm;\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\nimport Text from 'components/common/Text';\nimport { secondaryFont } from 'components/mixins/typography';\n\nexport const MobileFooterContainer = styled.div`\n  display: none;\n  width: 100%;\n  ${media.tablet`\n    display: block;\n    padding-bottom: 100px;\n  `};\n  ${media.mobile`\n    display: block;\n    padding-bottom: 70px;\n  `};\n`;\n\nexport const Note = styled(Text)`\n  ${secondaryFont};\n  position: absolute;\n  bottom: 47px;\n  color: ${props => props.theme.colors.buttonTextColor};\n  width: 400px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 1.5;\n  text-align: center;\n  ${MobileFooterContainer} & {\n    position: static;\n    color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n    transform: translateX(0);\n    font-size: 10px;\n    margin: 35px auto;\n    ${media.mobile`\n      padding: 0 30px;\n      width: 100%;\n    `};\n  }\n`;\n\nexport const LinkToPageContainer = styled.div`\n  width: 100%;\n  height: 100px;\n  background: ${props => props.theme.colors.contentBodyColor};\n  display: flex;\n  position: fixed;\n  bottom: 0;\n  justify-content: center;\n  align-items: center;\n  font-weight: normal;\n  & a {\n    color: ${props => props.theme.colors.mainColor};\n    margin-left: 5px;\n  }\n  ${media.mobile`\n    height: 70px;\n  `};\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n    z-index: -1;\n  }\n`;\n\nexport const LinkToPageText = styled(Text)`\n  color: ${props => props.theme.colors.textColor};\n`;\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { localize } from 'core/localization';\nimport {\n  MobileFooterContainer,\n  Note,\n  LinkToPageContainer,\n  LinkToPageText\n} from './MobileFooter.styled';\n\ntype MobileFooterProps = {\n  noteTextKey?: string;\n  navigationTextKey: string;\n  navigateTo: string;\n  navigationToTextKey: string;\n};\n\nexport class MobileFooter extends React.Component<MobileFooterProps, {}> {\n  render() {\n    const { noteTextKey, navigationTextKey, navigateTo, navigationToTextKey } = this.props;\n    return (\n      <MobileFooterContainer>\n        {noteTextKey && <Note appearance=\"p\">{localize(noteTextKey)}</Note>}\n        <LinkToPageContainer>\n          <LinkToPageText>\n            {localize(navigationTextKey)}\n            <Link to={navigateTo}>{localize(navigationToTextKey)}</Link>\n          </LinkToPageText>\n        </LinkToPageContainer>\n      </MobileFooterContainer>\n    );\n  }\n}\n\nexport default MobileFooter;\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { bodyBackground } from 'components/mixins/backgrounds';\nimport { BasicStyledSidebar, PageContent } from 'components/shell/Layout';\nimport { transparentize } from 'utils/color';\nimport { centerAbsoluteElement } from 'components/mixins/placement';\nimport Text from 'components/common/Text';\nimport { secondaryFont } from 'components/mixins/typography';\nimport { getCustomScrollbars } from 'components/mixins/customScrollbars';\n\nexport const AuthPageSidebar = styled(BasicStyledSidebar)``;\n\ntype AuthPageContentProps = {\n  background: any;\n}\nexport const AuthPageContent = styled(PageContent) <AuthPageContentProps>`\n  position: absolute;\n  top: 0;\n  left: 50%;\n  height: 100%;\n  width: 50%;\n  left: 50%;\n  z-index: 100;\n  overflow-y: auto;\n  ${getCustomScrollbars()}\n  ${props => bodyBackground(props.background.body)};\n  ${media.tablet`\n    position: relative;\n    width: 100%;\n    left: 0;\n  `};\n`;\n\nexport const AuthContainer = styled.div`\n  width: 300px;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  ${media.mobile`\n    width: 260px;\n  `};\n`;\n\nexport const AuthSection = styled.section`\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n`;\n\ntype CourseLogoProps = {\n  altText: string;\n  logoUrl: string\n}\nexport const CourseLogo = styled.img.attrs((props: CourseLogoProps) => ({\n  alt: props.altText,\n  src: props.logoUrl\n})) <CourseLogoProps>`\n  display: none;\n  margin: 56px auto;\n  max-width: 200px;\n  max-height: 80px;\n\n  ${media.tablet`\n    display: block;\n  `};\n`;\n\nexport const CourseLogoSidebarWrapper = styled.div`\n  width: 360px;\n  height: 200px;\n  position: absolute;\n  ${centerAbsoluteElement};\n`;\n\ntype CourseLogoSidebarProps = {\n  altText: string\n  logoUrl: string\n}\nexport const CourseLogoSidebar = styled.img.attrs((props: CourseLogoSidebarProps) => ({\n  alt: props.altText,\n  src: props.logoUrl\n})) <CourseLogoSidebarProps>`\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n  margin: 0 auto;\n`;\n\nexport const FormLabel = styled.label`\n  ${secondaryFont};\n  display: inline-block;\n  font-size: 36px;\n  font-weight: 300;\n  line-height: 1.03;\n  text-align: center;\n  color: ${props => props.theme.colors.textColor};\n  margin-top: 100px;\n\n  ${media.tablet`\n    margin-top: 0;\n  `};\n`;\n\nexport const AuthTextForm = styled(Text)`\n  && {\n    ${secondaryFont};\n    font-size: 14px;\n    text-align: center;\n    font-weight: normal;\n    margin: 32px auto;\n    color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n    line-height: 1.6;\n    ${media.mobile`\n      width: 220px;\n    `};\n  }\n`;\n\nexport const AuthSocialLoginContainer = styled.div`\n  position: relative;\n  width: 320px;\n`;\n\nexport const SwitcherFormContainer = styled.div`\n  ${media.tablet`\n    display: none;\n  `};\n  ${media.mobile`\n    display: none;\n  `};\n`;\n","import styled from 'styled-components';\nimport Text from 'components/common/Text';\nimport { secondaryFont } from 'components/mixins/typography';\nimport {\n  AuthContainer,\n  AuthTextForm,\n  AuthSocialLoginContainer,\n  AuthSection\n} from '../auth/auth.styled';\n\nexport const SignupSection = styled(AuthSection)`\n  justify-content: space-between;\n  padding-top: 40px;\n`;\n\nexport const SignupContainer = styled(AuthContainer)`\n  justify-content: space-between;\n`;\n\nexport const TextForm = styled(AuthTextForm)`\n  width: 320px;\n`;\n\nexport const SocialLoginContainer = styled(AuthSocialLoginContainer)`\n  margin-bottom: 50px;\n`;\n\nexport const FootNoteText = styled(Text)`\n  ${secondaryFont};\n  && {\n    position: absolute;\n    bottom: 47px;\n    color: ${props => props.theme.colors.coverBgOverlayTextColor};\n    width: 400px;\n    left: 50%;\n    transform: translateX(-50%);\n    font-weight: normal;\n    font-size: 12px;\n    line-height: 1.5;\n    text-align: center;\n  }\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { LOGIN_PATH } from 'constants/navigation';\nimport withNavigation from 'components/hocs/withNavigation';\nimport * as courseActions from 'store/course/actions';\nimport {\n  getBackground,\n  getLogo,\n  isLoginViaSocialMediaEnabled,\n  getAlternativeLogo\n} from 'store/settings/selectors';\nimport { getCourseTitle, getCourseIntroductions } from 'store/course/selectors';\nimport { localize } from 'core/localization';\nimport * as userActions from 'store/user/actions';\nimport { isAuthenticated } from 'store/user/selectors';\nimport SignUpForm from 'components/login/SignUpForm';\nimport SocialLogin from 'components/login/SocialLogin';\nimport SwitcherForm from 'components/login/SwitcherForm';\nimport MobileFooter from 'components/login/MobileFooter';\nimport { UNKNOWN_ERROR, STATUS_OK } from 'constants/progressStorage';\nimport { RootAppState } from 'store/types';\nimport {\n  AuthPageContent,\n  AuthPageSidebar,\n  CourseLogo,\n  CourseLogoSidebar,\n  CourseLogoSidebarWrapper,\n  FormLabel,\n  SwitcherFormContainer\n} from '../auth/auth.styled';\nimport {\n  SignupSection,\n  TextForm,\n  SocialLoginContainer,\n  FootNoteText,\n  SignupContainer\n} from './SignUpPage.styled';\n\ntype SignUpPageProps = {\n  navigateToUrl(url: string): void;\n  actions: { [key: string]: any };\n  courseActions: { [key: string]: any };\n  isUserAuthenticated: boolean;\n  theme: { [key: string]: any };\n  background: { [key: string]: any };\n  logoUrl: string;\n  alternativeLogoUrl: string;\n  loginViaSocialMediaEnabled: boolean;\n  title: string;\n  courseAccessLimited: boolean;\n};\n\ntype SignUpPageState = {\n  isUnknownError: boolean;\n};\nexport class SignUpPage extends React.Component<SignUpPageProps, SignUpPageState> {\n  constructor(props: SignUpPageProps) {\n    super(props);\n    const { isUserAuthenticated } = props;\n\n    this.state = {\n      isUnknownError: false\n    };\n\n    if (isUserAuthenticated) {\n      this.launchCourse();\n    }\n  }\n\n  componentDidMount() {\n    document.title = `${localize('[title for signup page]')} | ${this.props.title}`;\n  }\n\n  onSubmit = async (event: any, signUpData: any): Promise<void> => {\n    event.preventDefault();\n\n    const status = await this.props.actions.registerUser(signUpData);\n\n    if (status === STATUS_OK && !this.props.courseAccessLimited) {\n      await this.launchCourse();\n      return;\n    }\n\n    this.setState({\n      isUnknownError: status === UNKNOWN_ERROR\n    });\n  };\n\n  async launchCourse() {\n    const urlToNavigate = await this.props.courseActions.launch();\n    this.props.navigateToUrl(urlToNavigate);\n  }\n\n  render() {\n    const { background, logoUrl, loginViaSocialMediaEnabled, alternativeLogoUrl } = this.props;\n    const signUpFormId = 'signUp';\n\n    return (\n      <React.Fragment>\n        <AuthPageSidebar background={background}>\n          <CourseLogoSidebarWrapper>\n            <CourseLogoSidebar\n              altText={localize('[alt logo login]')}\n              logoUrl={alternativeLogoUrl}\n            />\n          </CourseLogoSidebarWrapper>\n          <FootNoteText appearance=\"p\">{localize('[footnote]')}</FootNoteText>\n        </AuthPageSidebar>\n        <AuthPageContent background={background}>\n          <SignupSection>\n            <SignupContainer>\n              <SwitcherFormContainer>\n                <SwitcherForm signUp />\n              </SwitcherFormContainer>\n              <CourseLogo altText={localize('[alt logo login]')} logoUrl={logoUrl} />\n              <FormLabel htmlFor={signUpFormId}>{localize('[create account]')}</FormLabel>\n              <TextForm appearance=\"p\">{localize('[sign up form text]')}</TextForm>\n              <SignUpForm formId={signUpFormId} onSubmit={this.onSubmit} />\n              {loginViaSocialMediaEnabled && (\n                <SocialLoginContainer>\n                  <SocialLogin title={localize('[sign up with]')} />\n                </SocialLoginContainer>\n              )}\n            </SignupContainer>\n            <MobileFooter\n              noteTextKey=\"[footnote]\"\n              navigationTextKey=\"[have account]\"\n              navigateTo={LOGIN_PATH}\n              navigationToTextKey=\"[login]\"\n            />\n          </SignupSection>\n        </AuthPageContent>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    title: getCourseTitle(state),\n    introductions: getCourseIntroductions(state),\n    background: getBackground(state),\n    logoUrl: getLogo(state),\n    alternativeLogoUrl: getAlternativeLogo(state),\n    isUserAuthenticated: isAuthenticated(state),\n    loginViaSocialMediaEnabled: isLoginViaSocialMediaEnabled(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(userActions, dispatch),\n    courseActions: bindActionCreators(courseActions, dispatch)\n  };\n}\n\nexport default withNavigation(connect(mapStateToProps, mapDispatchToProps)(SignUpPage));\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { Text, Button } from 'components/common';\nimport media from 'components/mixins/media';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { secondaryFont } from 'components/mixins/typography';\nimport {\n  ButtonElement,\n  TextElement,\n  CheckIcon,\n  ButtonWrapper\n} from 'components/common/SwitchButton/SwitchButton.styled';\n\ntype CheckboxContainerProps = {\n  children?: any;\n}\nexport const CheckboxContainer = styled.div<CheckboxContainerProps>`\n  user-select: none;\n  padding: 0;\n  cursor: pointer;\n\n  ${ButtonWrapper} {\n    padding: 0;\n    align-items: center;\n\n    ${ButtonElement} {\n      align-self: center;\n      background-color: transparent;\n      border: 1px solid ${props => transparentize(props.theme.colors.textColor, 0.2)};\n      ${props =>\n    props.children &&\n    props.children.props.selected &&\n    css`\n          background-color: ${props.theme.colors.correctColor};\n          border-color: ${props.theme.colors.correctColor};\n        `};\n    }\n\n    ${TextElement} {\n      ${secondaryFont};\n      font-size: 12px;\n      font-weight: normal;\n      line-height: normal;\n      opacity: 0.5;\n    }\n\n    &[role='checkbox'] {\n      padding: 3px 17px 3px 35px;\n    }\n    .show-on-hover {\n      left: 14px;\n      margin-top: -7px;\n      width: 13px;\n      height: 13px;\n    }\n\n    &:hover,\n    &:focus {\n      ${TextElement} {\n        opacity: 0.8;\n      }\n\n      ${ButtonElement} {\n        border-color: ${props => props.theme.colors.correctColor};\n\n        ${props =>\n    !props.children.props.selected &&\n    css`\n            ${CheckIcon} {\n              display: none;\n            }\n          `};\n      }\n    }\n  }\n`;\n\nexport const ButtonSubmit = styled(Button)`\n  ${buttonDefaultStyle};\n  background-color: ${props => props.theme.colors.mainColor};\n  color: ${props => props.theme.colors.buttonTextColor};\n  font-weight: 600;\n  min-width: 198px;\n  max-width: 320px;\n  text-overflow: ellipsis;\n  ${media.mobile`\n    min-width: 160px;\n    max-width: 260px;\n  `};\n  & span {\n    font-size: 14px;\n  }\n  & .icon {\n    font-size: 8px;\n  }\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.mainColor, 0.9)};\n  }\n  &:active {\n    background-color: ${props => transparentize(props.theme.colors.mainColor)};\n  }\n`;\n\nexport const ControlContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  height: 73px;\n  margin-top: 14px;\n  padding: 0 16px;\n  line-height: normal;\n`;\n\nexport const MessageText = styled(Text).attrs(props => {\n  return {}\n})`\n  ${secondaryFont};\n  && {\n    font-size: 10px;\n    font-weight: normal;\n    line-height: 1.5;\n    color: ${props => props.theme.colors.textColor};\n  }\n`;\n\nexport const MessageTextWrapper = styled.span`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport const LinkWrapper = styled.div``;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { localize } from 'core/localization';\nimport { withTheme } from 'styled-components';\nimport { getEmail, getName, shouldSaveCrossDevice } from 'store/user/selectors';\nimport progressStorage from 'core/progressStorage';\nimport { STATUS_OK } from 'constants/progressStorage';\nimport { Link, SwitchButton, StatusTooltip } from 'components/common';\nimport { BUTTON, LINK, SIZES, TOOLTIP } from 'constants/components';\nimport AuthForm from '../AuthForm';\nimport EmailInput from '../AuthForm/EmailInput';\nimport NameInput from '../AuthForm/NameInput';\nimport PasswordInput from '../AuthForm/PasswordInput';\nimport { InputContainer } from '../SignUpForm/SignUpForm.styled';\nimport { FormContentWrapper } from '../AuthForm/AuthForm.styled';\nimport {\n  ButtonSubmit,\n  ControlContainer,\n  MessageText,\n  CheckboxContainer,\n  LinkWrapper,\n  MessageTextWrapper\n} from './LoginForm.styled';\nimport { RootAppState } from 'store/types';\n\ntype LoginFormProps = {\n  onSubmit(e: any, data: any): Promise<void>;\n  formId: string;\n  userEmail: string;\n  userName: string;\n  saveCrossDevice: boolean;\n  isEmailPasswordCombinationNotExists: boolean;\n  resetStatuses(): void;\n  theme?: any;\n};\n\ntype LoginFormState = {\n  shortTermAccess: boolean;\n  resetPasswordSendMessage: boolean;\n}\n\nexport class LoginForm extends React.Component<LoginFormProps, LoginFormState> {\n  templateTheme: any;\n  constructor(props: LoginFormProps) {\n    super(props);\n    this.templateTheme = props.theme;\n    this.state = {\n      shortTermAccess: true,\n      resetPasswordSendMessage: false\n    };\n  }\n\n  static defaultProps = {\n    isEmailPasswordCombinationNotExists: false\n  };\n\n  hideMessage = () => {\n    this.setState({ resetPasswordSendMessage: false });\n  };\n\n  onPasswordRestore = async (refEmail: any, setValidationStatusElem: any) => {\n    const emailValid = refEmail ? refEmail.validity.valid : false;\n    setValidationStatusElem(refEmail);\n\n    if (!emailValid) {\n      return;\n    }\n\n    let status = await progressStorage.resetPassword(refEmail.value.toLowerCase());\n    this.setState({ resetPasswordSendMessage: status === STATUS_OK });\n  };\n\n  renderContent = (props: any) => {\n    const { saveCrossDevice, resetStatuses, userEmail, userName } = this.props;\n    const {\n      refEmail,\n      isEmailPasswordCombinationNotExists,\n      onChange,\n      setRefs,\n      validationStatusBeforeSubmit,\n      setValidationStatusElem,\n      resetPasswordSendMessage,\n      shortTermAccess\n    } = props;\n\n    return (\n      <FormContentWrapper>\n        <InputContainer size={40}>\n          <EmailInput\n            userEmail={userEmail}\n            onChange={onChange}\n            setRefs={setRefs}\n            textError={localize('[error email input]')}\n            validationStatusBeforeSubmit={validationStatusBeforeSubmit.email}\n            onFocus={resetStatuses}\n          />\n        </InputContainer>\n        {!saveCrossDevice && (\n          <InputContainer size={40}>\n            <NameInput\n              userName={userName}\n              onChange={onChange}\n              setRefs={setRefs}\n              validationStatusBeforeSubmit={validationStatusBeforeSubmit.name}\n              onFocus={resetStatuses}\n            />\n          </InputContainer>\n        )}\n        {saveCrossDevice && (\n          <InputContainer size={12}>\n            <PasswordInput\n              onChange={onChange}\n              setRefs={setRefs}\n              validationStatusBeforeSubmit={validationStatusBeforeSubmit.password}\n              pattern=\"\\S+\"\n              showValidationMessage={false}\n              onFocus={resetStatuses}\n            />\n            <ControlContainer>\n              {this.renderWithTooltip(\n                TOOLTIP.CORRECT,\n                resetPasswordSendMessage,\n                localize('[reset password link sent success]'),\n                <LinkWrapper>\n                  <Link\n                    text={localize('[forgot pass]')}\n                    layout={LINK.LAYOUT.FORM}\n                    size={12}\n                    onClick={() => this.onPasswordRestore(refEmail, setValidationStatusElem)}\n                    onBlur={this.hideMessage}\n                    data-test=\"forgot-password-link\"\n                  />\n                </LinkWrapper>\n              )}\n              <CheckboxContainer>\n                <SwitchButton\n                  multiple={true}\n                  text={localize('[remember me]')}\n                  selected={!shortTermAccess}\n                  aria-checked={!shortTermAccess}\n                  size={SIZES.SMALL}\n                  tabIndex={0}\n                  onClick={() => this.setState({ shortTermAccess: !shortTermAccess })}\n                  onKeyDown={(event: any) => {\n                    if (event.key === ` ` || event.key === 'Enter') {\n                      this.setState({ shortTermAccess: !shortTermAccess });\n                    }\n                  }}\n                />\n              </CheckboxContainer>\n            </ControlContainer>\n          </InputContainer>\n        )}\n        {this.renderWithTooltip(\n          TOOLTIP.INCORRECT,\n          isEmailPasswordCombinationNotExists,\n          <MessageTextWrapper>\n            <MessageText theme={this.templateTheme} appearance=\"span\">{localize('[error login email]')}</MessageText>\n            <MessageText theme={this.templateTheme} appearance=\"span\">{localize('[error login pass]')}</MessageText>\n          </MessageTextWrapper>,\n          <ButtonSubmit layout={BUTTON.LAYOUT.PRIMARY} suffixIcon=\"arrow-right\" type=\"submit\">\n            {localize('[login button]')}\n          </ButtonSubmit>\n        )}\n      </FormContentWrapper>\n    );\n  };\n\n  render() {\n    const { resetPasswordSendMessage, shortTermAccess } = this.state;\n    const { onSubmit, formId, isEmailPasswordCombinationNotExists } = this.props;\n\n    return (\n      <AuthForm\n        shortTermAccess={shortTermAccess}\n        resetPasswordSendMessage={resetPasswordSendMessage}\n        formId={formId}\n        onSubmit={onSubmit}\n        isEmailPasswordCombinationNotExists={isEmailPasswordCombinationNotExists}\n        hideMessage={this.hideMessage}\n        renderContent={this.renderContent}\n      />\n    );\n  }\n\n  renderWithTooltip = (status: any, showTooltip: any, message: any, actionElement: any) => {\n    return (\n      <StatusTooltip\n        popoverPosition={'top'}\n        layout={status}\n        showTooltip={showTooltip}\n        message={message}\n        popoverButton={actionElement}\n        transitionDuration={0.2}\n        eventHandler={'click'}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    userEmail: getEmail(state),\n    userName: getName(state),\n    saveCrossDevice: shouldSaveCrossDevice(state)\n  };\n}\n\nexport default withTheme(connect(mapStateToProps)(LoginForm));\n","import styled from 'styled-components';\nimport {\n  AuthContainer,\n  AuthTextForm,\n  AuthSocialLoginContainer,\n  AuthSection\n} from '../auth/auth.styled';\n\nexport const LoginSection = styled(AuthSection)`\n  justify-content: center;\n  padding: 40px 0;\n`;\n\nexport const LoginContainer = styled(AuthContainer)`\n  justify-content: center;\n`;\n\nexport const TextForm = styled(AuthTextForm)`\n  width: 300px;\n`;\n\nexport const SocialLoginContainer = styled(AuthSocialLoginContainer)`\n  margin-bottom: 40px;\n`;\n\nexport const SkipLinkContainer = styled.div`\n  margin-top: 25px;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { SIGNUP_PATH } from 'constants/navigation';\nimport withNavigation from 'components/hocs/withNavigation';\nimport {\n  getBackground,\n  getLogo,\n  getAlternativeLogo,\n  isLoginViaSocialMediaEnabled,\n  isAccessLimited,\n  isAllowToSkipTrackingAndTracingEnabled,\n  getAllowedUsers\n} from 'store/settings/selectors';\nimport {\n  getCourseTitle,\n  getCourseIntroductions\n} from 'store/course/selectors';\nimport { localize } from 'core/localization';\nimport * as userActions from 'store/user/actions';\nimport * as courseActions from 'store/course/actions';\nimport { isAuthenticated, shouldSaveCrossDevice } from 'store/user/selectors';\nimport LoginForm from 'components/login/LoginForm';\nimport SocialLogin from 'components/login/SocialLogin';\nimport SwitcherForm from 'components/login/SwitcherForm';\nimport MobileFooter from 'components/login/MobileFooter';\nimport { LINK } from 'constants/components';\nimport LinkText from 'components/common/Link';\nimport {\n  EMAIL_PASSWORD_COMBINATION_NOT_EXISTS,\n  UNKNOWN_ERROR,\n  STATUS_OK\n} from 'constants/progressStorage';\nimport {\n  AuthPageContent,\n  AuthPageSidebar,\n  CourseLogo,\n  CourseLogoSidebar,\n  CourseLogoSidebarWrapper,\n  FormLabel,\n  SwitcherFormContainer\n} from '../auth/auth.styled';\nimport {\n  LoginSection,\n  TextForm,\n  SocialLoginContainer,\n  SkipLinkContainer,\n  LoginContainer\n} from './LoginPage.styled';\nimport { RootAppState } from 'store/types';\n\ntype LoginPageProps = {\n  navigateToUrl(url: string): void,\n  userActions: { [key: string]: any };\n  courseActions: { [key: string]: any };\n  isUserAuthenticated: boolean;\n  theme: { [key: string]: any };\n  background: { [key: string]: any };\n  logoUrl: string;\n  alternativeLogoUrl: string;\n  saveCrossDevice: boolean;\n  loginViaSocialMediaEnabled: boolean;\n  title: string;\n  accessLimitationEnable: boolean;\n  allowToSkipTrackingAndTracingEnabled: boolean;\n  allowedUsers: any[];\n}\ntype LoginPageState = {\n  isEmailPasswordCombinationNotExists: boolean,\n  isUnknownError: boolean\n}\n\nexport class LoginPage extends React.Component<LoginPageProps, LoginPageState> {\n  constructor(props: LoginPageProps) {\n    super(props);\n    const { isUserAuthenticated } = props;\n\n    this.state = {\n      isEmailPasswordCombinationNotExists: false,\n      isUnknownError: false\n    };\n\n    if (isUserAuthenticated) {\n      this.launchCourse();\n    }\n  }\n\n  resetStatuses = () => {\n    this.setState({\n      isEmailPasswordCombinationNotExists: false,\n      isUnknownError: false\n    });\n  };\n\n  onSubmit = async ( event: any, signInData: any) => {\n    event.preventDefault();\n\n    const status = await this.props.userActions.authorizeUser(signInData);\n\n    if (status === STATUS_OK) {\n      await this.launchCourse();\n      return;\n    }\n\n    this.setState({\n      isEmailPasswordCombinationNotExists: status === EMAIL_PASSWORD_COMBINATION_NOT_EXISTS,\n      isUnknownError: status === UNKNOWN_ERROR\n    });\n  };\n\n  async launchCourse() {\n    const urlToNavigate = await this.props.courseActions.launch();\n    this.props.navigateToUrl(urlToNavigate);\n  }\n\n  onAuthorizationSkip = async () => {\n    await this.props.userActions.skipAuthentication();\n    await this.launchCourse();\n  };\n\n  componentDidMount() {\n    document.title = `${localize('[title for login page]')} | ${this.props.title}`;\n  }\n\n  render() {\n    const {\n      background,\n      logoUrl,\n      alternativeLogoUrl,\n      saveCrossDevice,\n      loginViaSocialMediaEnabled,\n      allowToSkipTrackingAndTracingEnabled,\n      accessLimitationEnable\n    } = this.props;\n    const signInFormId = 'formLogin';\n    return (\n      <React.Fragment>\n        <AuthPageSidebar background={background}>\n          <CourseLogoSidebarWrapper>\n            <CourseLogoSidebar\n              altText={localize('[alt logo login]')}\n              logoUrl={alternativeLogoUrl}\n            />\n          </CourseLogoSidebarWrapper>\n        </AuthPageSidebar>\n        <AuthPageContent background={background}>\n          <LoginSection>\n            <LoginContainer>\n              {saveCrossDevice && (\n                <SwitcherFormContainer>\n                  <SwitcherForm logIn />\n                </SwitcherFormContainer>\n              )}\n              <CourseLogo altText={localize('[alt logo login]')} logoUrl={logoUrl} />\n              <FormLabel htmlFor={signInFormId}>\n                {saveCrossDevice ? localize('[welcome]') : localize('[welcome without LS]')}\n              </FormLabel>\n              <TextForm appearance=\"p\">\n                {saveCrossDevice\n                  ? localize('[login form text]')\n                  : localize('[login form text without LS]')}\n              </TextForm>\n              <LoginForm\n                formId={signInFormId}\n                onSubmit={this.onSubmit}\n                isEmailPasswordCombinationNotExists={this.state.isEmailPasswordCombinationNotExists}\n                resetStatuses={this.resetStatuses}\n              />\n              {saveCrossDevice && loginViaSocialMediaEnabled && (\n                <SocialLoginContainer>\n                  <SocialLogin title={localize('[login with]')} />\n                </SocialLoginContainer>\n              )}\n              {!accessLimitationEnable && allowToSkipTrackingAndTracingEnabled && (\n                <SkipLinkContainer>\n                  <LinkText\n                    text={localize('[skip step]')}\n                    layout={LINK.LAYOUT.FORM}\n                    onClick={this.onAuthorizationSkip}\n                  />\n                </SkipLinkContainer>\n              )}\n            </LoginContainer>\n            <MobileFooter\n              navigationTextKey=\"[dont have account]\"\n              navigateTo={SIGNUP_PATH}\n              navigationToTextKey=\"[signup here]\"\n            />\n          </LoginSection>\n        </AuthPageContent>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    title: getCourseTitle(state),\n    introductions: getCourseIntroductions(state),\n    background: getBackground(state),\n    logoUrl: getLogo(state),\n    alternativeLogoUrl: getAlternativeLogo(state),\n    isUserAuthenticated: isAuthenticated(state),\n    saveCrossDevice: shouldSaveCrossDevice(state),\n    loginViaSocialMediaEnabled: isLoginViaSocialMediaEnabled(state),\n    accessLimitationEnable: isAccessLimited(state),\n    allowToSkipTrackingAndTracingEnabled: isAllowToSkipTrackingAndTracingEnabled(state),\n    allowedUsers: getAllowedUsers(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    userActions: bindActionCreators(userActions, dispatch),\n    courseActions: bindActionCreators(courseActions, dispatch)\n  };\n}\n\nexport default withNavigation(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(LoginPage)\n);\n","import { RootAppState } from '../types';\n\nexport const isAppLoaded = (state:RootAppState) => state.app.isLoaded;\nexport const isAppLoadingFailed = (state: RootAppState) => state.app.isLoadingFailed;\nexport const isAppLoading = (state: RootAppState) => state.app.isLoading;\nexport const isLowResolution = (state: RootAppState) => state.app.isLowResolution;\n","import { isLowerResolution } from 'utils/window';\nimport { MEDIA_TABLET } from 'constants/screenResolutions';\nimport { getTreeOfContentVisibility } from 'store/treeOfContent/selectors';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from '../types';\n\nexport const toggleTreeOfContentVisibility = (): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.TOC_TOGGLE_VISIBILITY });\n};\n\nexport const adaptToResolution = (): ThunkResult => (dispatch, getState) => {\n  const isTocExpanded = getTreeOfContentVisibility(getState());\n  const isLowResolution = isLowerResolution(MEDIA_TABLET);\n  if ((isLowResolution && isTocExpanded) || (!isLowResolution && !isTocExpanded)) {\n    dispatch({ type: ActionTypes.TOC_TOGGLE_VISIBILITY });\n  }\n};\n","import styled, { css } from 'styled-components';\nimport { Text, Icon } from 'components/common';\nimport { transparentize } from 'utils/color';\nimport { transition, pointerOnHover } from 'components/mixins/interactivity';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { defaultBoxShadowColor } from 'constants/common';\nimport { mainFontText } from 'components/mixins/typography';\n\ntype TitleProps = {\n  isActive: boolean;\n};\nexport const Title = styled(Text)<TitleProps>`\n  ${mainFontText}\n  && {\n    font-size: 18px;\n  }\n  text-decoration: none;\n  font-style: normal;\n  && {\n    ${props =>\n      !props.isActive &&\n      css`\n        color: ${transparentize(props.theme.colors.textColor, 0.5)};\n        ${transition('color')};\n        ${pointerOnHover};\n        &:hover,\n        &:focus {\n          color: ${props.theme.colors.textColor};\n        }\n      `};\n  }\n`;\n\ntype ContainerProps = {\n  tabIndex: number;\n  ariaLabel: string;\n  isActive: boolean;\n};\nexport const Container = styled.button.attrs((props: ContainerProps) => ({\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel\n}))<ContainerProps>`\n  ${buttonDefaultStyle};\n  position: relative;\n  height: 57px;\n  background: ${props => props.theme.colors.contentBodyColor};\n  box-shadow: inset -2px 0 6px 0 ${transparentize(defaultBoxShadowColor, 0.04)};\n  width: 100%;\n  padding: 0 40px;\n  text-align: left;\n\n  &:focus {\n    outline: none;\n  }\n  &:focus ${Title} {\n    color: ${props => props.theme.colors.textColor};\n  }\n\n  &::after {\n    left: 0;\n    top: 0;\n    content: '';\n    display: block;\n    position: absolute;\n    width: 100%;\n    box-shadow: 0 0 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n  }\n\n  ${props =>\n    props.isActive &&\n    css`\n      &::before {\n        content: '';\n        position: absolute;\n        width: 2px;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background-color: ${props.theme.colors.mainColor};\n      }\n    `};\n`;\n\ntype ResultsIconProps = {\n  tabIndex: number;\n  ariaLabel: string;\n  isCollapsed?: boolean;\n};\nexport const ResultsIcon = styled(Icon).attrs((props: ResultsIconProps) => ({\n  tabIndex: props.tabIndex,\n  role: 'button',\n  'aria-label': props.ariaLabel\n}))<ResultsIconProps>`\n  position: absolute;\n  left: 17px;\n  bottom: 35px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.4)};\n  ${pointerOnHover};\n  ${props =>\n    props.isCollapsed &&\n    css`\n      font-size: 25px;\n    `};\n\n  &:hover,\n  &:focus {\n    color: ${props => props.theme.colors.textColor};\n  }\n  &:focus {\n    outline: none;\n  }\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\n\nimport { Container, Title, ResultsIcon } from './ResultsBlock.styled';\n\ntype ResultsBlockProps = {\n  isActive: boolean;\n  collapsed: boolean;\n  navigateToResults(): void;\n  ariaLabel: string;\n  tabIndex: number;\n};\n\nexport class ResultsBlock extends React.PureComponent<ResultsBlockProps, {}> {\n  static defaultProps = {\n    isActive: false,\n    collapsed: false\n  };\n\n  render() {\n    const { navigateToResults, isActive, collapsed, ariaLabel, tabIndex } = this.props;\n    return collapsed ? (\n      !isActive && (\n        <ResultsIcon\n          ariaLabel={ariaLabel}\n          tabIndex={tabIndex}\n          {...(!isActive && {\n            onClick: navigateToResults,\n            onKeyDown: (event: any) => {\n              if (event.key === 'Enter') {\n                navigateToResults();\n              }\n            }\n          })}\n          name=\"medal\"\n          size={27}\n        />\n      )\n    ) : (\n      <Container\n        ariaLabel={ariaLabel}\n        isActive={isActive}\n        tabIndex={tabIndex}\n        onClick={navigateToResults}\n      >\n        <Title isActive={isActive} appearance=\"h4\" ellipsis>\n          {localize('[results]')}\n        </Title>\n      </Container>\n    );\n  }\n}\n\nexport default ResultsBlock;\n","import styled, { css } from 'styled-components';\nimport { Text, Icon } from 'components/common';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { transparentize } from 'utils/color';\nimport { transition, pointerOnHover } from 'components/mixins/interactivity';\nimport { TOC } from 'constants/components';\nimport { mainFontText } from 'components/mixins/typography';\n\nconst colored = css`\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  ${transition('color')};\n`;\n\ntype CourseBackIconProps = {\n  isCollapsed?: boolean;\n};\nexport const CourseBackIcon = styled(Icon)<CourseBackIconProps>`\n  font-size: 40px;\n  ${colored};\n  ${pointerOnHover};\n  ${props =>\n    props.isCollapsed &&\n    css`\n      font-size: 25px;\n    `};\n\n  &:hover {\n    color: ${props => props.theme.colors.textColor};\n  }\n`;\n\nexport const CourseTitleText = styled(Text)`\n  ${mainFontText}\n  && {\n    font-size: 18px;\n    ${colored};\n  }\n  font-style: normal;\n  line-height: 1.4;\n  text-decoration: none;\n  align-self: center;\n  margin-left: 16px;\n  word-break: break-word;\n`;\n\ntype CourseBackButtonProps = {\n  ariaLabel: string;\n  tabIndex: number;\n  isCollapsed: boolean;\n};\n\nexport const CourseBackButton = styled.button.attrs((props: CourseBackButtonProps) => ({\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel\n}))<CourseBackButtonProps>`\n  ${buttonDefaultStyle};\n  height: auto;\n  ${props =>\n    !props.isCollapsed &&\n    css`\n      display: flex;\n      flex: 0 0 auto;\n      margin: 0 40px;\n      padding: 40px 0 0 0;\n    `};\n  ${props =>\n    props.isCollapsed &&\n    css`\n      height: auto;\n      margin: 0;\n      padding: 0;\n    `};\n  width: auto;\n  overflow: visible;\n  text-align: left;\n  ${pointerOnHover};\n\n  @media (max-width: ${TOC.EXPANDED_WIDTH + TOC.TAIL_WIDTH}px) {\n    margin: 0 10px;\n    & ${CourseBackIcon} {\n      display: none;\n    }\n\n    & ${CourseTitleText} {\n      margin-left: 0;\n    }\n  }\n  &:hover,\n  &:focus {\n    ${CourseTitleText}, ${CourseBackIcon} {\n      color: ${props => props.theme.colors.textColor};\n    }\n  }\n`;\n","import React, { Component } from 'react';\nimport { localize } from 'core/localization';\n\nimport { CourseTitleText, CourseBackIcon, CourseBackButton } from './Header.styled';\n\ntype HeaderProps = {\n  courseTitle?: string;\n  collapsed?: boolean\n  navigateToIndex(): void;\n  tabIndex: number;\n};\n\nexport class Header extends Component<HeaderProps, {}> {\n  render() {\n    const { navigateToIndex, courseTitle, collapsed = false, tabIndex } = this.props;\n    return collapsed ? (\n      <CourseBackButton\n        onClick={navigateToIndex}\n        tabIndex={tabIndex}\n        ariaLabel={`${localize('[back home button]')}`}\n        isCollapsed={collapsed}\n      >\n        <CourseBackIcon name=\"back-btn\" isCollapsed />\n      </CourseBackButton>\n    ) : (\n      <CourseBackButton\n        onClick={navigateToIndex}\n        tabIndex={tabIndex}\n        ariaLabel={`${localize('[back home button]')}`}\n        isCollapsed={collapsed}\n      >\n        <CourseBackIcon name=\"back-btn\" />\n        <CourseTitleText appearance=\"h4\" maxLength={35}>\n          {courseTitle}\n        </CourseTitleText>\n      </CourseBackButton>\n    );\n  }\n}\n\nexport default Header;\n","import styled, { css } from 'styled-components';\nimport Icon from 'components/common/Icon';\nimport { transparentize } from 'utils/color';\nimport { secondaryFont } from 'components/mixins/typography';\nimport Text from 'components/common/Text';\nimport { centerAbsoluteElement } from 'components/mixins/placement';\n\ntype PopoverContentWrapperProps = {\n  ariaModal: boolean;\n}\nexport const PopoverContentWrapper = styled.div<PopoverContentWrapperProps>`\n  ${secondaryFont};\n  line-height: 2;\n  padding: 4px 6px 6px;\n  text-align: center;\n  outline: none;\n  color: ${props => {\n    return props.theme.colors.textColor\n  }};\n  font-size: 14px;\n  background: ${props => props.theme.colors.contentBodyColor};\n  max-height: 70vh;\n  overflow: hidden;\n`;\n\nexport const PopoverContent = styled.div`\n  width: 240px;\n  min-height: 310px;\n  padding: 35px 20px 19px;\n`;\n\nexport const ClosePopoverIcon = styled(Icon)`\n  cursor: pointer;\n  position: absolute;\n  top: 20px;\n  right: 24px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.2)};\n  transition: 0.2s;\n\n  &:hover {\n    color: ${props => props.theme.colors.textColor};\n  }\n`;\n\ntype QuestionsProgressProps = {\n  isPassed: boolean;\n}\nexport const QuestionsProgress = styled.div<QuestionsProgressProps>`\n  width: 94px;\n  height: 94px;\n  margin: 0 auto 30px;\n  position: relative;\n\n  &:before {\n    content: '';\n    display: block;\n    width: 1px;\n    height: 4px;\n    background: ${props => props.theme.colors.textColor};\n    position: absolute;\n    top: -1px;\n    left: 50%;\n  }\n\n  ${props =>\n    props.isPassed &&\n    css`\n      .CircularProgressbar-path {\n        stroke: ${props.theme.colors.correctColor} !important;\n      }\n    `};\n`;\n\nexport const CongratsMessageWrapper = styled.div``;\n\nexport const CongratsMessageTitle = styled(Text)`\n  margin-bottom: 6px;\n`;\n\nexport const NotPassedMessageWrapper = styled.div``;\n\nexport const PopoverButton = styled.button.attrs({\n  'data-test': 'popover-button'\n})`\n  cursor: pointer;\n  outline: none;\n  background: none;\n  border: none;\n  width: 100%;\n  padding: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n`;\n\nexport const QuestionProgressText = styled.div`\n  position: absolute;\n  ${centerAbsoluteElement};\n  font-size: 24px;\n`;\n","import * as  React from 'react';\nimport { connect } from 'react-redux';\nimport { withTheme } from 'styled-components';\nimport { Tooltip } from 'components/common';\nimport { localize } from 'core/localization';\nimport { transparentize } from 'utils/color';\nimport CircularProgressbar from 'react-circular-progressbar';\nimport { getColors } from 'store/settings/selectors';\nimport {\n  getAffectProgressQuestionsCountInSection,\n  getCorrectlyAffectProgressQuestionsCountInSection,\n  getAffectCorrectlyAnsweredQuestionsCount\n} from 'store/sections/selectors';\n\nimport {\n  PopoverContentWrapper,\n  PopoverContent,\n  ClosePopoverIcon,\n  QuestionsProgress,\n  CongratsMessageWrapper,\n  CongratsMessageTitle,\n  NotPassedMessageWrapper,\n  PopoverButton,\n  QuestionProgressText\n} from './ProgressPopover.styled';\nimport { RootAppState } from 'store/types';\n\ntype ProgressPopoverProps = {\n  score: number;\n  isPassed: boolean;\n  affectProgressQuestionsCountInSection?: number;\n  colors?: { [key: string]: any };\n  popoverPosition: any;\n  children?: any;\n  correctlyAffectProgressQuestionsCountInSection?: number;\n  affectCorrectlyAnsweredQuestionsCount?: number;\n  sectionId: string;\n  questions?: any; \n  theme?: any;\n};\n\ntype ProgressPopoverState = {\n  isExpanded: boolean;\n}\nexport class ProgressPopover extends React.Component<ProgressPopoverProps, ProgressPopoverState> {\n  constructor(props: ProgressPopoverProps) {\n    super(props);\n    this.state = {\n      isExpanded: false\n    };\n  }\n\n  toggle = () => {\n    this.setState({\n      isExpanded: !this.state.isExpanded\n    });\n  };\n\n  closePopup = () => {\n    this.setState({\n      isExpanded: false\n    });\n  };\n\n  handleKeyDown = (evt: any) => {\n    if (evt.key === 'Escape' || evt.keyCode === 27) {\n      this.closePopup();\n    }\n  };\n\n  componentDidUpdate() {\n    setTimeout(() => {\n      const element = document.getElementById('progress-popover');\n      if (element) {\n        element.focus();\n      }\n    }, 0);\n  }\n\n  shouldComponentUpdate(nextProps: ProgressPopoverProps, nextState: ProgressPopoverState) {\n    if (this.state.isExpanded !== nextState.isExpanded) {\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const { isExpanded } = this.state;\n    const { popoverPosition } = this.props;\n\n    return (\n      <Tooltip\n        style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}\n        trigger={'click'}\n        open={isExpanded}\n        onRequestClose={this.closePopup}\n        position={popoverPosition}\n        tooltipTheme={'light'}\n        arrow={true}\n        interactive\n        html={this.renderPopoverContent()}\n      >\n        <PopoverButton tabIndex={1} onKeyDown={this.toggle} onClick={this.toggle} />\n      </Tooltip>\n    );\n  }\n\n  renderPopoverContent = () => {\n    const {\n      isPassed,\n      correctlyAffectProgressQuestionsCountInSection,\n      affectProgressQuestionsCountInSection,\n      score,\n      colors,\n      affectCorrectlyAnsweredQuestionsCount\n    } = this.props;\n\n    const templateTheme = this.props.theme;\n    \n    return (\n      <PopoverContentWrapper\n        id=\"progress-popover\"\n        role=\"dialog\"\n        ariaModal={true}\n        tabIndex={-1}\n        onKeyDown={event => this.handleKeyDown(event)}\n        theme={templateTheme}\n      >\n        <PopoverContent>\n          <ClosePopoverIcon\n            role=\"button\"\n            ariaLabel={localize('[close popover]')}\n            tabIndex={1}\n            onKeyDown={this.toggle}\n            onClick={this.toggle}\n            size={14}\n            name=\"close-popup\"\n            theme={templateTheme}\n          />\n          <QuestionsProgress isPassed={isPassed} theme={templateTheme}>\n            <QuestionProgressText>\n              {correctlyAffectProgressQuestionsCountInSection}/\n              {affectProgressQuestionsCountInSection}\n            </QuestionProgressText>\n            <CircularProgressbar\n              strokeWidth={2}\n              percentage={score}\n              styles={{\n                path: {\n                  stroke: colors && colors.mainColor,\n                  strokeLinecap: 'butt',\n                  transition: 'stroke-dashoffset 0.5s ease 0s'\n                },\n                trail: {\n                  stroke: colors && transparentize(colors.textColor, 0.02)\n                }\n              }}\n            />\n          </QuestionsProgress>\n          {isPassed ? (\n            <CongratsMessageWrapper>\n              <CongratsMessageTitle theme={templateTheme} appearance='h4'>\n                {localize('[passed section title]')}\n              </CongratsMessageTitle>\n              {localize('[passed section]')}\n            </CongratsMessageWrapper>\n          ) : (\n              <NotPassedMessageWrapper>\n                {localize('[you need to answer X questions out of Y]', {\n                  correctQuestionsCount: affectCorrectlyAnsweredQuestionsCount,\n                  totalQuestionsCount: affectProgressQuestionsCountInSection\n                })}\n              </NotPassedMessageWrapper>\n            )}\n        </PopoverContent>\n      </PopoverContentWrapper>\n    );\n  };\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: ProgressPopoverProps) {\n  return {\n    colors: getColors(state),\n    affectProgressQuestionsCountInSection: getAffectProgressQuestionsCountInSection(\n      state,\n      ownProps.sectionId\n    ),\n    correctlyAffectProgressQuestionsCountInSection: getCorrectlyAffectProgressQuestionsCountInSection(\n      state,\n      ownProps.sectionId\n    ),\n    affectCorrectlyAnsweredQuestionsCount: getAffectCorrectlyAnsweredQuestionsCount(\n      state,\n      ownProps.sectionId\n    )\n  };\n}\n\nexport default withTheme(connect(mapStateToProps)(ProgressPopover));\n","import styled from 'styled-components';\nimport { pointerOnHover } from 'components/mixins/interactivity';\nimport { Icon, Text } from 'components/common';\nimport { TOC } from 'constants/components';\nimport { transparentize } from 'utils/color';\nimport { defaultBoxShadowColor } from 'constants/common';\nimport { mainFontText } from 'components/mixins/typography';\n\nexport const ProgressPopoverWrapper = styled.div`\n  position: relative;\n`;\n\ntype SectionItemProps = {\n  role: string;\n  ariaLabel?: string;\n}\nexport const SectionItem = styled.li.attrs((props: SectionItemProps) => ({\n  role: props.role,\n  'aria-label': props.ariaLabel\n})) <SectionItemProps>`\n  margin: 0 40px;\n  padding: 16px 0 20px 0;\n  box-shadow: 0 0 10px 0 ${transparentize(defaultBoxShadowColor, 0.05)};\n  background: ${props => props.theme.colors.contentBodyColor};\n  &:focus {\n    outline: none;\n  }\n  @media (max-width: ${TOC.EXPANDED_WIDTH + TOC.TAIL_WIDTH}px) {\n    margin: 0 10px;\n  }\n`;\n\nexport const TitleIcon = styled(Icon)`\n  position: absolute;\n  top: 9px;\n  right: 20px;\n  margin-left: 24px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.4)};\n`;\n\nexport const QuestionList = styled.ul.attrs((props: any) => ({\n  role: props.role\n}))`\n  padding-bottom: 20px;\n`;\n\ntype HeaderProps = {\n  ariaLabel: string;\n  role: string;\n  tabIndex: number;\n  ariaExpanded: any;\n}\nexport const Header = styled.div.attrs((props: HeaderProps) => ({\n  tabIndex: props.tabIndex,\n  role: props.role,\n  'aria-expanded': props.ariaExpanded,\n  'aria-label': props.ariaLabel\n})) <HeaderProps>`\n  position: relative;\n  padding: 0 20px;\n  margin-bottom: 16px;\n  ${pointerOnHover};\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const Footer = styled.div`\n  display: flex;\n  margin: 0 20px;\n  justify-content: flex-end;\n`;\n\nexport const StatusIcon = styled.div`\n  display: flex;\n  margin-right: 8px;\n`;\n\nexport const SectionText = styled(Text)`\n  word-break: break-word;\n  ${mainFontText}\n  color: ${props => props.theme.colors.textColor};\n  text-decoration: none;\n  font-style: normal;\n  && {\n    font-size: 18px;\n  }\n  line-height: 22px;\n  margin-right: 25px;\n`;\n\ntype StatusTextProps = {\n  ariaLabel: string;\n  tabIndex: number;\n  role: string;\n  isPassed: boolean;\n}\nexport const StatusText = styled(Text).attrs((props: StatusTextProps) => ({\n  tabIndex: props.tabIndex,\n  role: props.role,\n  'aria-label': props.ariaLabel\n})) <StatusTextProps>`\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 24px;\n  color: ${props =>\n    props.isPassed\n      ? props.theme.colors.correctColor\n      : transparentize(props.theme.colors.textColor, 0.4)};\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const Status = styled.div`\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  position: relative;\n\n  &:hover {\n    ${StatusText} {\n      text-decoration: underline;\n    }\n  }\n`;\n","import * as React from 'react';\nimport { Collapse, Icon } from 'components/common';\nimport { localize } from 'core/localization';\nimport ProgressPopover from 'components/common/ProgressPopover';\n\nimport {\n  SectionText,\n  SectionItem,\n  Header,\n  TitleIcon,\n  Footer,\n  Status,\n  StatusIcon,\n  StatusText,\n  QuestionList,\n  ProgressPopoverWrapper\n} from './SectionTreeNode.styled';\n\ntype SectionTreeNodeProps = {\n  title: string;\n  isActive: boolean;\n  isPassed: boolean;\n  score: number;\n  affectsProgress?: boolean;\n  sectionId: string;\n  children: any[];\n  ariaLabel?: string;\n  tabIndex: number;\n  questions: any[];\n};\n\ntype SectionTreeNodeState = {\n  isExpanded: boolean;\n}\n\nexport default class SectionTreeNode extends React.Component<SectionTreeNodeProps, SectionTreeNodeState> {\n  constructor(props: SectionTreeNodeProps) {\n    super(props);\n    this.state = {\n      isExpanded: this.props.isActive\n    }\n  }\n\n  componentDidUpdate(prevProps: SectionTreeNodeProps) {\n    if (this.props.isActive !== prevProps.isActive) {\n      this.setState({\n        isExpanded: this.props.isActive\n      });\n    }\n  }\n\n  toggleIsExpanded = () => {\n    this.setState(prevState => ({\n      isExpanded: !prevState.isExpanded\n    }));\n  };\n\n  render() {\n    const {\n      title,\n      isPassed,\n      affectsProgress,\n      children,\n      tabIndex,\n      score,\n      questions,\n      sectionId\n    } = this.props;\n    const { isExpanded } = this.state;\n    return (\n      <SectionItem role=\"presentation\">\n        <Header\n          ariaLabel={\n            isExpanded\n              ? `${localize('[close section items]')} ${title}`\n              : `${localize('[open section items]')} ${title}`\n          }\n          tabIndex={tabIndex}\n          role=\"menuitem\"\n          ariaExpanded={true}\n          aria-haspopup={children.length > 0 ? 'true' : 'false'}\n          onClick={this.toggleIsExpanded}\n          onKeyDown={event => {\n            if (event.key === 'Enter') {\n              this.toggleIsExpanded();\n            }\n          }}\n        >\n          <SectionText appearance=\"h4\" maxLength={35}>\n            {title}\n          </SectionText>\n          <TitleIcon size={5} name={isExpanded ? 'chevron-up' : 'chevron-down'} />\n        </Header>\n        <Collapse\n          isExpanded={isExpanded}\n          animateAppear={false}\n          duration={200}\n          opacityDuration=\"200\"\n        >\n          <QuestionList role=\"menu\">{children}</QuestionList>\n        </Collapse>\n        <Footer>\n          {affectsProgress && (\n            <ProgressPopoverWrapper>\n              <ProgressPopover\n                popoverPosition={'top'}\n                questions={questions}\n                score={score}\n                isPassed={isPassed}\n                sectionId={sectionId}\n              />\n              <Status>\n                {isPassed && (\n                  <StatusIcon>\n                    <Icon name=\"ok\" size={5} color=\"correctColor\" />\n                  </StatusIcon>\n                )}\n                <StatusText\n                  isPassed={isPassed}\n                  ellipsis\n                  ariaLabel={`${localize('[aria label status text]')} ${title} ${localize(\n                    isPassed ? '[passed]' : '[not passed yet]'\n                  )}`}\n                  tabIndex={-1}\n                  role=\"status\"\n                >\n                  {localize(isPassed ? '[passed]' : '[not passed yet]')}\n                </StatusText>\n              </Status>\n            </ProgressPopoverWrapper>\n          )}\n        </Footer>\n      </SectionItem>\n    );\n  }\n}\n","import styled, { css } from 'styled-components';\nimport { Text, ShapedIcon } from 'components/common';\nimport { transparentize } from 'utils/color';\nimport { pointerOnHover } from 'components/mixins/interactivity';\n\nconst highlighted = css`\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n`;\n\ntype QuestionIconProps = {\n  ariaLabel?: string;\n  name: string;\n  size: any;\n  shape: any;\n  shapeColor: any;\n}\nexport const QuestionIcon = styled(ShapedIcon).attrs((props: QuestionIconProps) => ({\n  'aria-label': props.ariaLabel\n})) <QuestionIconProps>`\n  flex-shrink: 0;\n  margin-right: 9px;\n`;\n\nexport const CollapsedQuestionIcon = styled(ShapedIcon)`\n  flex-shrink: 0;\n`;\n\nexport const TitleText = styled(Text)`\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 1.6;\n  word-break: break-word;\n`;\n\ntype QuestionItemProps = {\n  ariaLabel: string;\n  role: string;\n  tabIndex: number;\n  isActive: boolean;\n  isPassed?: boolean;\n}\nexport const QuestionItem = styled.li.attrs((props: QuestionItemProps) => ({\n  'aria-label': props.ariaLabel,\n  role: props.role,\n  tabIndex: props.tabIndex\n})) <QuestionItemProps>`\n  display: flex;\n  align-items: flex-start;\n  padding: 8px 20px;\n  position: relative;\n  &:focus {\n    outline: none;\n  }\n  ${props =>\n    props.isActive &&\n    css`\n      ${highlighted};\n      ${TitleText} {\n        color: ${props.theme.colors.textColor};\n      }\n      &::before {\n        content: '';\n        position: absolute;\n        width: 2px;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background-color: ${props.theme.colors.mainColor};\n      }\n    `};\n  ${props =>\n    !props.isActive &&\n    css`\n      ${pointerOnHover};\n      ${TitleText} {\n        color: ${props.isPassed\n        ? transparentize(props.theme.colors.textColor, 0.6, { fullColor: true })\n        : props.theme.colors.textColor};\n      }\n      &:hover,\n      &:focus {\n        ${highlighted};\n      }\n      &:hover ${TitleText}, &:focus ${TitleText} {\n        text-decoration: underline;\n      }\n    `};\n`;\n","import * as React from 'react';\nimport { SIZES, ICON } from 'constants/components';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\nimport { localize } from 'core/localization';\nimport { QuestionItem, TitleText, QuestionIcon } from './QuestionTreeNode.styled';\n\ntype QuestionTreeNodeProps = {\n  question: {\n    id: string;\n    title: string;\n    isInformationContent: boolean;\n    isAnswered: boolean;\n    isAnsweredCorrectly: boolean;\n    isSurvey: boolean;\n    type: string;\n    hasBeenOpened: boolean;\n  },\n  isActive: boolean;\n  onClick?(e?: any): void;\n  onKeyDown?(e?: any): void;\n  role: string;\n  tabIndex: number;\n};\n\nexport default class QuestionTreeNode extends React.PureComponent<QuestionTreeNodeProps, {}> {\n  getTitleQuestion(isAnswered: boolean, isAnsweredCorrectly: boolean, title: string) {\n    let ariaLabel = isAnswered\n      ? isAnsweredCorrectly\n        ? `${localize('[aria label question icon ok]')} ${title}`\n        : `${localize('[aria label question icon non]')} ${title}`\n      : `${localize('[aria label question icon]')} ${title}`;\n    return ariaLabel;\n  }\n\n  render() {\n    const { question, onClick, isActive, onKeyDown, role, tabIndex } = this.props;\n    const {\n      title,\n      isInformationContent,\n      isAnswered,\n      isAnsweredCorrectly,\n      isSurvey,\n      type,\n      hasBeenOpened\n    } = question;\n    const isPassed = type === INFORMATION_CONTENT ? hasBeenOpened : isAnswered;\n    return (\n      <QuestionItem\n        isActive={isActive}\n        isPassed={isPassed}\n        tabIndex={tabIndex}\n        role={role}\n        ariaLabel={\n          !isInformationContent\n            ? this.getTitleQuestion(isAnswered, isAnsweredCorrectly, title)\n            : title\n        }\n        {...(!isActive && { onClick, onKeyDown })}\n      >\n        {!isInformationContent && renderQuestionIcon(isAnswered, isAnsweredCorrectly, isSurvey)}\n        <TitleText>{title}</TitleText>\n      </QuestionItem>\n    );\n  }\n}\n\nfunction renderQuestionIcon(isAnswered: any, isAnsweredCorrectly: any, isSurvey: any) {\n  let iconName = isAnswered ? (isAnsweredCorrectly ? 'ok' : 'close') : 'question';\n\n  if (isSurvey) {\n    iconName = 'survey';\n  }\n\n  const color = isAnswered\n    ? isAnsweredCorrectly || isSurvey\n      ? 'correctColor'\n      : 'incorrectColor'\n    : 'mainColor';\n  return (\n    <QuestionIcon\n      name={iconName}\n      size={SIZES.SMALL}\n      shape={ICON.SHAPES.ROUND_FULL_COLOR}\n      shapeColor={color}\n      {...(!isAnswered && { fontSize: 7 })}\n    />\n  );\n}\n","import styled from 'styled-components';\nimport {\n  QuestionItem,\n  TitleText\n} from 'components/treeOfContent/QuestionTreeNode/QuestionTreeNode.styled';\n\ntype LearningObjectiveItemProps = {\n  isActive: boolean;\n  tabIndex: number;\n  role: string;\n  ariaLabel: string;\n  onClick?(e?: any): void;\n  onKeyDown?(e?: any): void;\n}\nexport const LearningObjectiveItem = styled(QuestionItem)<LearningObjectiveItemProps>``;\n\nexport const ItemTitle = styled(TitleText)``;\n","import React, { PureComponent } from 'react';\nimport { localize } from 'core/localization';\nimport { LearningObjectiveItem, ItemTitle } from './LearningObjectiveTreeNode.styled';\n\ntype LearningObjectiveTreeNodeProps = {\n  isActive: boolean;\n  onClick(e?: any): void;\n  onKeyDown(e?: any): void;\n  role: string;\n  tabIndex: number;\n};\n\nexport default class LearningObjectiveTreeNode extends PureComponent<LearningObjectiveTreeNodeProps, {}> {\n  render() {\n    const { onClick, isActive, onKeyDown, role, tabIndex } = this.props;\n    return (\n      <LearningObjectiveItem\n        isActive={isActive}\n        tabIndex={tabIndex}\n        role={role}\n        ariaLabel={localize('[overview]')}\n        {...(!isActive && { onClick, onKeyDown })}\n      >\n        <ItemTitle>{localize('[overview]')}</ItemTitle>\n      </LearningObjectiveItem>\n    );\n  }\n}\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { TOC } from 'constants/components';\nimport { Text, ProgressResult } from 'components/common';\nimport { getCustomScrollbars } from 'components/mixins/customScrollbars';\nimport { defaultBoxShadowColor } from 'constants/common';\nimport { SectionItem } from '../SectionTreeNode/SectionTreeNode.styled';\n\ntype SectionsProps = {\n  role: string;\n}\nexport const Sections = styled.ul.attrs((props: SectionsProps) => ({\n  role: props.role,\n  'data-test': 'expanded-navigation-block'\n})) <SectionsProps>`\n  flex: 1 0 auto;\n  margin-top: 44px;\n  margin-bottom: 50px;\n\n  ${SectionItem} + ${SectionItem} {\n    margin-top: 2px;\n  }\n`;\n\ntype ExpandedTocContainer = {\n  ariaLabel: string;\n  isExpanded: boolean;\n}\nexport const ExpandedTocContainer = styled.nav.attrs((props: ExpandedTocContainer) => ({\n  'aria-label': props.ariaLabel\n})) <ExpandedTocContainer>`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: calc(100vh - 57px);\n  ${getCustomScrollbars()};\n  box-shadow: inset -2px 0 6px 0 ${transparentize(defaultBoxShadowColor, 0.04)};\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n\n  @media (max-width: ${TOC.EXPANDED_WIDTH + TOC.TAIL_WIDTH}px) {\n    padding-top: 32px;\n  }\n  &:focus {\n    outline: none;\n  }\n  & ${Sections} {\n    margin-top: 32px;\n  }\n`;\n\nexport const ProgressMasteryScoreWrapper = styled.div`\n  margin: 16px 40px 0;\n`;\n\nexport const ProgressMasteryScore = styled(ProgressResult)`\n  height: 4px;\n  border-radius: 2px;\n  background: ${props => transparentize(props.theme.colors.textColor, 0.06)};\n`;\n\nexport const ProgressCaption = styled(Text)`\n  display: block;\n  font-size: 10px;\n  font-weight: bold;\n  text-transform: uppercase;\n  line-height: 1;\n  color: ${props => props.theme.colors.textColor};\n  opacity: 0.5;\n`;\n","import React from 'react';\nimport { localize } from 'core/localization';\nimport ResultsBlock from '../ResultsBlock/ResultsBlock';\nimport Header from '../Header/Header';\nimport SectionTreeNode from '../SectionTreeNode/SectionTreeNode';\nimport QuestionTreeNode from '../QuestionTreeNode/QuestionTreeNode';\nimport LearningObjectiveTreeNode from '../LearningObjectiveTreeNode/LearningObjectiveTreeNode';\n\nimport {\n  Sections,\n  ExpandedTocContainer,\n  ProgressMasteryScoreWrapper,\n  ProgressMasteryScore,\n  ProgressCaption\n} from './ExpandedToc.styled';\n\ntype ExpandedTocProps = {\n  isExpanded: boolean;\n  courseStructure: {\n    title: string;\n    sections: any[];\n  };\n  activeSectionId: string;\n  activeQuestionId: string;\n  navigateToIndex(): void;\n  navigateToQuestion(sectionId: string, questionId: string): void;\n  navigateToLearningObjective(sectionId: string): void;\n  navigateToResults(): void;\n  isResultsActive: boolean;\n  isLearningObjectiveView: boolean;\n  courseProgress: number;\n  masteryScore: number;\n  isCourseProgress: boolean;\n  affectProgressSectionsCount: number;\n};\n\nfunction ExpandedTocSection({ props }: any) {\n  const {\n    courseStructure,\n    activeSectionId,\n    activeQuestionId,\n    navigateToQuestion,\n    navigateToLearningObjective,\n    isExpanded,\n    isLearningObjectiveView\n  } = props;\n  return courseStructure.sections.map((section: any, sectionIndex: any) => (\n    <SectionTreeNode\n      key={sectionIndex}\n      isActive={section.id === activeSectionId}\n      isPassed={section.isPassed}\n      score={section.score}\n      questions={section.questions}\n      affectsProgress={section.affectsProgress}\n      title={section.title}\n      tabIndex={isExpanded ? 0 : -1}\n      sectionId={section.id}\n    >\n      {section.learningObjective && (\n        <LearningObjectiveTreeNode\n          role=\"menuitem\"\n          tabIndex={1}\n          isActive={section.id === activeSectionId && isLearningObjectiveView}\n          onClick={() => navigateToLearningObjective(section.id)}\n          onKeyDown={event => {\n            if (event.key === 'Enter') {\n              navigateToLearningObjective(section.id);\n            }\n          }}\n        />\n      )}\n      <ExpandedTocItems props={{ section, activeQuestionId, isExpanded, navigateToQuestion }} />\n    </SectionTreeNode>\n  ));\n}\n\nfunction ExpandedTocItems({ props }: any) {\n  const { activeQuestionId, section, navigateToQuestion, isExpanded } = props;\n  return props.section.questions.map((question: any, questionIndex: any) => (\n    <QuestionTreeNode\n      role=\"menuitem\"\n      key={questionIndex}\n      question={question}\n      isActive={question.id === activeQuestionId}\n      tabIndex={isExpanded ? 0 : -1}\n      {...(question.id !== activeQuestionId && {\n        onClick: () => navigateToQuestion(section.id, question.id),\n        onKeyDown: event => {\n          if (event.key === 'Enter') {\n            navigateToQuestion(section.id, question.id);\n          }\n        }\n      })}\n    />\n  ));\n}\n\nclass ExpandedToc extends React.Component<ExpandedTocProps, {}> {\n  refContainer: any;\n  constructor(props: ExpandedTocProps) {\n    super(props);\n    this.refContainer = React.createRef();\n  }\n  render() {\n    const {\n      courseStructure,\n      activeSectionId,\n      activeQuestionId,\n      navigateToIndex,\n      navigateToResults,\n      navigateToQuestion,\n      navigateToLearningObjective,\n      isResultsActive,\n      isExpanded,\n      isLearningObjectiveView,\n      courseProgress,\n      masteryScore,\n      isCourseProgress,\n      affectProgressSectionsCount\n    } = this.props;\n    return (\n      <React.Fragment>\n        <ExpandedTocContainer\n          ref={this.refContainer}\n          isExpanded={isExpanded}\n          aria-hidden={!isExpanded}\n          ariaLabel={`${localize('[expanded nav section]')}`}\n        >\n          <Header\n            courseTitle={courseStructure.title}\n            navigateToIndex={navigateToIndex}\n            tabIndex={isExpanded ? 0 : -1}\n          />\n          {isCourseProgress && affectProgressSectionsCount > 0 && (\n            <ProgressMasteryScoreWrapper>\n              <ProgressMasteryScore\n                progress={courseProgress}\n                passedMark={masteryScore}\n                passedMarkStyles={{\n                  opacity: 0.3,\n                  color: 'textColor'\n                }}\n                forwardedRef={this.refContainer}\n              />\n              <ProgressCaption>\n                {localize('[you complete x]', {\n                  percentSuccess: courseProgress\n                })}\n              </ProgressCaption>\n            </ProgressMasteryScoreWrapper>\n          )}\n\n          <Sections role=\"menubar\">\n            <ExpandedTocSection\n              props={{\n                courseStructure,\n                activeSectionId,\n                activeQuestionId,\n                navigateToIndex,\n                navigateToResults,\n                navigateToQuestion,\n                navigateToLearningObjective,\n                isResultsActive,\n                isExpanded,\n                isLearningObjectiveView\n              }}\n            />\n          </Sections>\n        </ExpandedTocContainer>\n        <ResultsBlock\n          ariaLabel={localize('[results]')}\n          isActive={isResultsActive}\n          navigateToResults={navigateToResults}\n          tabIndex={isExpanded ? 0 : -1}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ExpandedToc;\n","import styled, { css, keyframes } from 'styled-components';\nimport { ShapedIcon } from 'components/common';\nimport { pointerOnHover, transition } from 'components/mixins/interactivity';\n\nexport const scaleAnimation = keyframes`\n  0% { transform: scale(0.5); }\n  100% { transform: scale(1); }\n`;\n\ntype NavigationItemIconProps = {\n  role: string;\n  ariaLabel:string;\n  tabIndex: number;\n  isActive?: boolean;\n}\nexport const NavigationItemIcon = styled(ShapedIcon).attrs((props: NavigationItemIconProps) => ({\n  role: props.role,\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel\n}))<NavigationItemIconProps>`\n  flex-shrink: 0;\n  ${transition('border, background-color, transform')};\n  &:focus {\n    border: none;\n    outline: none;\n  }\n  ${props =>\n    !props.isActive &&\n    css`\n      ${pointerOnHover};\n      /* &:active {\n        animation: ${scaleAnimation} 0.2s;\n      } */\n    `};\n`;\n","import styled, { css } from 'styled-components';\nimport { pointerOnHover, transition } from 'components/mixins/interactivity';\nimport { IconElement } from 'components/common/Icon/Icon.styled';\nimport { transparentize } from 'utils/color';\nimport { MEDIA_SMALL } from 'constants/screenResolutions';\nimport { NavigationItemIcon } from '../NavigationItem/NavigationItem.styled';\n\ntype ContainerProps = {\n  role: string;\n}\nexport const Container = styled.div.attrs((props: ContainerProps) => ({\n  role: props.role,\n  'data-test': 'navigation-block'\n})) <ContainerProps>`\n  display: flex;\n  justify-content: center;\n  position: relative;\n  ${NavigationItemIcon} + ${NavigationItemIcon} {\n    margin-top: 20px;\n  }\n  @media (max-height: ${MEDIA_SMALL}px){\n    margin-top: 100px;\n  }\n`;\n\ntype ItemsLimiterProps = {\n  height: number;\n}\nexport const ItemsLimiter = styled.div<ItemsLimiterProps>`\n  max-height: ${props => props.height + 10}px;\n  padding: 5px;\n  overflow: hidden;\n`;\n\ntype NavButtonProps = {\n  prev?: any;\n  next?: any;\n}\nexport const NavButton = styled.button<NavButtonProps>`\n  ${pointerOnHover};\n  position: absolute;\n  padding: 10px;\n  height: 30px;\n  outline: none;\n  background: none;\n  border: none;\n  width: 100%;\n  left: 0;\n\n  ${props => css`\n    & ${IconElement} {\n      color: ${transparentize(props.theme.colors.textColor, 0.7, {\n  solidColor: true\n})};\n    }\n  `};\n\n  &:hover ${IconElement} {\n    color: ${props => props.theme.colors.textColor};\n  }\n\n  ${props =>\n    props.prev &&\n    css`\n      transform: translate(0, -100%);\n      top: -20px;\n    `};\n  ${props =>\n    props.next &&\n    css`\n      transform: translate(0, 100%);\n      bottom: -20px;\n    `};\n`;\n\ntype ItemsProps = {\n  topShift: number;\n}\nexport const Items = styled.div<ItemsProps>`\n  ${transition('margin-top')};\n  margin-top: -${props => props.topShift}px;\n`;\n","import React, { Component } from 'react';\nimport { Icon } from 'components/common';\nimport { minCountTocNavigationElements, maxCountTocNavigationElements } from 'constants/common';\nimport throttle from 'lodash.throttle';\nimport { MEDIA_SMALL } from 'constants/screenResolutions';\nimport { Container, ItemsLimiter, Items, NavButton } from './NavigationBlock.styled';\n\nconst itemHeight = 24;\nconst itemDistance = 20;\n\ntype NavigationBlockProps = {\n  children: any[];\n  role: string;\n  navigationElementsCount: number;\n  activeItemIndex: number;\n};\ntype NavigationBlockState = {\n  hasNextPage: boolean;\n  hasPrevPage: boolean;\n  startIndex: number,\n  endIndex: number,\n  countTocNavigationElements: number;\n  windowHeight: number;\n}\nexport default class NavigationBlock extends Component<NavigationBlockProps, NavigationBlockState> {\n  constructor(props: NavigationBlockProps) {\n    super(props);\n    this.state = {\n      hasNextPage: false,\n      hasPrevPage: false,\n      startIndex: -1,\n      endIndex: -1,\n      countTocNavigationElements: maxCountTocNavigationElements,\n      windowHeight: window.innerHeight\n    };\n  }\n\n  componentDidMount() {\n    this.setTocNavigationElements(this.state.windowHeight);\n    window.addEventListener('resize', this.windowResizeHandler);\n\n    this.updatePagingState(this.props.navigationElementsCount, this.props.activeItemIndex);\n  }\n\n  componentDidUpdate(prevProps: NavigationBlockProps) {\n    const index = prevProps.activeItemIndex;\n    const { activeItemIndex, navigationElementsCount } = this.props;\n    if (\n      (index !== activeItemIndex && !this.isIndexInView(index)) ||\n      this.props.navigationElementsCount !== prevProps.navigationElementsCount\n    ) {\n      this.updatePagingState(navigationElementsCount, activeItemIndex);\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.windowResizeHandler);\n  }\n\n  windowResizeHandler = throttle(() => {\n    this.setState({ windowHeight: window.innerHeight });\n    this.setTocNavigationElements(this.state.windowHeight);\n  }, 500);\n\n  setTocNavigationElements = (height: any) => {\n    if (height <= MEDIA_SMALL) {\n      this.setState({ countTocNavigationElements: minCountTocNavigationElements });\n    } else {\n      this.setState({ countTocNavigationElements: maxCountTocNavigationElements });\n    }\n  };\n\n  isIndexInView = (index: any) => {\n    const { startIndex, endIndex } = this.state;\n    return index >= startIndex && index <= endIndex;\n  };\n\n  nextPage = () => {\n    const totalItems = this.props.navigationElementsCount;\n    const { startIndex, countTocNavigationElements } = this.state;\n    this.updatePagingState(totalItems, startIndex + countTocNavigationElements);\n  };\n\n  prevPage = () => {\n    const totalItems = this.props.navigationElementsCount;\n    const { startIndex, countTocNavigationElements } = this.state;\n    this.updatePagingState(totalItems, startIndex - countTocNavigationElements);\n  };\n\n  updatePagingState = (totalItems: any, index: any) => {\n    const { countTocNavigationElements } = this.state;\n    this.setState(calculatePaging(totalItems, index, countTocNavigationElements));\n  };\n\n  render() {\n    const { children, role } = this.props;\n    const { hasNextPage, hasPrevPage, startIndex, countTocNavigationElements } = this.state;\n    const limiterHeight =\n      countTocNavigationElements * itemHeight + (countTocNavigationElements - 1) * itemDistance;\n    const topShift = startIndex * itemHeight + startIndex * itemDistance;\n    return (\n      <Container role={role}>\n        {hasPrevPage && (\n          <NavButton tabIndex={1} onClick={this.prevPage} prev>\n            <Icon name=\"chevron-up\" />\n          </NavButton>\n        )}\n        <ItemsLimiter height={limiterHeight}>\n          <Items topShift={topShift}>{children}</Items>\n        </ItemsLimiter>\n        {hasNextPage && (\n          <NavButton tabIndex={1} onClick={this.nextPage} next>\n            <Icon name=\"chevron-down\" />\n          </NavButton>\n        )}\n      </Container>\n    );\n  }\n}\n\nfunction calculatePaging(totalItems: any, index: any, countTocNavigationElements: any) {\n  const range = getRange(totalItems, index, countTocNavigationElements);\n  const startIndex = range.start;\n  const endIndex = range.end;\n  const hasNextPage =\n    totalItems - startIndex !== countTocNavigationElements &&\n    totalItems > countTocNavigationElements;\n  const hasPrevPage = startIndex > 0;\n  return { hasPrevPage, hasNextPage, startIndex, endIndex };\n}\n\nfunction getRange(totalItems: any, index: any, countTocNavigationElements: any) {\n  if (index <= 0) {\n    return {\n      start: 0,\n      end: totalItems >= countTocNavigationElements ? countTocNavigationElements : totalItems\n    };\n  }\n\n  const postDelta = totalItems - 1 - index;\n  if (postDelta >= countTocNavigationElements) {\n    return { start: index, end: index + countTocNavigationElements };\n  }\n\n  const preDelta = countTocNavigationElements - postDelta;\n  const pre = index - preDelta + 1;\n  return { start: pre >= 0 ? pre : 0, end: index + postDelta };\n}\n","import React from 'react';\nimport { SIZES, ICON } from 'constants/components';\nimport { transparentize } from 'utils/color';\nimport { localize } from 'core/localization';\nimport { NavigationItemIcon } from './NavigationItem.styled';\n\ntype NavigationLearningItemProps = {\n  sectionTitle?: string;\n  onClick(e?: any): void;\n  onKeyDown(e?: any): void;\n  isActive: boolean;\n  role: string;\n  tabIndex: number;\n}\nexport const NavigationLearningItem = ({\n  sectionTitle,\n  onClick,\n  onKeyDown,\n  isActive,\n  role,\n  tabIndex\n}: NavigationLearningItemProps) =>\n  getNavigationItemIcon({\n    ariaLabel: sectionTitle,\n    title: sectionTitle,\n    isActive,\n    onClick,\n    onKeyDown,\n    size: SIZES.MEDIUM,\n    role,\n    tabIndex,\n    ...getContentIconProps(isActive)\n  });\n\ntype NavigationItemProps = {\n  question: {\n    title: string;\n    isInformationContent: boolean;\n    isAnswered: boolean;\n    isAnsweredCorrectly: boolean;\n    isSurvey: boolean;\n  };\n  isActive: boolean;\n  onClick?(e?: any): void;\n  onKeyDown?(e?: any): void;\n  role: string;\n  tabIndex: number;\n};\nexport const NavigationItem = ({ question, onClick, onKeyDown, isActive, role, tabIndex }: NavigationItemProps) => {\n  const iconProps = question.isInformationContent\n    ? getContentIconProps(isActive)\n    : getQuestionIconProps(isActive, question);\n  let ariaLabel = question.isAnswered\n    ? question.isAnsweredCorrectly\n      ? `${localize('[aria label question icon ok]')} ${question.title}`\n      : `${localize('[aria label question icon non]')} ${question.title}`\n    : `${localize('[aria label question icon]')} ${question.title}`;\n  return getNavigationItemIcon({\n    ariaLabel: question.isInformationContent ? question.title : ariaLabel,\n    title: question.title || ariaLabel,\n    isActive,\n    onClick,\n    onKeyDown,\n    size: SIZES.MEDIUM,\n    role,\n    tabIndex,\n    ...iconProps\n  });\n};\n\nfunction getNavigationItemIcon(configs: any) {\n  return <NavigationItemIcon {...configs} />;\n}\n\nfunction getContentIconProps(isActive: boolean) {\n  return {\n    name: 'point',\n    fontSize: 4,\n    shape: isActive ? ICON.SHAPES.ROUND_SHADED : ICON.SHAPES.ROUND_FULL_COLOR,\n    getColor: (colors: any) => getDefaultQuestionColor(isActive, colors),\n    getShapeColor: (colors: any) => transparentize(colors.textColor, 0.1),\n    ...(!isActive && {\n      getHoverColor: (colors: any) => colors.textColor,\n      hoverShape: ICON.SHAPES.ROUND_SHADED\n    })\n  };\n}\n\nfunction getQuestionIconProps(isActive: boolean, question: any) {\n  let name = question.isAnswered ? (question.isAnsweredCorrectly ? 'ok' : 'close') : 'question';\n  if (question.isSurvey) {\n    name = 'survey';\n  }\n  return {\n    name,\n    fontSize: question.isAnswered ? 5 : 8,\n    getColor: (colors: any) =>\n      question.isAnswered\n        ? getAnsweredQuestionColor(question, colors)\n        : getDefaultQuestionColor(isActive, colors),\n    getShapeColor: (colors: any) =>\n      question.isAnswered\n        ? getAnsweredQuestionColor(question, colors)\n        : transparentize(colors.textColor, 0.1),\n    shape: isActive\n      ? ICON.SHAPES.ROUND_SHADED\n      : question.isAnswered\n        ? ICON.SHAPES.ROUND_OUTLINED\n        : ICON.SHAPES.ROUND_FULL_COLOR,\n    ...(!isActive && {\n      hoverShape: ICON.SHAPES.ROUND_SHADED\n    }),\n    ...(!isActive &&\n      !question.isAnswered && {\n      getHoverColor: (colors: any) => colors.textColor\n    })\n  };\n}\n\nfunction getAnsweredQuestionColor(question: any, colors: any) {\n  return question.isAnsweredCorrectly || question.isSurvey\n    ? colors.correctColor\n    : colors.incorrectColor;\n}\n\nfunction getDefaultQuestionColor(isActive: any, colors: any) {\n  return isActive ? colors.mainColor : transparentize(colors.textColor, 0.5);\n}\n\nexport default NavigationItem;\n","import styled, { css } from 'styled-components';\nimport { TOC, Z_INDEX } from 'constants/components';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\nimport { transition } from 'components/mixins/interactivity';\nimport { CourseBackButton } from '../Header/Header.styled';\n\ntype CollapsedTocContainerProps = {\n  ariaLabel: string;\n  ariaHidden?: any;\n  isExpanded: boolean;\n}\n/* eslint-disable import/prefer-default-export */\nexport const CollapsedTocContainer = styled.nav.attrs((props: CollapsedTocContainerProps) => ({\n  'aria-label': props.ariaLabel,\n  'aria-hidden': props.ariaHidden\n})) <CollapsedTocContainerProps>`\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: ${TOC.COLLAPSED_WIDTH}px;\n  left: -${TOC.COLLAPSED_WIDTH}px;\n  z-index: ${Z_INDEX.COLLAPSED_TOC};\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  overflow: hidden;\n  background-color: ${props => props.theme.colors.mainBackground};\n  ${transition('left')};\n  transition-delay: '0.15s';\n  visibility: hidden;\n  & ${CourseBackButton} {\n    top: 80px;\n    left: 16px;\n    position: absolute;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  ${props =>\n    !props.isExpanded &&\n    css`\n      left: 100%;\n      visibility: visible;\n    `};\n\n  ${media.small`\n    display: none;\n  `};\n`;\n\ntype SectionProgressProps = {\n  isNavigationExist: boolean;\n}\nexport const SectionProgress = styled.div<SectionProgressProps>`\n  width: 24px;\n  height: 51px;\n  padding-top: 16px;\n  position: relative;\n  margin: ${props => (props.isNavigationExist ? '60px auto 30px' : '10px auto 30px')};\n\n  &:before {\n    content: '';\n    display: block;\n    width: 16px;\n    height: 1px;\n    position: absolute;\n    top: 0;\n    left: 4px;\n    background: ${props => transparentize(props.theme.colors.textColor, 0.1)};\n  }\n\n  &:hover {\n    .CircularProgressbar-trail {\n      stroke: ${props => transparentize(props.theme.colors.textColor, 0.2)} !important;\n    }\n  }\n`;\n\nexport const StatusIcon = styled.div`\n  width: 24px;\n  height: 24px;\n  background: ${props => props.theme.colors.correctColor};\n  border-radius: 50%;\n  flex-shrink: 0;\n  align-self: self-start;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { localize } from 'core/localization';\nimport { Icon } from 'components/common';\nimport { maxCountTocNavigationElements } from 'constants/common';\nimport CircularProgressbar from 'react-circular-progressbar';\nimport ProgressPopover from 'components/common/ProgressPopover';\nimport { getColors } from 'store/settings/selectors';\nimport { transparentize } from 'utils/color';\nimport Header from '../Header/Header';\nimport NavigationBlock from '../NavigationBlock/NavigationBlock';\nimport NavigationItem, { NavigationLearningItem } from '../NavigationItem/NavigationItem';\nimport ResultsBlock from '../ResultsBlock/ResultsBlock';\n\nimport { CollapsedTocContainer, SectionProgress, StatusIcon } from './CollapsedToc.styled';\nimport { RootAppState } from 'store/types';\n\nconst constants = {\n  minimalShownProgress: 10\n};\n\ntype CollapsedTocProps = {\n  isExpanded: boolean;\n  courseStructure: {\n    title: string;\n    sections: any[]\n  };\n  activeSectionId: string;\n  activeQuestionId: string;\n  navigateToIndex(): void;\n  navigateToQuestion(sectionId: string, questionId: string): void;\n  navigateToResults(): void;\n  navigateToLearningObjective(id: any): void;\n  isResultsActive: boolean;\n  isLearningObjectiveView: boolean;\n  colors: {[key: string]: any}\n};\nexport class CollapsedToc extends React.Component<CollapsedTocProps, {}> {\n  showProgressScore = (score: number) => {\n    if (score <= constants.minimalShownProgress) {\n      return constants.minimalShownProgress;\n    }\n    return score;\n  };\n\n  render() {\n    const {\n      courseStructure,\n      isExpanded,\n      activeQuestionId,\n      activeSectionId,\n      navigateToIndex,\n      navigateToQuestion,\n      navigateToResults,\n      navigateToLearningObjective,\n      isResultsActive,\n      isLearningObjectiveView,\n      colors\n    } = this.props;\n    let section: any = null;\n    let questions: any[] = [];\n    let activeQuestionIndex = -1;\n\n    if (activeSectionId) {\n      section = courseStructure.sections.find(item => item.id === activeSectionId) || {};\n      questions = (section.questions || []).map((question: any, questionIndex: any) => ({\n        key: `${questionIndex}`,\n        question,\n        isAnsweredCorrectly: question.isAnsweredCorrectly,\n        affectsProgress: question.affectsProgress,\n        sectionId: section.id\n      }));\n\n      activeQuestionIndex = questions.findIndex(item => item.question.id === activeQuestionId);\n    }\n    return (\n      <CollapsedTocContainer isExpanded={isExpanded} ariaLabel={localize('[navigation section]')}>\n        <Header collapsed navigateToIndex={navigateToIndex} tabIndex={isExpanded ? -1 : 0} />\n        {activeSectionId && (\n          <NavigationBlock\n            activeItemIndex={activeQuestionIndex}\n            navigationElementsCount={questions.length as any + !!section.learningObjective}\n            role=\"menu\"\n          >\n            {section.learningObjective && (\n              <NavigationLearningItem\n                onClick={() => navigateToLearningObjective(section.id)}\n                onKeyDown={event => {\n                  if (event.key === 'Enter') {\n                    navigateToLearningObjective(section.id);\n                  }\n                }}\n                role=\"menuitem\"\n                tabIndex={0}\n                isActive={isLearningObjectiveView}\n              />\n            )}\n            {questions.map(item => (\n              <NavigationItem\n                key={item.key}\n                role=\"menuitem\"\n                tabIndex={0}\n                question={item.question}\n                isActive={item.question.id === activeQuestionId}\n                {...(item.question.id !== activeQuestionId && {\n                  onClick: () => navigateToQuestion(item.sectionId, item.question.id),\n                  onKeyDown: event => {\n                    if (event.key === 'Enter') {\n                      navigateToQuestion(item.sectionId, item.question.id);\n                    }\n                  }\n                })}\n              />\n            ))}\n          </NavigationBlock>\n        )}\n        {section && section.affectsProgress && (\n          <SectionProgress isNavigationExist={maxCountTocNavigationElements < questions.length}>\n            <ProgressPopover\n              popoverPosition={'right-end'}\n              questions={questions}\n              score={section.score}\n              isPassed={section.isPassed}\n              sectionId={section.id}\n            />\n            {section.isPassed ? (\n              <StatusIcon>\n                <Icon name=\"ok\" size={6} color=\"buttonTextColor\" />\n              </StatusIcon>\n            ) : (\n              <CircularProgressbar\n                strokeWidth={24}\n                percentage={this.showProgressScore(section.score)}\n                styles={{\n                  path: {\n                    stroke: colors.mainColor,\n                    strokeLinecap: 'butt',\n                    transition: 'stroke-dashoffset 0.5s ease 0s'\n                  },\n                  trail: {\n                    stroke: transparentize(colors.textColor, 0.02),\n                    transition: 'stroke 0.2s ease 0s'\n                  }\n                }}\n              />\n            )}\n          </SectionProgress>\n        )}\n        <ResultsBlock\n          ariaLabel={localize('[results]')}\n          collapsed\n          isActive={isResultsActive}\n          navigateToResults={navigateToResults}\n          tabIndex={isExpanded ? -1 : 0}\n        />\n      </CollapsedTocContainer>\n    );\n  }\n}\n\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    colors: getColors(state)\n  };\n}\n\nexport default connect(mapStateToProps)(CollapsedToc);\n","import pathToRegexp from 'path-to-regexp';\nimport {\n  INDEX_PATH,\n  SECTIONS_PATH,\n  SECTION_PATH,\n  RESULTS_PATH,\n  QUESTION_PATH,\n  LEARNING_OBJECTIVE_PATH\n} from 'constants/navigation';\n\nexport const isIndexView = pathToRegexp(INDEX_PATH);\nexport const isSectionsView = pathToRegexp(SECTIONS_PATH);\nexport const isSectionView = pathToRegexp(SECTION_PATH);\nexport const isResultsView = pathToRegexp(RESULTS_PATH);\nexport const isQuestionView = pathToRegexp(QUESTION_PATH);\nexport const isLearningObjectiveView = pathToRegexp(LEARNING_OBJECTIVE_PATH);\n\nexport const isHomeView = (pathname: any) => isIndexView.test(pathname) || isSectionsView.test(pathname);\n\nexport const isCourseOverviewView = (pathname: any) =>\n  isSectionView.test(pathname) ||\n  isQuestionView.test(pathname) ||\n  isResultsView.test(pathname) ||\n  isLearningObjectiveView.test(pathname);\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { Z_INDEX } from 'constants/components';\nimport media from 'components/mixins/media';\nimport { Icon } from 'components/common';\nimport { pointerOnHover } from 'components/mixins/interactivity';\nimport buttonDefaultStyle from 'components/mixins/normalize';\n\nexport const TailIcon = styled(Icon)`\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n`;\n\ntype TailProps = {\n  tabIndex: number;\n  ariaLabel: string;\n  isExpanded: boolean;\n}\nexport const Tail = styled.button.attrs((props: TailProps) => ({\n  tabIndex: props.tabIndex,\n  'aria-label': props.ariaLabel,\n  'data-test': 'hamburger-button'\n})) <TailProps>`\n  ${buttonDefaultStyle};\n  position: absolute;\n  top: 16px;\n  right: -54px;\n  padding: 16px;\n  z-index: ${Z_INDEX.TOC_TAIL};\n  ${pointerOnHover};\n  &:hover ${TailIcon}, &:focus ${TailIcon} {\n    color: ${props => props.theme.colors.textColor};\n  }\n\n  ${media.small`\n    top: 8px;\n    right: -45px;\n  `};\n\n  ${props =>\n    props.isExpanded &&\n    media.mobile`\n      top: 8px;\n      right: -38px;\n  `}};\n`;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport withNavigation from 'components/hocs/withNavigation';\nimport { getCurrentLocationHash } from 'utils/window';\nimport { getQuestionUrl, getLocationParams, getLearningObjectiveUrl } from 'utils/navigation';\nimport {\n  INDEX_PATH,\n  RESULTS_PATH,\n  QUESTION_PATH,\n  LEARNING_OBJECTIVE_PATH\n} from 'constants/navigation';\nimport { getCourseStructure } from 'store/course/selectors';\nimport { getTreeOfContentVisibility } from 'store/treeOfContent/selectors';\nimport { getMasteryScoreValue, isOverallMasteryScore } from 'store/settings/selectors';\nimport { getAffectProgressSectionsCount } from 'store/sections/selectors';\nimport { isLowResolution } from 'store/app/selectors';\nimport * as actions from 'store/treeOfContent/actions';\nimport { localize } from 'core/localization';\nimport ExpandedToc from './ExpandedToc';\nimport CollapsedToc from './CollapsedToc';\nimport { isLearningObjectiveView } from '../shell/RouteTransition/viewChecker';\n\nimport { Tail, TailIcon } from './TreeOfContent.styled';\nimport { RootAppState } from 'store/types';\n\ntype TreeOfContentProps = {\n  isExpanded: boolean;\n  courseStructure: {\n    title: string;\n    sections: {[key: string]: any}[];\n  },\n  isAppInLowResolution: boolean;\n  activeSectionId: string;\n  activeQuestionId: string;\n  navigateToIndex(): void;\n  navigateToUrl(url: string): void;\n  actions: {[key: string]: any};\n  ariaLabel: string;\n  isLearningObjectiveView: boolean;\n  state: {[key: string]: any};\n  masteryScore: number;\n  isCourseProgress: boolean;\n  affectProgressSectionsCount: number;\n};\nexport class TreeOfContent extends Component<TreeOfContentProps, {}> {\n  navigateToQuestion = (sectionId: string, questionId: string) => {\n    this.navigate(getQuestionUrl(sectionId, questionId));\n  };\n\n  navigateToResults = () => {\n    this.navigate(RESULTS_PATH);\n  };\n\n  navigateToIndex = () => {\n    this.navigate(INDEX_PATH);\n  };\n\n  navigateToLearningObjective = (sectionId: string) => {\n    this.navigate(getLearningObjectiveUrl(sectionId));\n  };\n\n  navigate = (url: string) => {\n    if (this.props.isAppInLowResolution) {\n      this.toggleTreeOfContentVisibility();\n    }\n    this.props.navigateToUrl(url);\n  };\n\n  toggleTreeOfContentVisibility = () => {\n    this.props.actions.toggleTreeOfContentVisibility();\n  };\n\n  render() {\n    const { isExpanded } = this.props;\n    const tocProps = {\n      courseStructure: this.props.courseStructure,\n      activeSectionId: this.props.activeSectionId,\n      activeQuestionId: this.props.activeQuestionId,\n      navigateToIndex: this.navigateToIndex,\n      navigateToResults: this.navigateToResults,\n      navigateToQuestion: this.navigateToQuestion,\n      navigateToLearningObjective: this.navigateToLearningObjective,\n      isResultsActive: !this.props.activeSectionId,\n      isExpanded,\n      isLearningObjectiveView: this.props.isLearningObjectiveView,\n      courseProgress: this.props.state.course.score,\n      masteryScore: this.props.masteryScore,\n      isCourseProgress: this.props.isCourseProgress,\n      affectProgressSectionsCount: this.props.affectProgressSectionsCount\n    };\n    return (\n      <React.Fragment>\n        <ExpandedToc {...tocProps} />\n        <Tail\n          isExpanded={isExpanded}\n          onClick={this.toggleTreeOfContentVisibility}\n          tabIndex={0}\n          ariaLabel={localize(\n            isExpanded ? '[hamburger aria label expanded]' : '[hamburger aria label collapse]'\n          )}\n        >\n          <TailIcon name=\"hamburger\" size={12} />\n        </Tail>\n        <CollapsedToc {...tocProps} />\n      </React.Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  let params = getLocationParams(QUESTION_PATH);\n  let learningObjectiveParams = getLocationParams(LEARNING_OBJECTIVE_PATH);\n  return {\n    isExpanded: getTreeOfContentVisibility(state),\n    courseStructure: getCourseStructure(state),\n    isAppInLowResolution: isLowResolution(state),\n    isLearningObjectiveView: isLearningObjectiveView.test(\n      getCurrentLocationHash().replace('#', '')\n    ),\n    activeSectionId: params.sectionId || learningObjectiveParams.sectionId,\n    activeQuestionId: params.questionId,\n    masteryScore: getMasteryScoreValue(state),\n    isCourseProgress: isOverallMasteryScore(state),\n    affectProgressSectionsCount: getAffectProgressSectionsCount(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(actions, dispatch) };\n}\n\nexport default withRouter(\n  withNavigation(\n    connect(\n      mapStateToProps,\n      mapDispatchToProps\n    )(TreeOfContent)\n  )\n);\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport Button from 'components/common/Button';\nimport { BasicStyledSidebar } from 'components/shell/Layout';\nimport { bodyBackground } from 'components/mixins/backgrounds';\n\ntype NotFoundPageSidebarProps = {\n  background: any;\n}\nexport const NotFoundPageSidebar = styled(BasicStyledSidebar) <NotFoundPageSidebarProps>`\n  ${media.tablet`\n    display: none;\n  `};\n`;\ntype NotFoundPageContentProps = {\n  background: { [key: string]: any }\n}\nexport const NotFoundPageContent = styled.div<NotFoundPageContentProps>`\n  height: 100%;\n  overflow-y: auto;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n  ${props => bodyBackground(props.background.body)};\n`;\n\ntype LogoProps = {\n  altText: string;\n  logoUrl: string;\n}\nexport const Logo = styled.img.attrs((props: LogoProps) => ({\n  alt: props.altText,\n  src: props.logoUrl\n})) <LogoProps>`\n  margin: 0 auto 140px;\n  max-width: 224px;\n  max-height: 42px;\n\n  ${media.mobile`\n    margin-top: 40px;\n  `};\n`;\n\nexport const HomeButton = styled(Button)`\n  background-color: ${props => props.theme.colors.mainColor};\n  color: ${props => props.theme.colors.buttonTextColor};\n  font-weight: 600;\n  font-size: 14px;\n  width: 198px;\n  text-align: center;\n  min-height: 50px;\n\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.mainColor, 0.9)};\n  }\n`;\n\nexport const Header = styled.h1`\n  font-size: 120px;\n  font-weight: 300;\n  line-height: 0.42;\n  opacity: 0.5;\n  margin-bottom: 48px;\n  font-family: ${props => props.theme.fonts.secondaryFont.fontFamily};\n  color: ${props => props.theme.colors.textColor};\n  ${media.mobile`\n    margin-bottom: 60px;\n    font-size: 100px;\n    line-height: 0.36;\n  `};\n`;\n\nexport const Description = styled.h2`\n  max-width: 440px;\n  text-align: center;\n  font-size: 14px;\n  line-height: 2.29;\n  margin-bottom: 24px;\n  font-family: ${props => props.theme.fonts.secondaryFont.fontFamily};\n  color: ${props => props.theme.colors.textColor};\n  ${media.mobile`\n    margin: 0 30px 32px;\n    font-size: 13px;\n    line-height: 1.85;\n  `};\n`;\n","import React, { Fragment, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { localize } from 'core/localization';\nimport { getBackground, getLogo } from 'store/settings/selectors';\nimport { INDEX_PATH } from 'constants/navigation';\nimport { BUTTON } from 'constants/components';\nimport {\n  NotFoundPageSidebar,\n  NotFoundPageContent,\n  Logo,\n  Header,\n  Description,\n  HomeButton\n} from './NotFound.styled';\nimport { RootAppState } from 'store/types';\n\ntype NotFoundProps = {\n  background: {[key: string]: any};\n  logoUrl: string\n};\n\nconst NotFound = (props: NotFoundProps) => {\n  useEffect(() => {\n    document.title = `${localize('[not found title]')}`;\n  }, []);\n\n  return (\n    <Fragment>\n      <NotFoundPageSidebar background={props.background} />\n      <NotFoundPageContent background={props.background}>\n        <Logo altText={localize('[alt logo login]')} logoUrl={props.logoUrl} />\n        <Header>404</Header>\n        <Description>{localize('[not found text]')}</Description>\n        <HomeButton link={`#${INDEX_PATH}`} target=\"_self\" layout={BUTTON.LAYOUT.PRIMARY}>\n          {localize('[home]')}\n        </HomeButton>\n      </NotFoundPageContent>\n    </Fragment>\n  );\n};\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    background: getBackground(state),\n    logoUrl: getLogo(state)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {}\n)(NotFound);\n","import React, { Component } from 'react';\nimport NotFound from '../notFound/NotFound';\n\ntype RedirectToProps = {\n  match: { [index: string]: any };\n}\nexport default function withFallbackToNotFound<T>(WrappedComponent: React.ComponentType<T>, predicateForNotFound: any) {\n  return class RedirectTo extends Component<RedirectToProps & T, {}> {\n    render() {\n      if (typeof predicateForNotFound !== 'function') {\n        return <WrappedComponent {...this.props} />;\n      }\n      if (predicateForNotFound(this.props)) {\n        return <NotFound />;\n      }\n\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n}\n","import { ActionTypes } from './types';\nimport { ThunkResult } from '../../types';\n\nexport const toggleAnswerIsSelected = (questionId: string, answerId: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED,\n    payload: { questionId, answerId }\n  });\n};\n\nexport const setSingleAnswerSelected = (questionId: string, answerId: string, questionType: string): ThunkResult => dispatch => {\n\n  switch (questionType) {\n    case ActionTypes.QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED:\n      dispatch({\n        type: ActionTypes.QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED,\n        payload: { questionId, answerId }\n      });\n      break;\n    case ActionTypes.SET_SINGLE_ANSWER_SELECTED:\n      dispatch({\n        type: ActionTypes.SET_SINGLE_ANSWER_SELECTED,\n        payload: { questionId, answerId }\n      });\n      break;\n    default:\n      dispatch({\n        type: ActionTypes.QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED,\n        payload: { questionId, answerId }\n      });\n  }\n};\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getUserAnswers } from 'store/questions/multipleChoice/selectors';\nimport { MultipleChoiceItems } from 'components/common';\nimport * as actions from 'store/questions/multipleChoice/actions';\nimport { RootAppState } from 'store/types';\n\ninterface MultipleChoiceProps {\n  id: string,\n  type: string,\n  isSingleAnswer: boolean,\n  answers?: any[],\n  actions?: { [key: string]: any },\n  isAnswered: boolean\n}\n\nexport class MultipleChoice extends React.Component<MultipleChoiceProps, {}> {\n  static defaultProps = {\n    isSingleAnswer: false,\n    answers: []\n  }\n  selectItem = (id: string, itemId: string, isMultiple: boolean) => {\n    if (isMultiple ) {\n      this.props.actions && this.props.actions.toggleAnswerIsSelected(id, itemId);\n    } else {\n      this.props.actions && this.props.actions.setSingleAnswerSelected(\n        id,\n        itemId,\n        'QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED'\n      );\n    }\n  };\n\n  render() {\n    const { answers = [], isAnswered } = this.props;\n    return (\n      <MultipleChoiceItems\n        items={answers}\n        isMultiple={!this.props.isSingleAnswer}\n        selectItem={this.selectItem}\n        id={this.props.id}\n        ariaDisabled={isAnswered}\n        tabIndex={1}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: MultipleChoiceProps) {\n  return {\n    answers: getUserAnswers(state, ownProps.id)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MultipleChoice);\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getUserAnswers } from 'store/questions/multipleChoice/selectors';\nimport { MultipleChoiceItems } from 'components/common';\nimport * as actions from 'store/questions/multipleChoice/actions';\nimport { RootAppState } from 'store/types';\n\ntype SingleChoiceImageProps = {\n  id: string;\n  type: string;\n  answers?: Array<any>;\n  actions?: { [key: string]: any };\n  isAnswered: boolean;\n};\nexport class SingleChoiceImage extends React.Component<SingleChoiceImageProps, {}> {\n\n  selectItem = (id: string, itemId: string) => {\n    this.props.actions && this.props.actions.setSingleAnswerSelected(id, itemId, 'SET_SINGLE_ANSWER_SELECTED');\n  };\n\n  render() {\n    const { answers, isAnswered } = this.props;\n    return (\n      <MultipleChoiceItems\n        items={answers || []}\n        selectItem={this.selectItem}\n        id={this.props.id}\n        imageQuestion\n        ariaDisabled={isAnswered}\n        tabIndex={1}\n        isMultiple={false}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: SingleChoiceImageProps) {\n  return {\n    answers: getUserAnswers(state, ownProps.id)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SingleChoiceImage);\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\n\nexport const QuestionContainer = styled.section.attrs({\n  'data-test': 'question-container'\n})`\n  position: relative;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\ntype QuestionContainerOverlayProps = {\n  isShown: boolean;\n  bodyBackground: any;\n}\nexport const QuestionContainerOverlay = styled.div.attrs(props => ({\n  'data-test': 'question-overlay'\n})) <QuestionContainerOverlayProps>`\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n  display: ${props => (props.isShown ? 'block' : 'none')};\n  background-color: ${props =>\n    transparentize(\n      props.bodyBackground && props.bodyBackground.color ? props.bodyBackground.color : '#fff',\n      0.5\n    )};\n`;\n","import { ActionTypes } from './types';\nimport { ThunkResult } from '../../types';\n\nexport const statementAnswerIsSelected = (questionId: string, answerId: string, isCorrect: boolean): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.QUESTION_STATEMENT_ANSWER_IS_SELECTED,\n    payload: { questionId, answerId, isCorrect }\n  });\n};\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\n\nexport const SwitchBlock = styled.div`\n  width: auto;\n  display: flex;\n  align-self: flex-start;\n  position: absolute;\n  top: 50%;\n  left: 10px;\n  margin-top: -15px;\n  ${media.mobile`\n    align-self: auto;\n    position: static;\n    margin-top: 0;\n  `};\n`;\n\nexport default SwitchBlock;\n","import * as React from 'react';\nimport { SwitchBlock } from './Switch.styled';\n\ntype SwitchContainerProps = {\n  children: any;\n};\n\nexport const SwitchContainer = (props: SwitchContainerProps) => <SwitchBlock>{props.children}</SwitchBlock>;\n\nexport default SwitchContainer;\n","const aux = (props: any) => props.children;\nexport default aux;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport buttonDefaultStyle from 'components/mixins/normalize';\n\ntype SwitchOptionProps = {\n  role: string;\n  tabIndex: number;\n  selected: any;\n  ariaDisable: boolean;\n  ariaLabel: string;\n  ariaChecked: boolean;\n}\n\nexport const SwitchOption = styled.button.attrs((props: SwitchOptionProps) => ({\n  role: props.role,\n  'aria-disabled': props.ariaDisable,\n  'aria-label': props.ariaLabel,\n  'aria-checked': props.ariaChecked,\n  tabIndex: props.tabIndex\n})) <SwitchOptionProps>`\n  ${buttonDefaultStyle};\n  flex-shrink: 0;\n  align-self: self-start;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 29px;\n  width: 30px;\n  height: 30px;\n  background-color: ${props =>\n    props.selected\n      ? props.theme.colors.mainColor\n      : transparentize(props.theme.colors.textColor, 0.06)};\n  border-radius: 50%;\n  cursor: pointer;\n\n  &:before {\n    content: '';\n    display: inline-block;\n    width: 10px;\n    height: 10px;\n    background-color: ${props =>\n    props.selected\n      ? props.theme.colors.buttonTextColor\n      : transparentize(props.theme.colors.textColor, 0.01)};\n    border-radius: 50%;\n  }\n  &:hover,\n  &:focus {\n    &:before {\n      background-color: ${props =>\n    props.selected\n      ? props.theme.colors.buttonTextColor\n      : transparentize(props.theme.colors.textColor, 0.2)};\n    }\n  }\n\n  ${media.mobile`\n    margin-bottom: 16px;\n    margin-right: 0;\n    &:first-of-type {\n      margin-right: 16px;\n    }\n    &:last-of-type {\n      margin-left: 16px;\n      margin-right: 6px;\n    }\n  `};\n`;\n\nexport default SwitchOption;\n","import * as React from 'react';\nimport Aux from '../../../common/helpers/AuxWrapper';\nimport { SwitchOption } from './Option.styled';\n\ntype OptionProps = {\n  onClick?(): void,\n  selected: boolean;\n  ariaRole: string;\n  ariaLabel: string;\n  tabIndex: number;\n  ariaDisable: boolean;\n};\n\nexport const Option = (props: OptionProps) => {\n  const { onClick, selected, ariaRole, ariaLabel, tabIndex, ariaDisable } = props;\n  return (\n    <Aux>\n      <SwitchOption\n        role={ariaRole}\n        ariaLabel={ariaLabel}\n        ariaChecked={selected}\n        onClick={onClick}\n        selected={selected}\n        tabIndex={tabIndex}\n        ariaDisable={ariaDisable}\n      />\n    </Aux>\n  );\n};\n\nexport default Option;\n","import styled from 'styled-components';\n\ntype MobileAnswerSeparatorProps = {\n  margin?: number;\n  height?: number;\n  opacity?: number;\n  color: string;\n};\n\nconst DEFAULT_PROPS = {\n  MARGIN: 32,\n  HEIGHT: 2,\n  OPACITY: 0.08\n}\n\nexport const MobileAnswerSeparator = styled.div<MobileAnswerSeparatorProps>`\n  position: relative;\n  width: 60px;\n  height: ${props => (props.height || DEFAULT_PROPS.HEIGHT) + (props.margin || DEFAULT_PROPS.MARGIN) * 2}px;\n\n  &:after {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: ${props => props.height || DEFAULT_PROPS.HEIGHT}px;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 0;\n    background-color: ${props =>\n    props.theme.colors[props.color]\n      ? props.theme.colors[props.color]\n      : props.theme.colors.ctaButtonColor};\n    opacity: ${props => (props.opacity ? props.opacity : 0.08)};\n  }\n`;\n\nexport default MobileAnswerSeparator;\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\nimport { secondaryFont, bold } from 'components/mixins/typography';\nimport Switch from './Switch/Switch.styled';\nimport MobileAnswerSeparator from './MobileAnswerSeparator';\n\ntype AnswerTextProps = {\n  id: string;\n}\nexport const AnswerText = styled(Text) <AnswerTextProps>`\n  width: 100%;\n  line-height: 1.5;\n  padding-left: 138px;\n  color: ${props => props.theme.colors.textColor};\n  ${media.mobile`\n    padding-left: 0;\n  `};\n`;\n\nexport const CaptionMobileContainer = styled.div`\n  width: auto;\n  display: flex;\n  align-self: flex-start;\n  ${media.mobile`\n    display: none;\n    align-self: auto;\n  `};\n`;\n\nexport const CaptionWrapper = styled.div`\n  width: auto;\n  padding-right: 6px;\n  min-width: 119px;\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const Caption = styled.div`\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  flex-shrink: 0;\n  align-items: center;\n  align-self: self-start;\n  justify-content: center;\n  width: 50px;\n  height: 24px;\n  margin-right: 7px;\n  margin-bottom: 18px;\n  padding: 2px 3px 4px;\n  background-color: ${props => transparentize(props.theme.colors.ctaButtonColor, 0.5)};\n  border-radius: 5px;\n  ${secondaryFont};\n  font-size: 12px;\n  ${bold};\n  text-align: center;\n  color: ${props => props.theme.colors.buttonTextColor};\n\n  &:first-of-type {\n    margin-right: 0;\n  }\n  &:last-of-type {\n    margin-left: 9px;\n  }\n  &:after {\n    content: '';\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -4px;\n    border: 4px solid transparent;\n    border-top: 4px solid ${props => transparentize(props.theme.colors.ctaButtonColor, 0.5)};\n  }\n  ${media.mobile`\n    margin-bottom: 2px;\n  `};\n`;\n\nexport const TextWrapper = styled.span`\n  width: 100%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  line-height: normal;\n`;\n\nexport const AnswersList = styled.ul`\n  width: 100%;\n`;\n\ntype CaptionContainerProps = {\n  ariaHidden: boolean;\n}\nexport const CaptionContainer = styled.li.attrs((props: CaptionContainerProps) => ({\n  'aria-hidden': props.ariaHidden\n})) <CaptionContainerProps>`\n  display: flex;\n  align-self: flex-start;\n  width: auto;\n  ${media.mobile`\n    display: none;\n    align-self: auto;\n  `};\n`;\n\ntype AnswerListItemProps = {\n  tabIndex?: number;\n  ariaLabel: string;\n  role: string;\n  key: any;\n}\nexport const AnswerListItem = styled.li.attrs((props: AnswerListItemProps) => ({\n  tabIndex: props.tabIndex || 0,\n  'aria-label': props.ariaLabel,\n  role: props.role\n})) <AnswerListItemProps>`\n  display: flex;\n  align-items: center;\n  min-height: 50px;\n  padding: 10px 0;\n  transition: background-color 0.2s linear;\n  position: relative;\n  & ${Switch} {\n    &:before {\n      opacity: 0;\n      transition: opacity 0.2s linear;\n    }\n  }\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.textColor, 0.06)};\n  }\n  &:hover ${Switch}, &:focus ${Switch} {\n    &:before {\n      opacity: 1;\n    }\n  }\n  ${MobileAnswerSeparator} {\n    display: none;\n  }\n  &:last-of-type {\n    ${MobileAnswerSeparator} {\n      display: none;\n    }\n  }\n  ${CaptionMobileContainer} {\n    display: none;\n  }\n  ${media.mobile`\n    flex-direction: column;\n    p {\n      text-align: center;\n    }\n    ${css`{\n      ${MobileAnswerSeparator} {\n        display: block;\n      }\n      ${CaptionMobileContainer} {\n        width: auto;\n        display: flex;\n        margin-bottom: 10px;\n        ${CaptionWrapper} {\n          width: auto;\n          min-width: 119px;\n          padding-right: 6px;\n          display: flex;\n          justify-content: space-between;\n  \n          ${Caption} {\n            &:first-of-type {\n              margin-right: 0;\n            }\n            &:last-of-type {\n              margin-left: calc(30% - 20px);\n              margin-right: calc(22% - 21px);\n            }\n          }\n        }\n      }\n    }`}\n  `};\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { localize } from 'core/localization';\nimport { getUserAnswers } from 'store/questions/statementChoice/selectors';\nimport * as actions from 'store/questions/statementChoice/actions';\nimport Switch from './Switch/index';\nimport Option from './Option/index';\nimport MobileAnswerSeparator from './MobileAnswerSeparator';\nimport {\n  AnswersList,\n  AnswerListItem,\n  AnswerText,\n  CaptionContainer,\n  CaptionMobileContainer,\n  CaptionWrapper,\n  Caption,\n  TextWrapper\n} from './Statement.styled';\nimport { RootAppState } from 'store/types';\n\ntype StatementChoiceProps = {\n  id: string;\n  type: string;\n  answers?: Array<any>;\n  actions?: { [key: string]: any };\n  isAnswered: boolean;\n};\n\ntype StatementChoiceState = {\n  answers: Array<any>;\n  isAnswered: boolean;\n}\n\nexport class StatementChoice extends React.Component<StatementChoiceProps, StatementChoiceState> {\n  constructor(props: StatementChoiceProps) {\n    super(props);\n    this.state = {\n      answers: this.props.answers || [],\n      isAnswered: this.props.isAnswered\n    };\n  }\n\n  statementAnswerIsSelected = (answer: any, isTrue: boolean) => {\n    const { id } = this.props;\n    const { answers } = this.state;\n    answers.forEach(a => {\n      if (answer.id === a.id) {\n        answer.userSelected = true;\n        answer.isTrue = isTrue;\n      }\n    });\n    this.props.actions && this.props.actions.statementAnswerIsSelected(id, answer.id, answer.isTrue);\n    this.setState({ answers });\n  };\n\n  componentDidUpdate(prevProps: StatementChoiceProps) {\n    if (this.props.id !== prevProps.id || this.props.answers !== prevProps.answers) {\n      this.setState({\n        answers: this.props.answers || [],\n        isAnswered: this.props.isAnswered\n      });\n    }\n  }\n\n  render() {\n    const { answers, isAnswered } = this.state;\n    const trueText = localize('[statement question true text]', 'True');\n    const falseText = localize('[statement question false text]', 'False');\n    return (\n      <AnswersList>\n        <CaptionContainer ariaHidden={true}>\n          <CaptionWrapper>\n            <Caption>\n              <TextWrapper title={trueText}>{trueText}</TextWrapper>\n            </Caption>\n            <Caption>\n              <TextWrapper title={falseText}>{falseText}</TextWrapper>\n            </Caption>\n          </CaptionWrapper>\n        </CaptionContainer>\n        {answers.map((answer: any, index:any) => (\n          <AnswerListItem key={index} role=\"radiogroup\" ariaLabel={`answer${index}`} aria-labelledby={`answer${index}`}>\n            <CaptionMobileContainer>\n              <CaptionWrapper>\n                <Caption>\n                  <TextWrapper title={trueText}>{trueText}</TextWrapper>\n                </Caption>\n                <Caption>\n                  <TextWrapper title={falseText}>{falseText}</TextWrapper>\n                </Caption>\n              </CaptionWrapper>\n            </CaptionMobileContainer>\n            <Switch>\n              <Option\n                onClick={\n                  isAnswered ? undefined : () => this.statementAnswerIsSelected(answer, true)\n                }\n                ariaRole=\"radio\"\n                ariaLabel=\"true\"\n                selected={answer.isTrue && answer.userSelected}\n                tabIndex={1}\n                ariaDisable={isAnswered}\n              />\n              <Option\n                onClick={\n                  isAnswered ? undefined : () => this.statementAnswerIsSelected(answer, false)\n                }\n                ariaRole=\"radio\"\n                ariaLabel=\"false\"\n                selected={!answer.isTrue && answer.userSelected}\n                tabIndex={1}\n                ariaDisable={isAnswered}\n              />\n            </Switch>\n            <AnswerText id={`answer${index}`} appearance=\"p\">\n              {answer.text}\n            </AnswerText>\n            <MobileAnswerSeparator opacity={0.1} color=\"textColor\" />\n          </AnswerListItem>\n        ))}\n      </AnswersList>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: StatementChoiceProps) {\n  return {\n    answers: getUserAnswers(state, ownProps.id)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(StatementChoice);\n","import { ActionTypes } from './types';\nimport { ThunkResult } from '../../types';\n\nexport const openQuestionAnswerIsSelected = (\n  questionId: string,\n  answeredText: string\n): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.OPEN_QUESTION_ANSWER_IS_SELECTED,\n    payload: { questionId, answeredText }\n  });\n};\n","import styled from 'styled-components';\nimport * as typography from 'components/mixins/typography';\nimport media from 'components/mixins/media';\nimport { transparentize } from 'utils/color';\n\nexport const EditableContainer = styled.div`\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  padding-top: 27px;\n  padding-bottom: 60px;\n  margin: auto 0;\n  box-sizing: border-box;\n  position: relative;\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 40px;\n    border-left: 1px solid ${props => transparentize(props.theme.colors.mainColor, 0.7)};\n    transform: translate(-50%);\n  }\n\n  textarea {\n    ${typography.secondaryFontText};\n    box-sizing: border-box;\n    padding: 4px 60px 29px 70px;\n    line-height: 39px;\n    ${media.mobile`\n      padding: 4px 29px 29px 40px\n    `};\n  }\n  ${media.mobile`\n    &:after {\n      left: 30px;\n    }\n  `};\n`;\n\nexport default EditableContainer;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getUserAnswers } from 'store/questions/openQuestion/selectors';\nimport * as actions from 'store/questions/openQuestion/actions';\nimport { localize } from 'core/localization';\nimport EditableTextarea from 'components/common/EditableTextarea';\nimport { EditableContainer } from './OpenQuestion.styled';\nimport { RootAppState } from 'store/types';\n\ntype OpenQuestionProps = {\n  id: string;\n  type: string;\n  answers?: { [key: string]: any };\n  actions?: { [key: string]: any };\n  isAnswered?: boolean;\n};\n\ntype OpenQuestionState = {\n  answers: { [key: string]: any };\n}\n\nexport class OpenQuestion extends React.PureComponent<OpenQuestionProps, OpenQuestionState> {\n  constructor(props: OpenQuestionProps) {\n    super(props);\n    this.state = {\n      answers: this.props.answers || {}\n    };\n  }\n\n\n  componentDidUpdate(prevProps: OpenQuestionProps) {\n    if (this.props.id !== prevProps.id || this.props.answers !== prevProps.answers) {\n      this.setState({\n        answers: this.props.answers || {}\n      });\n    }\n  }\n\n  onChangeHandler(event: any) {\n    const { answers = {} } = this.props;\n    answers.answeredText = event.target.value;\n    this.setState({\n      answers\n    });\n  }\n\n  onFocusOutTextArea() {\n    const { answers } = this.state;\n    this.props.actions && this.props.actions.openQuestionAnswerIsSelected(answers.id, answers.answeredText);\n  }\n\n  render() {\n    const { isAnswered = false, answers = {} } = this.props;\n    return (\n      <EditableContainer>\n        <EditableTextarea\n          placeholder={`${localize('[placeholder textarea]')}`}\n          onResize={() => { }}\n          onBlur={() => this.onFocusOutTextArea()}\n          onChange={(e: any) => this.onChangeHandler(e)}\n          defaultValue={answers.answeredText}\n          disabled={isAnswered}\n          tabIndex={1}\n        />\n      </EditableContainer>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: OpenQuestionProps) {\n  return {\n    answers: getUserAnswers(state, ownProps.id)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(OpenQuestion);\n","export const shuffle = (obj: any) => {\n  let ctr = obj.length;\n  let temp;\n  let index;\n  while (ctr > 0) {\n    index = Math.floor(Math.random() * ctr);\n    ctr--;\n    temp = obj[ctr];\n    obj[ctr] = obj[index];\n    obj[index] = temp;\n  }\n  return obj;\n};\n\nexport default shuffle;\n","import { ActionTypes } from './types';\nimport { ThunkResult } from '../../types';\n\nexport const rankingAnswersAreSelected = (answers: any, questionId: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.QUESTION_RANKING_ANSWERS_ARE_SELECTED,\n    payload: { answers, questionId }\n  });\n};\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport shuffle from 'utils/shuffle';\nimport { getUserAnswers, getUserResponse } from 'store/questions/rankingText/selectors';\nimport * as actions from 'store/questions/rankingText/actions';\nimport { DragDrop } from 'components/common';\nimport { RootAppState } from 'store/types';\n\ntype RankingTextProps = {\n  id: string;\n  type: string;\n  answers?: Array<any>;\n  actions?: { [key: string]: any };\n  isMultipleList?: boolean;\n  response?: Array<any>;\n};\n\nexport class RankingText extends React.Component<RankingTextProps, {}> {\n  moveItem(items: any, id: string, action: any) {\n    action.rankingAnswersAreSelected(items, id);\n  }\n\n  render() {\n    const { answers, response = [] } = this.props;\n    const elements = response.length ? response : shuffle(answers);\n    const listsOfItems = [{ id: this.props.id, items: elements }];\n    return (\n      <DragDrop\n        moveItem={this.moveItem}\n        actions={this.props.actions}\n        id={this.props.id}\n        isMultipleList={false}\n        listsOfItems={listsOfItems}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: RankingTextProps) {\n  return {\n    answers: getUserAnswers(state, ownProps.id),\n    response: getUserResponse(state, ownProps.id)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RankingText);\n","import { ActionTypes } from './types';\nimport { ThunkResult } from '../../types';\n\nexport const scenarioBranchtrackData = (score: number, isFinished: boolean, questionId: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.QUESTION_SCENARIO_BRANCHTRACK_DATA,\n    payload: { score, isFinished, questionId }\n  });\n};\n","class BranchtrackProvider {\n  public static instances: { [key: string]: any };\n  private static messageProvider: string;\n  private static eventOrigin: string;\n  private static supportedMessageTypes: { [key: string]: any };\n  constructor() {\n    BranchtrackProvider.instances = {};\n    BranchtrackProvider.messageProvider = 'branchtrack';\n    BranchtrackProvider.eventOrigin = 'https://www.branchtrack.com';\n    BranchtrackProvider.supportedMessageTypes = {\n      // first time init\n      init: 'branchtrack:player:init',\n      // start of playing, t.i. before first scene appear, including on restart\n      start: 'branchtrack:player:start',\n      // new scene shown\n      scene: 'branchtrack:player:scene',\n      // user hit the choice\n      choice: 'branchtrack:player:choice',\n      // user reached last scene\n      finish: 'branchtrack:player:finish',\n      // user finished success\n      success: 'branchtrack:player:finish:success'\n    };\n  }\n\n  public createInstance(projectId: string) {\n    if (!projectId) {\n      return;\n    }\n    if (this.isEmpty(BranchtrackProvider.instances)) {\n      this.subscribeMessageEvent();\n    }\n\n    const branchtrack = new BranchtrackInstance(projectId);\n\n    BranchtrackProvider.instances[projectId] = branchtrack;\n    return branchtrack;\n  }\n\n  // TODO: need to clarify\n\n  public destroyInstance(instance: any) {\n    if (typeof BranchtrackProvider.instances[instance.projectId] !== 'undefined') {\n      delete BranchtrackProvider.instances[instance.projectId];\n    }\n\n    if (this.isEmpty(BranchtrackProvider.instances)) {\n      this.unsubscribeMessageEvent();\n    }\n  }\n\n  private subscribeMessageEvent() {\n    window.addEventListener('message', this.messageEventHadler);\n  }\n\n  private unsubscribeMessageEvent() {\n    window.removeEventListener('message', this.messageEventHadler);\n  }\n\n  private messageEventHadler(event: any) {\n    let data = null;\n\n    try {\n      if (event.origin === BranchtrackProvider.eventOrigin) {\n        data = JSON.parse(event.data);\n\n        if (data.provider !== BranchtrackProvider.messageProvider) {\n          return;\n        }\n        const messageDataType = data.type;\n        const projectId =\n          messageDataType !== BranchtrackProvider.supportedMessageTypes.success ? data.details.project.token : '';\n        const branchtrackInstance = BranchtrackProvider.instances[projectId];\n        if (typeof branchtrackInstance === 'undefined' || branchtrackInstance === null) {\n          return;\n        }\n        if (messageDataType === BranchtrackProvider.supportedMessageTypes.scene) {\n          if (typeof data.details.playlog.score === 'number' && data.details.playlog.score > 0) {\n            branchtrackInstance.score = data.details.playlog.score;\n          } else if (typeof data.details.scene.score === 'number' && data.details.scene.score > 0) {\n            branchtrackInstance.score = data.details.scene.score;\n          }\n        }\n        if (messageDataType === BranchtrackProvider.supportedMessageTypes.finish) {\n          branchtrackInstance.isFinished = true;\n        }\n      }\n    } catch (err) {\n      return false;\n    }\n  }\n\n  private isEmpty(obj: any) {\n    for (const key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n\nclass BranchtrackInstance {\n  projectId: string;\n  score: number;\n  isFinished: boolean;\n\n  constructor(projectId: string) {\n    this.projectId = projectId;\n    this.score = 0;\n    this.isFinished = false;\n  }\n}\n\nexport default new BranchtrackProvider();\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\n\nexport const ScenarioIframeSection = styled.div`\n  width: 100%;\n  & > iframe {\n    width: 100%;\n  }\n`;\nexport const ScenarioResults = styled.div`\n  width: 100%;\n  height: 500px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  & > p {\n    color: ${props => transparentize(props.theme.colors.textColor, 0.6)};\n    font-size: 18px;\n    font-weight: bold;\n    margin-left: 15px;\n  }\n`;\n\nexport const IconContainer = styled.div`\n  width: 29px;\n  height: 29px;\n  border: 2px solid ${props => transparentize(props.theme.colors.textColor, 0.6)};\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  & > .icon {\n    color: ${props => transparentize(props.theme.colors.textColor, 0.6)};\n    font-size: 13px;\n  }\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getEmbedCode, getProjectId, getUserAnswers } from 'store/questions/scenario/selectors';\nimport * as actions from 'store/questions/scenario/actions';\nimport Text from 'components/common/Text';\nimport Icon from 'components/common/Icon';\nimport { localize } from 'core/localization';\nimport BranchtrackProvider from './BranchTrackProvider/branchtrackProviderPlugin';\nimport { ScenarioIframeSection, ScenarioResults, IconContainer } from './Scenario.styled';\nimport { RootAppState } from 'store/types';\n\ntype ScenarioProps = {\n  actions?: { [key: string]: any };\n  answers?: { [key: string]: any };\n  embedCode?: any;\n  questionId?: string;\n  projectId?: string;\n  isAnsweredCorrectly?: boolean;\n  isAnswered: boolean;\n  id: string;\n  type: string;\n};\n\nexport class Scenario extends React.Component<ScenarioProps, {}> {\n  question: any;\n  instance: any;\n  refFrameScenario: any;\n  instanceId: string;\n  embedCode: any;\n  score: number;\n  branchtrack: any;\n\n  constructor(props: ScenarioProps) {\n    super(props);\n    this.question = null;\n    this.instance = null;\n    this.refFrameScenario = React.createRef();\n    this.instanceId = props.projectId || '';\n    this.embedCode = props.embedCode;\n    this.score = this.getScoreBranchtrack();\n    this.branchtrack = BranchtrackProvider;\n  }\n\n  getEmbedHtml() {\n    return { __html: this.embedCode };\n  }\n\n  resetInstace() {\n    if (this.instance) {\n      this.instance.score = 0;\n      this.instance.isFinished = false;\n    }\n  }\n\n  branchTrackEventHandler = () => {\n    const { answers = {} } = this.props;\n    if (this.instance) {\n      answers.score = this.instance.score;\n      answers.isFinished = this.instance.isFinished;\n      this.props.actions && this.props.actions.scenarioBranchtrackData(\n        answers.score,\n        answers.isFinished,\n        this.props.questionId\n      );\n    }\n  };\n\n  initBranchtrack() {\n    if (this.instanceId) {\n      this.instance = this.branchtrack.createInstance(this.instanceId);\n      this.props.answers && (this.props.answers.isFinished = this.instance.isFinished);\n    }\n  }\n\n  getScoreBranchtrack() {\n    if (this.instance) {\n      return this.instance.score;\n    }\n\n    return 0;\n  }\n\n  componentDidMount() {\n    this.initBranchtrack();\n    if (this.refFrameScenario.current) {\n      this.refFrameScenario.current.getElementsByTagName('iframe')[0].setAttribute('tabIndex', 1);\n    }\n    window.addEventListener('message', this.branchTrackEventHandler);\n  }\n\n  componentDidUpdate() {\n    if (!this.props.isAnsweredCorrectly && this.props.isAnswered) {\n      this.resetInstace();\n    }\n  }\n\n  componentWillUnmount() {\n    this.branchtrack.destroyInstance(this.instance);\n    window.removeEventListener('message', this.branchTrackEventHandler);\n  }\n\n  render() {\n    return !this.props.isAnsweredCorrectly && !this.props.isAnswered ? (\n      <ScenarioIframeSection\n        ref={this.refFrameScenario}\n        dangerouslySetInnerHTML={this.getEmbedHtml()}\n      />\n    ) : (\n        <ScenarioResults>\n          <IconContainer>\n            <Icon name=\"info\" />\n          </IconContainer>\n          <Text appearance=\"p\">{localize('[scenario submitted]')}</Text>\n        </ScenarioResults>\n      );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: ScenarioProps) {\n  return {\n    embedCode: getEmbedCode(state, ownProps.id),\n    projectId: getProjectId(state, ownProps.id),\n    answers: getUserAnswers(state, ownProps.id),\n    questionId: ownProps.id\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Scenario);\n","import {ActionTypes} from './types';\nimport { ThunkResult } from '../../types';\n\nexport const fillInTheBlankAnswer = (questionId: string, data: any): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.FILL_IN_THE_BLANK_ANSWER,\n    payload: { questionId, data }\n  });\n};\n","import styled from 'styled-components';\nimport * as typography from 'components/mixins/typography';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\n\nexport const AnswerContentWrapper = styled.div`\n  ${typography.secondaryFontText};\n  color: ${props => props.theme.colors.textColor};\n  padding: 0;\n  line-height: 60px;\n\n  .dropdown > div {\n    display: flex !important;\n  }\n\n  h1 {\n    ${typography.mainFontH1};\n  }\n  h2 {\n    ${typography.mainFontH2};\n  }\n  h3 {\n    ${typography.mainFontH3};\n  }\n  h4 {\n    ${typography.mainFontH4};\n  }\n\n  mark {\n    ${typography.highlighted};\n  }\n\n  cite {\n    display: block;\n    margin: 54px 0 54px 30px;\n    padding-left: 30px;\n    border-left: 2px solid ${props => props.theme.colors.mainColor};\n    ${typography.quote};\n    ${media.mobile`\n      margin: 44px 0;\n      padding-left: 0;\n      border-left: 0;\n      text-align: center;\n      &:before{\n        content: '';\n        display: block;\n        width: 25%;\n        height: 2px;\n        margin: 0 auto 20px;\n        background-color: ${(props: any) => props.theme.colors.mainColor};\n      }\n    `};\n  }\n\n  ol {\n    list-style-type: decimal;\n  }\n\n  ul {\n    list-style-type: disc;\n  }\n\n  b {\n    font-weight: bolder;\n  }\n\n  em {\n    font-style: italic;\n  }\n\n  u {\n    text-decoration: underline;\n  }\n\n  sub {\n    vertical-align: sub;\n    font-size: smaller;\n  }\n\n  sup {\n    vertical-align: super;\n    font-size: smaller;\n  }\n\n  p {\n    cite {\n      img {\n        &[align='left'],\n        &[style*='float: left'],\n        &[style*='float:left'],\n        &[align='right'],\n        &[style*='float: right'],\n        &[style*='float:right'] {\n          margin: auto 15px;\n        }\n      }\n    }\n\n    img {\n      display: block;\n      max-width: 100%;\n      height: auto !important;\n      margin: 15px auto;\n\n      &[align='left'],\n      &[style*='float: left'],\n      &[style*='float:left'],\n      &[align='right'],\n      &[style*='float: right'],\n      &[style*='float:right'] {\n        margin: 15px;\n        max-width: 60%;\n      }\n\n      ${media.xsmall`\n        &[align='left'],\n        &[align='right'],\n        &[style*='float'] {\n          margin: 15px auto;\n          max-width: 100%;\n        }\n      `}\n    }\n  }\n\n  .fib-table-wrapper {\n    display: block;\n    overflow: auto;\n    text-align: center;\n  }\n\n  table {\n    ${typography.mainFont};\n    table-layout: fixed;\n    margin: 15px auto;\n    border: none;\n    border-collapse: collapse;\n    text-align: left;\n    display: inline-table;\n    line-height: normal;\n    vertical-align: top;\n\n    &[align='center'] {\n      margin: 15px auto;\n    }\n\n    input {\n      min-width: 0;\n      max-width: 100%;\n    }\n\n    caption {\n      margin-bottom: 16px;\n      ${typography.mainFontH4};\n    }\n\n    thead {\n      tr {\n        th {\n          padding: 13px 15px 11px;\n          background-color: ${props => props.theme.colors.mainColor};\n          color: ${props => props.theme.colors.contentBodyColor};\n        }\n      }\n    }\n    tbody {\n      tr {\n        td,\n        th {\n          padding: 21px 15px 21px;\n          border-bottom: 1px solid ${props => transparentize(props.theme.colors.textColor, 0.08)};\n          white-space: normal;\n          word-break: break-word;\n          overflow: hidden;\n        }\n\n        th {\n          background-color: ${props => props.theme.colors.mainColor};\n          color: ${props => props.theme.colors.contentBodyColor};\n        }\n      }\n    }\n  }\n`;\n\nexport const AnswerContainer = styled.div``;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getUserAnswers } from 'store/questions/fillInTheBlank/selectors';\nimport * as actions from 'store/questions/fillInTheBlank/actions';\nimport Parser from 'html-react-parser';\nimport domToReact from 'html-react-parser/lib/dom-to-react';\nimport { localize } from 'core/localization';\nimport TextInput from '../../common/TextInput';\nimport DropdownInput from '../../common/DropdownInput';\nimport { AnswerContainer, AnswerContentWrapper } from './FillInTheBlank.styled';\nimport { RootAppState } from 'store/types';\n\ntype FillInTheBlankProps = {\n  id: string;\n  type: string;\n  answerGroups?: { [key: string]: any };\n  actions?: { [key: string]: any };\n  children?: any;\n  questionContent?: any;\n  state?: { [key: string]: any };\n  isAnswered: boolean;\n};\n\ntype FillInTheBlankState = {\n  answerGroups: any;\n}\nexport class FillInTheBlank extends React.Component<FillInTheBlankProps, FillInTheBlankState> {\n  constructor(props: FillInTheBlankProps) {\n    super(props);\n    this.state = {\n      answerGroups: props.answerGroups\n    };\n  }\n\n  componentDidMount() {\n    const { answerGroups } = this.state;\n    this.props.actions && this.props.actions.fillInTheBlankAnswer(answerGroups.id, answerGroups.userAnswers);\n    this.wrappTables();\n  }\n\n  componentDidUpdate(prevProps: FillInTheBlankProps) {\n    if (prevProps.id !== this.props.id || prevProps.answerGroups !== this.props.answerGroups) {\n      this.setState({\n        answerGroups: this.props.answerGroups\n      });\n    }\n    this.wrappTables();\n  }\n\n  wrappTables = () => {\n    const el: any = document.querySelectorAll('div>table');\n    for (let i = 0; i < el.length; i++) {\n      const wrapper = document.createElement('figure');\n      el[i].parentNode.insertBefore(wrapper, el[i]);\n      wrapper.setAttribute('class', 'fib-table-wrapper');\n      wrapper.appendChild(el[i]);\n    }\n  };\n\n  onSelectChange(name: string, option: any) {\n    const { answerGroups } = this.state;\n    answerGroups.userAnswers = { ...answerGroups.userAnswers, [name]: option.value };\n    this.props.actions && this.props.actions.fillInTheBlankAnswer(answerGroups.id, answerGroups.userAnswers);\n  }\n\n  onInputFocusOut(event: any) {\n    const { answerGroups } = this.state;\n    answerGroups.userAnswers = {\n      ...answerGroups.userAnswers,\n      [event.target.name]: event.target.value\n    };\n    this.props.actions && this.props.actions.fillInTheBlankAnswer(answerGroups.id, answerGroups.userAnswers);\n  }\n\n  render() {\n    const { answerGroups } = this.state;\n    const { isAnswered } = this.props;\n\n    const parseSelect = {\n      replace: (data: { attribs: any, children: any }) => {\n        const { attribs, children } = data;\n        if (!attribs) {\n          return;\n        }\n        const dataId = attribs['data-group-id'];\n        const answerValue = answerGroups.userAnswers[dataId];\n\n        if (attribs.class === 'blankSelect') {\n          return (\n            <DropdownInput\n              popoverPosition={'bottom'}\n              key={dataId}\n              name={dataId}\n              onChange={(event: any) => this.onSelectChange(dataId, event)}\n              value={answerValue}\n              placeholder={`${localize('[placeholder dropdown]')}`}\n              answeredPlaceholder={`${localize('[label your choice is]')}`}\n              data={domToReact(children, parseSelect).map((option: any) => ({\n                value: option.props.value || ''\n              }))}\n              disabled={isAnswered}\n            >\n              {domToReact(children, parseSelect)}\n            </DropdownInput>\n          );\n        }\n\n        if (attribs.class === 'blankInput') {\n          return (\n            <TextInput\n              tabIndex={1}\n              key={dataId}\n              placeholder={`${localize('[placeholder text input]')}`}\n              name={dataId}\n              onBlur={(event: any) => this.onInputFocusOut(event)}\n              value={answerValue}\n              disabled={isAnswered}\n            />\n          );\n        }\n      }\n    };\n\n    if (!answerGroups.questionContent) {\n      answerGroups.questionContent = {\n        value: ''\n      }\n    }\n\n    if (!answerGroups.questionContent.value) {\n      answerGroups.questionContent.value = ''\n    }\n\n    return (\n      <AnswerContainer>\n        <AnswerContentWrapper>\n          {Parser(answerGroups.questionContent.value, parseSelect) || null}\n        </AnswerContentWrapper>\n      </AnswerContainer>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: FillInTheBlankProps) {\n  return {\n    answerGroups: getUserAnswers(state, ownProps.id)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FillInTheBlank);\n","import { IMAGE_DEFAULT_DOMAIN } from 'constants/common';\nimport { getImageNameByUrl } from 'utils/image';\nimport requester from './requester';\n\nconst getImage = async (relativeUrl: any) =>\n  requester.get(`${relativeUrl}`, { mode: 'no-cors', noCache: true });\n\nconst getImageCheckUrl = (imageUrl: any) => {\n  const imageName = getImageNameByUrl(imageUrl);\n  const imageFolderUrl = imageUrl.substring(0, imageUrl.indexOf('image/') + 6);\n\n  return imageFolderUrl.indexOf(IMAGE_DEFAULT_DOMAIN) !== -1\n    ? `${imageFolderUrl}exist/${imageName}`\n    : imageUrl;\n};\n\nexport default {\n  async isImageExists(imageUrl: any) {\n    const requestUrl = getImageCheckUrl(imageUrl);\n    const response = await getImage(requestUrl);\n    if (response.status === 404) {\n      return false;\n    }\n    return true;\n  }\n};\n","import { ActionTypes } from './types';\nimport { ThunkResult } from '../../types';\n\nexport const dragAndDropAnswersAreSelected = (\n  answers: any,\n  questionId: string\n): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.QUESTION_DRAG_AND_DROP_ANSWERS_ARE_SELECTED,\n    payload: { answers, questionId }\n  });\n};\n","import styled, { css } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\n\ntype DragDropMobileWrapperProps = {\n  isImageLoaded: boolean;\n  isImageNotFound: boolean;\n}\nexport const DragDropMobileWrapper = styled.div<DragDropMobileWrapperProps>`\n  height: ${props => (props.isImageLoaded ? 'auto' : '182px')};\n  background: ${props =>\n    props.isImageNotFound || !props.isImageLoaded\n      ? transparentize(props.theme.colors.textColor, 0.02)\n      : 'transparent'};\n  padding: ${props => (props.isImageNotFound ? '16px 0' : '0')};\n\n  img {\n    display: block;\n    opacity: ${props => (props.isImageLoaded ? '1' : '0')};\n    max-width: 100%;\n    margin: ${props => (props.isImageNotFound ? '0 auto' : '0')};\n  }\n\n  ${media.xlarge`\n    overflow-x: auto;\n    -webkit-overflow-scrolling: auto;\n    position: relative;\n    display: block;\n    width: 100%;\n\n    img {\n      max-width: none;\n    }\n  `};\n`;\n\ntype DragDropMobileProps = {\n  position: any;\n  isImageLoaded: boolean;\n}\nexport const DragDropMobile = styled.div<DragDropMobileProps>`\n  ${props =>\n    props.position\n      ? css`\n          position: absolute;\n          top: ${props.position.y}px;\n          left: ${props.position.x}px;\n          transition: 0.3s;\n          transform: ${!props.isImageLoaded ? 'scale(0)' : ''};\n          opacity: ${!props.isImageLoaded ? '0.8' : '1'};\n        `\n      : css``};\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { NO_SELECTED_ID } from 'constants/common';\nimport DropdownInput from 'components/common/DropdownInput';\nimport CircleLoader from 'components/common/CircleLoader';\nimport { DragDropMobileWrapper, DragDropMobile } from './DragAndDropText.styles';\n\ntype DragAndDropMobileProps = {\n  id: string;\n  background?: any;\n  moveItem(arg1: any, arg2: any, arg3: any): void;\n  listsOfItems: any[];\n  dropspots?: any[];\n  response?: any[];\n  actions?: { [key: string]: any };\n  setPositionDependingImageScale?(): void;\n  handleImageLoaded(options1: any, options2: any): void;\n  isImageLoaded: boolean;\n  isImageNotFound: boolean;\n};\n\ntype DragAndDropMobileState = {\n  listsOfItems: any[];\n}\n\nexport class DragAndDropMobile extends React.Component<DragAndDropMobileProps, DragAndDropMobileState> {\n  imageRefs: any;\n  constructor(props: DragAndDropMobileProps) {\n    super(props);\n    this.imageRefs = React.createRef();\n    this.state = {\n      listsOfItems: props.listsOfItems\n    };\n  }\n\n  onSelectElement = (value: any, element: any, listsOfItems: any) => {\n    let droppableElement: any = [];\n    let destination: any = [];\n    if (element.current) {\n      return;\n    }\n    listsOfItems.forEach((list: any, index: any) => {\n      if (list.id === value) {\n        destination = index;\n      }\n    });\n\n    if (element.selected === undefined) {\n      if (listsOfItems[destination].items.length) {\n        listsOfItems[0].items.push(listsOfItems[destination].items[0]);\n      }\n      listsOfItems[0].items.forEach((item: any, index: any) => {\n        if (item.id === element.id) {\n          droppableElement = listsOfItems[0].items.splice(index, 1);\n        }\n      });\n    } else {\n      listsOfItems.forEach((item: any, index: any) => {\n        if (item.id === value && item.items.length) {\n          listsOfItems[0].items.push(listsOfItems[index].items[0]);\n        }\n        if (item.selected === element.value) {\n          droppableElement = listsOfItems[index].items.splice(0, 1);\n        }\n      });\n      if (element.selected === '') {\n        listsOfItems[0].items.forEach((item: any, index: any) => {\n          if (item.id === element.id) {\n            droppableElement = listsOfItems[0].items.splice(index, 1);\n          }\n        });\n      }\n    }\n\n    listsOfItems[destination].items = droppableElement;\n    this.setState({ listsOfItems });\n    this.props.moveItem(this.state.listsOfItems, this.props.id, this.props.actions);\n  };\n\n  render() {\n    const { dropspots = [], background = '', isImageLoaded, isImageNotFound } = this.props;\n    const { listsOfItems } = this.state;\n    const originalDropspots = dropspots.map(dropspot => ({\n      id: dropspot.id,\n      text: dropspot.text,\n      x: dropspot.x,\n      y: dropspot.y,\n      selected: ''\n    }));\n    const listsOfItemsMobile = Array.from(listsOfItems);\n    listsOfItemsMobile.forEach(element => {\n      if (element.items.length && element.id !== NO_SELECTED_ID) {\n        originalDropspots.forEach(item => {\n          if (item.text === element.items[0].text) {\n            item.selected = item.text;\n          }\n        });\n        element.selected = element.items[0].text;\n        element.isDropDisabled = true;\n      } else {\n        element.selected = '';\n        element.isDropDisabled = false;\n      }\n    });\n    return (\n      <DragDropMobileWrapper isImageLoaded={isImageLoaded} isImageNotFound={isImageNotFound}>\n        {!isImageNotFound &&\n          listsOfItemsMobile.map(\n            item =>\n              item.id !== NO_SELECTED_ID && (\n                <DragDropMobile\n                  key={item.id}\n                  position={item.position}\n                  isImageLoaded={isImageLoaded}\n                >\n                  <DropdownInput\n                    popoverPosition={'right'}\n                    isMatching\n                    key={item.id}\n                    name={item.id}\n                    onChange={(event: any) => this.onSelectElement(item.id, event, listsOfItems)}\n                    value={''}\n                    placeholder={''}\n                    answeredPlaceholder={''}\n                    matchingAnswer={item.selected}\n                    data={originalDropspots.map(\n                      option =>\n                        option.id !== NO_SELECTED_ID && {\n                          value: option.text,\n                          id: option.id,\n                          selected: option.selected,\n                          current: item.selected.length ? item.selected === option.selected : false\n                        }\n                    )}\n                  />\n                </DragDropMobile>\n              )\n          )}\n        {background && !isImageLoaded && <CircleLoader />}\n        <img\n          src={background}\n          ref={this.imageRefs}\n          onLoad={() =>\n            this.props.handleImageLoaded(this.imageRefs.current, this.state.listsOfItems)\n          }\n          alt={localize('[drag and drop question image]')}\n        />\n      </DragDropMobileWrapper>\n    );\n  }\n}\n\nexport default DragAndDropMobile;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport shuffle from 'utils/shuffle';\nimport { isMobile } from 'utils/window';\nimport imageLoader from 'core/http/imageLoader';\nimport * as dragAndDropActions from 'store/questions/dragAndDropText/actions';\nimport DragDrop from 'components/common/DragDrop';\nimport { NO_SELECTED_ID } from 'constants/common';\nimport {\n  getUserAnswers,\n  getBackground,\n  getUserResponse\n} from 'store/questions/dragAndDropText/selectors';\nimport DragAndDropMobile from './DragAndDropMobile';\nimport { RootAppState } from 'store/types';\n\ntype DragAndDropTextProps = {\n  id: string;\n  background?: string;\n  isMultipleList?: boolean;\n  dropspots?: any[];\n  response?: any[];\n  actions?: { [key: string]: any };\n  type: string;\n};\n\ntype DragAndDropTextState = {\n  isImageLoaded: boolean;\n  isImageNotFound: boolean;\n  listsOfItems: any[];\n}\n\nexport class DragAndDropText extends React.Component<DragAndDropTextProps, DragAndDropTextState> {\n  constructor(props: DragAndDropTextProps) {\n    super(props);\n    this.state = {\n      isImageLoaded: false,\n      isImageNotFound: false,\n      listsOfItems: []\n    };\n  }\n\n  getPositionDependingImageScale = (image: any, originalListPosition: any, listsOfItems: any) => {\n    const scale = image.width / image.naturalWidth;\n    listsOfItems.forEach((list: any, index: any) => {\n      if (list.position) {\n        if (isMobile) {\n          listsOfItems[index].position.y = Math.round(originalListPosition[list.id].y * scale);\n          listsOfItems[index].position.x = Math.round(originalListPosition[list.id].x * scale);\n        } else {\n          listsOfItems[index].position.y = Math.round(\n            ((originalListPosition[list.id].y * scale) / image.height) * 100\n          );\n          listsOfItems[index].position.x = Math.round(\n            ((originalListPosition[list.id].x * scale) / image.width) * 100\n          );\n        }\n      }\n    });\n    return listsOfItems;\n  };\n\n  setPositionDependingImageScale = (image?: any, originalListPosition?: any, listsOfItems?: any) => {\n    if (image !== null && image !== undefined) {\n      this.setState({\n        listsOfItems: this.getPositionDependingImageScale(image, originalListPosition, listsOfItems)\n      });\n    }\n  };\n\n  async changeImageState(imageUrl: any) {\n    const isImageExists = await imageLoader.isImageExists(imageUrl);\n    let imageNotFound = false;\n    if (!isImageExists) imageNotFound = true;\n    this.setState({\n      isImageNotFound: imageNotFound,\n      isImageLoaded: true\n    });\n  }\n\n  handleImageLoaded = (img: any, listsOfItems: any) => {\n    const { dropspots = [] } = this.props;\n    const originalListPosition: any[] = [];\n    dropspots.forEach(item => {\n      originalListPosition[item.id] = { y: item.y, x: item.x };\n    });\n    this.setPositionDependingImageScale(img, originalListPosition, listsOfItems);\n    window.addEventListener('resize', () =>\n      this.setPositionDependingImageScale(img, originalListPosition, listsOfItems)\n    );\n    this.changeImageState(this.props.background);\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', () => this.setPositionDependingImageScale());\n  }\n\n  moveItem(items: any, id: any, action: any) {\n    action.dragAndDropAnswersAreSelected(items, id);\n  }\n\n  render() {\n    const { background, dropspots = [], response = [], id, actions } = this.props;\n    const { isImageLoaded, isImageNotFound } = this.state;\n    let listsOfItems = [{ id: NO_SELECTED_ID, items: shuffle(dropspots), isDropDisabled: false }];\n    if (response.length) {\n      listsOfItems = response;\n    } else {\n      dropspots.forEach(element => {\n        const list = {\n          id: element.id,\n          items: [],\n          position: { y: element.y, x: element.x },\n          isDropDisabled: false\n        };\n        listsOfItems.push(list);\n      });\n    }\n\n    const props = {\n      moveItem: this.moveItem,\n      actions,\n      background,\n      id,\n      listsOfItems,\n      setPositionDependingImageScale: this.setPositionDependingImageScale,\n      handleImageLoaded: this.handleImageLoaded,\n      isImageLoaded,\n      isImageNotFound\n    };\n    return (\n      <div>\n        {!isMobile ? (\n          <DragDrop {...props} isMultipleList={true} />\n        ) : (\n            <DragAndDropMobile {...props} dropspots={dropspots} />\n          )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: DragAndDropTextProps) {\n  return {\n    dropspots: getUserAnswers(state, ownProps.id),\n    background: getBackground(state, ownProps.id),\n    response: getUserResponse(state, ownProps.id)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(dragAndDropActions, dispatch)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DragAndDropText);\n","import { ActionTypes } from './types';\nimport { ThunkResult } from '../../types';\n\nexport const matchingAnswersAreSelected = (answers: any, questionId: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.QUESTION_MATCHING_ANSWERS_ARE_SELECTED,\n    payload: { answers, questionId }\n  });\n};\n","import styled from 'styled-components';\nimport * as typography from 'components/mixins/typography';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\n\nexport const TextMatchingItem = styled.div.attrs({\n  'data-test': 'text-matching-item'\n})`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  margin-bottom: 10px;\n  ${typography.secondaryFontText};\n  color: ${props => props.theme.colors.textColor};\n\n  ${media.small`\n    margin-bottom: 48px;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  `};\n`;\n\nexport const TextMatchingItemKey = styled.div`\n  width: calc(50% - 50px);\n  padding: 3px 15px 5px;\n  background: ${props => transparentize(props.theme.colors.textColor, 0.06)};\n\n  ${media.small`\n    width: calc(100% - 44px);\n    margin-bottom: 8px;\n  `};\n`;\n\ntype TextMatchingItemSelectedProps = {\n  shownSelectedValue: any;\n}\n\nexport const TextMatchingItemSelected = styled.div.attrs(props => ({\n  'data-test': 'item-selected'\n})) <TextMatchingItemSelectedProps>`\n  width: calc(50% - 50px);\n  z-index: 1;\n  background: ${props =>\n    props.shownSelectedValue\n      ? transparentize(props.theme.colors.textColor, 0.06)\n      : transparentize(props.theme.colors.textColor, 0.02)};\n\n  ${media.small`\n    width: calc(100% - 44px);\n    margin-bottom: 8px;\n  `};\n`;\n\nexport const DropdownInputWrapper = styled.div.attrs({\n  'data-test': 'dropdown-input-wrapper'\n})`\n  width: 100px;\n  display: flex;\n  justify-content: center;\n\n  ${media.small`\n    width: 44px;\n  `};\n`;\n\nexport const DropdownInputContainer = styled.div`\n  .dropdown-button {\n    width: 40px;\n    height: 40px;\n    min-height: 40px;\n\n    ${media.small`\n      width: 32px;\n      height: 32px;\n      min-height: 32px;\n    `};\n  }\n\n  .chosen-value {\n    display: none;\n  }\n\n  .downshift-dropdown {\n    max-width: 325px;\n  }\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getUserAnswers, getUserResponse } from 'store/questions/textMatching/selectors';\nimport * as actions from 'store/questions/textMatching/actions';\nimport shuffle from 'utils/shuffle';\nimport { localize } from 'core/localization';\nimport { DropdownInput } from '../../common';\nimport {\n  TextMatchingItem,\n  TextMatchingItemKey,\n  TextMatchingItemSelected,\n  DropdownInputWrapper,\n  DropdownInputContainer\n} from './TextMatching.styled';\nimport { RootAppState } from 'store/types';\n\ntype TextMatchingProps = {\n  id: string;\n  type: string;\n  answers?: Array<any>;\n  actions?: { [key: string]: any };\n  response?: Array<any>;\n};\n\ntype TextMatchingState = {\n  isShuffled: boolean;\n  answers: Array<any>;\n  shuffleAnswersKey: Array<any>;\n}\nexport class TextMatching extends React.Component<TextMatchingProps, TextMatchingState> {\n  constructor(props: TextMatchingProps) {\n    super(props);\n    const { response = [], answers = [] } = props;\n    this.state = {\n      isShuffled: false,\n      answers: response.length ? response : answers,\n      shuffleAnswersKey: response.length ? response : answers\n    };\n  }\n\n  markItemInList = (list: any, selectedKey: any, option: any) => {\n    let newList: Array<any> = Array.from(list);\n    newList.forEach((item: any, index: any) => {\n      if (item.selectedKey === selectedKey) {\n        newList[index].selectedKey = '';\n      }\n      if (item.value === option.value) {\n        newList[index].selectedKey = selectedKey;\n      }\n      if (item.shownSelectedValue === option.value) {\n        newList[index].shownSelectedValue = '';\n      }\n      if (item.key === selectedKey) {\n        newList[index].shownSelectedValue = option.value;\n      }\n    });\n    return newList;\n  };\n\n  onSelectMatching(selectedKey: any, option: any) {\n    const { answers, shuffleAnswersKey } = this.state;\n    const { id } = this.props;\n    if (option) {\n      this.setState({\n        answers: this.markItemInList(answers, selectedKey, option),\n        shuffleAnswersKey: this.markItemInList(shuffleAnswersKey, selectedKey, option)\n      });\n      this.props.actions && this.props.actions.matchingAnswersAreSelected(answers, id);\n\n      const activeElem = document.activeElement as HTMLElement;\n      if (activeElem) {\n        activeElem.blur();\n      }\n    }\n  }\n\n  isAnyValueSelected() {\n    const { answers } = this.state;\n    return answers\n      .map(answer => answer && answer.selectedKey && answer.selectedKey.length)\n      .some(value => value);\n  }\n\n  componentDidUpdate() {\n    const { response = [], answers = [] } = this.props;\n    if (!this.state.isShuffled) {\n      this.setState({\n        isShuffled: true,\n        answers: shuffle(response.length ? response : answers),\n        shuffleAnswersKey: shuffle(this.state.answers)\n      });\n    }\n  }\n\n  renderDropdownInput(data: any) {\n    const {\n      index,\n      item,\n      inputData,\n      position = 'right',\n      placeholder,\n      buttonAnimation = '',\n      isMatchingOption = false\n    } = data;\n    return (\n      <DropdownInput\n        popoverPosition={position}\n        isMatching\n        isMatchingOption={isMatchingOption}\n        key={item.id + index}\n        name={item.id + index}\n        onChange={(event: any) => this.onSelectMatching(item.key, event)}\n        value={''}\n        placeholder={placeholder}\n        answeredPlaceholder={`${localize('[label your choice is]')}`}\n        matchingAnswer={item.shownSelectedValue}\n        data={inputData}\n        disabled={false}\n        buttonAnimation={buttonAnimation}\n      >\n        {' '}\n      </DropdownInput>\n    );\n  }\n\n  render() {\n    const { answers, shuffleAnswersKey } = this.state;\n    return (\n      <div data-test=\"text-matching\">\n        {shuffleAnswersKey.map((item, index) => {\n          const mapAnswersToOptions = () =>\n            answers.map(option => ({\n              value: option.value || '',\n              selected: option.selectedKey,\n              current: option.selectedKey === item.key\n            }));\n\n          const buttonAnimation = index === 0 && !this.isAnyValueSelected() ? 'pulse' : '';\n          const placeholders = {\n            plus: `${localize('[placeholder dropdown for]')} ${item.key}`,\n            matchingOption: `${localize('[click on the plus to define the match]')}`\n          };\n\n          return (\n            <TextMatchingItem key={item.id}>\n              <TextMatchingItemKey>{item.key}</TextMatchingItemKey>\n              <DropdownInputWrapper>\n                <DropdownInputContainer>\n                  {this.renderDropdownInput({\n                    index,\n                    item,\n                    inputData: mapAnswersToOptions(),\n                    placeholder: placeholders.plus,\n                    buttonAnimation\n                  })}\n                </DropdownInputContainer>\n              </DropdownInputWrapper>\n              <TextMatchingItemSelected shownSelectedValue={item.shownSelectedValue}>\n                {this.renderDropdownInput({\n                  index,\n                  item,\n                  inputData: mapAnswersToOptions(),\n                  position: 'bottom',\n                  placeholder: placeholders.matchingOption,\n                  isMatchingOption: true\n                })}\n              </TextMatchingItemSelected>\n            </TextMatchingItem>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\n\n\nfunction mapStateToProps(state: RootAppState, ownProps: TextMatchingProps) {\n  return {\n    answers: getUserAnswers(state, ownProps.id),\n    response: getUserResponse(state, ownProps.id)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextMatching);\n","import { ActionTypes } from './types';\nimport { ThunkResult } from '../../types';\n\nexport const hotspotQuestionAnswer = (data: any, questionId: string): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.HOTSPOT_QUESTION_ANSWER,\n    payload: { data, questionId }\n  });\n};\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport Icon from 'components/common/Icon';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nexport const Wrapper = styled.div.attrs({\n  'data-test': 'hotspot-on-image-wrapper'\n})`\n  width: 100%;\n  max-width: 100%;\n  display: inline-block;\n  vertical-align: bottom;\n  text-align: left;\n  padding: 0;\n`;\n\ntype ImageSpotsWrapper = {\n  isImageNotFound: boolean;\n  isImageLoading: boolean;\n}\nexport const ImageSpotsWrapper = styled.div<ImageSpotsWrapper>`\n  position: relative;\n  width: 100%;\n  max-width: 100%;\n  display: inline-block;\n  vertical-align: bottom;\n  pointer-events: ${props => (props.isImageNotFound ? 'none' : 'auto')};\n\n  height: ${props => (props.isImageLoading ? '182px' : 'auto')};\n  overflow: ${props => (props.isImageLoading ? 'hidden' : 'auto')};\n  background: ${props =>\n    props.isImageNotFound || props.isImageLoading\n      ? transparentize(props.theme.colors.textColor, 0.02)\n      : 'transparent'};\n  padding: ${props => (props.isImageNotFound ? '16px 0' : '0')};\n`;\n\ntype ImageProps = {\n  isImageNotFound: boolean;\n  src: string;\n  alt: string;\n  tabIndex: number;\n  role: string;\n  onLoad: any;\n  onClick: any;\n  style: any;\n}\nexport const Image = styled.img.attrs(props => ({\n  'data-test': 'hotspot-image'\n})) <ImageProps>`\n  display: block;\n  outline: none;\n  margin: ${props => (props.isImageNotFound ? '0 auto' : '0')};\n`;\n\nexport const CloseIcon = styled(Icon)`\n  position: absolute;\n  top: -10px;\n  right: -8px;\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  opacity: 0;\n  cursor: pointer;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.6)};\n  background-color: ${props => transparentize(props.theme.colors.contentBodyColor, 0.9)};\n  box-shadow: 0 1px 3px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n\n  &:before {\n    display: flex;\n    width: 100%;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n  }\n`;\n\nexport const Spot = styled.div`\n  position: relative;\n  width: 30px;\n  height: 30px;\n  display: block;\n  cursor: pointer;\n  animation: pulse 1.5s infinite;\n  background-color: ${props => transparentize(props.theme.colors.contentBodyColor, 0.1)};\n  box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n  border-radius: 50%;\n  outline: none;\n  overflow: hidden;\n\n  &:before {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    width: 50%;\n    right: 0px;\n    bottom: 0;\n    background: linear-gradient(\n      to bottom,\n      ${props => props.theme.colors.mainColor} 0%,\n      ${props => props.theme.colors.mainColor} 50%,\n      ${props => props.theme.colors.mainColor} 50%,\n      ${props => props.theme.colors.contentBodyColor} 50%,\n      ${props => props.theme.colors.contentBodyColor} 100%\n    );\n  }\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    width: 50%;\n    left: 0px;\n    bottom: 0;\n    background: linear-gradient(\n      to top,\n      ${props => props.theme.colors.mainColor} 0%,\n      ${props => props.theme.colors.mainColor} 50%,\n      ${props => props.theme.colors.mainColor} 50%,\n      ${props => props.theme.colors.contentBodyColor} 50%,\n      ${props => props.theme.colors.contentBodyColor} 100%\n    );\n  }\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 ${props => transparentize(props.theme.colors.contentBodyColor, 0.5)};\n    }\n    50% {\n      box-shadow: 0 0 0 6px ${props => transparentize(props.theme.colors.contentBodyColor, 0.3)};\n    }\n    100% {\n      box-shadow: 0 0 0 8px ${props => transparentize(props.theme.colors.contentBodyColor, 0.05)};\n    }\n  }\n`;\n\ntype SpotWrapperProps = {\n  top: number;\n  left: number;\n}\n\nexport const SpotWrapper = styled.div.attrs(props => ({\n  'data-test': 'spot-wrapper'\n})) <SpotWrapperProps>`\n  display: block;\n  position: absolute;\n  top: ${props => props.top}px;\n  left: ${props => props.left}px;\n  transform: translate(-50%, -50%);\n  outline: none;\n\n  &:hover,\n  &:focus {\n    ${Spot} {\n      animation: none;\n    }\n\n    ${CloseIcon} {\n      opacity: 1;\n\n      &:hover {\n        color: ${props => transparentize(props.theme.colors.textColor, 0.9)};\n        background-color: ${props => props.theme.colors.contentBodyColor};\n        opacity: 1;\n      }\n    }\n  }\n`;\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getUserAnswers } from 'store/questions/hotspot/selectors';\nimport * as actions from 'store/questions/hotspot/actions';\nimport CircleLoader from 'components/common/CircleLoader';\nimport imageLoader from 'core/http/imageLoader';\nimport { localize } from 'core/localization';\nimport { Wrapper, Image, ImageSpotsWrapper, Spot, SpotWrapper, CloseIcon } from './Hotspot.styled';\nimport { RootAppState } from 'store/types';\n\ntype HotspotProps = {\n  id: string;\n  type: string;\n  answers?: { [key: string]: any };\n  actions?: { [key: string]: any };\n  isAnswered?: boolean;\n};\n\ntype HotspotState = {\n  answers: { [key: string]: any };\n  isImageLoading: boolean;\n  markers: any;\n  isImageNotFound: boolean;\n}\n\nexport class Hotspot extends PureComponent<HotspotProps, HotspotState> {\n\n  constructor(props: HotspotProps) {\n    super(props);\n    const { answers = [] } = props;\n    this.state = {\n      answers,\n      isImageLoading: true,\n      markers: answers.markers,\n      isImageNotFound: false\n    };\n  }\n\n\n  static getDerivedStateFromProps(nextProps: HotspotProps, prevState: HotspotProps) {\n    if (prevState.answers !== nextProps.answers && (nextProps.answers && !nextProps.answers.markers.length)) {\n      return {\n        answers: nextProps.answers,\n        markers: []\n      };\n    }\n    return null;\n  }\n\n  getCoordinates = (event: any) => {\n    if (event.target.tagName !== 'IMG') {\n      return;\n    }\n    const rect = event.target.getBoundingClientRect();\n    const x = Math.round(event.clientX - rect.left);\n    const y = Math.round(event.clientY - rect.top);\n    const { id } = this.state.answers;\n    this.setState({\n      markers: this.addMarker({ x, y })\n    });\n    this.props.actions && this.props.actions.hotspotQuestionAnswer(this.addMarker({ x, y }), id);\n  };\n\n  addMarker = (marker: any) => {\n    const { markers } = this.state;\n    const { isMultiple } = this.state.answers;\n    let newMarkers = Array.from(markers);\n    if (!isMultiple) {\n      newMarkers = [marker];\n    } else {\n      newMarkers.push(marker);\n    }\n    return newMarkers;\n  };\n\n  removeMarker = (index: any) => {\n    const { id } = this.props;\n    const { markers } = this.state;\n    const newMarkers = Array.from(markers);\n    newMarkers.splice(index, 1);\n    this.setState({\n      markers: newMarkers\n    });\n    this.props.actions && this.props.actions.hotspotQuestionAnswer(newMarkers, id);\n  };\n\n  async changeImageState(imageUrl: any) {\n    const isImageExists = await imageLoader.isImageExists(imageUrl);\n    let imageNotFound = false;\n    if (!isImageExists) {\n      imageNotFound = true;\n    }\n    this.setState({\n      isImageNotFound: imageNotFound,\n      isImageLoading: false\n    });\n  }\n\n  render() {\n    const { background } = this.state.answers;\n    const { isImageLoading, markers, isImageNotFound } = this.state;\n    return (\n      <Wrapper>\n        {background ? (\n          <ImageSpotsWrapper isImageLoading={isImageLoading} isImageNotFound={isImageNotFound}>\n            {isImageLoading && <CircleLoader />}\n            <Image\n              isImageNotFound={isImageNotFound}\n              src={background}\n              alt={localize('[hotspot content image alt]')}\n              tabIndex={1}\n              role=\"img\"\n              onLoad={() => this.changeImageState(background)}\n              onClick={!isImageNotFound ? this.getCoordinates : null}\n              style={isImageLoading ? { opacity: '0' } : null}\n            />\n\n            {markers.map((marker: any, index: any) => (\n              <SpotWrapper\n                key={index}\n                tabIndex={1}\n                role=\"banner\"\n                top={marker.y}\n                left={marker.x}\n                onClick={() => this.removeMarker(index)}\n              >\n                <Spot />\n                <CloseIcon size={4} name=\"close-popup\" />\n              </SpotWrapper>\n            ))}\n          </ImageSpotsWrapper>\n        ) : null}\n      </Wrapper>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: HotspotProps) {\n  return {\n    answers: getUserAnswers(state, ownProps.id)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Hotspot);\n","import * as React from 'react';\nimport {\n  SINGLE_CHOICE,\n  MULTIPLE_CHOICE,\n  SINGLE_CHOICE_IMAGE,\n  STATEMENT_CHOICE,\n  OPEN_QUESTION,\n  RANKING_TEXT,\n  SCENARIO,\n  FILL_IN_THE_BLANK,\n  DRAG_AND_DROP_TEXT,\n  TEXT_MATCHING,\n  HOTSPOT\n} from 'constants/questionTypes';\nimport MultipleChoice from './MultipleChoice';\nimport SingleChoiceImage from './SingleChoiceImage';\nimport { QuestionContainer, QuestionContainerOverlay } from './Question.styled';\nimport StatementChoice from './Statement';\nimport OpenQuestion from './OpenQuestion';\nimport RankingText from './RankingText';\nimport Scenario from './Scenario';\nimport FillInTheBlank from './FillInTheBlank';\nimport DragAndDropText from './DragAndDropText';\nimport TextMatching from './TextMatching';\nimport Hotspot from './Hotspot';\n\ntype QuestionProps = {\n  id: string;\n  type: string;\n  isAnswered: boolean;\n  bodyBackground: { [key: string]: any };\n};\n\nexport class Question extends React.PureComponent<QuestionProps, {}> {\n  render() {\n    const { id, type, isAnswered, bodyBackground } = this.props;\n    return (\n      <QuestionContainer>\n        {renderQuestion(id, type, isAnswered)}\n        <QuestionContainerOverlay isShown={isAnswered} bodyBackground={bodyBackground} />\n      </QuestionContainer>\n    );\n  }\n}\n\nfunction renderQuestion(id: string, type: string, isAnswered: boolean) {\n  switch (type) {\n    case SINGLE_CHOICE:\n      return <MultipleChoice id={id} type={type} isSingleAnswer isAnswered={isAnswered} />;\n    case SINGLE_CHOICE_IMAGE:\n      return <SingleChoiceImage id={id} type={type} isAnswered={isAnswered} />;\n    case MULTIPLE_CHOICE:\n      return <MultipleChoice id={id} type={type} isAnswered={isAnswered} />;\n    case STATEMENT_CHOICE:\n      return <StatementChoice id={id} type={type} isAnswered={isAnswered} />;\n    case OPEN_QUESTION:\n      return <OpenQuestion id={id} type={type} />;\n    case RANKING_TEXT:\n      return <RankingText id={id} type={type} />;\n    case SCENARIO:\n      return <Scenario id={id} type={type} isAnswered={isAnswered} />;\n    case FILL_IN_THE_BLANK:\n      return <FillInTheBlank id={id} type={type} isAnswered={isAnswered} />;\n    case DRAG_AND_DROP_TEXT:\n      return <DragAndDropText id={id} type={type} />;\n    case TEXT_MATCHING:\n      return <TextMatching id={id} type={type} />;\n    case HOTSPOT:\n      return <Hotspot id={id} type={type} />;\n    default:\n      return null;\n  }\n}\n\nexport default Question;\n","import React from 'react';\nimport styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { secondaryFont } from 'components/mixins/typography';\nimport { transparentize } from 'utils/color';\nimport { localize } from 'core/localization';\n\nexport const Container = styled.div`\n  ${secondaryFont};\n  color: ${props => transparentize(props.theme.colors.textColor, 0.4)};\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 1.4;\n\n  ${media.mobile`\n    font-size: 12px;\n  `}\n`;\n\ntype PageCounterProps = {\n  index: number;\n  total: number;\n}\n\nexport const PageCounter = ({ index, total }: PageCounterProps) => (\n  <Container>\n    {localize('[page counter caption]', { index, total }, `${index} out of ${total}`)}\n  </Container>\n);\n\nexport default PageCounter;\n","import PropTypes from 'prop-types';\n\n/* eslint-disable import/prefer-default-export */\nexport const createContainer = (typeName: any) => {\n  const Container = (props: any) => props.children;\n  Container.propTypes = { children: PropTypes.element.isRequired };\n  Container.typeName = typeName;\n  return Container;\n};\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\n\ntype ContainerProps = {\n  ariaLabel: string;\n  role: string;\n}\nexport const Container = styled.div.attrs((props: ContainerProps) => ({\n  'aria-label': props.ariaLabel,\n  role: props.role\n}))<ContainerProps>`\n  background-color: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n  padding: 24px 0px;\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const Header = styled.div`\n  display: flex;\n  align-items: center;\n  color: ${props => props.theme.colors.textColor};\n`;\n\nexport const IconContainer = styled.div`\n  margin: 0 20px 0 40px;\n  text-align: center;\n  ${media.xsmall`\n    margin-left: 16px;\n    text-align: left;\n  `};\n  & .icon {\n    line-height: inherit;\n  }\n`;\n\nexport const Body = styled.div`\n  margin: 32px 40px 0;\n  ${media.xsmall`\n    margin: 0 16px;\n  `};\n`;\n\nexport const ContentLoaderContainer = styled.div`\n  display: flex;\n  flex: 1;\n  margin-bottom: 20px;\n`;\n\nexport const ContentContainer = styled.div.attrs(props => ({\n  tabIndex: props.tabIndex\n}))`\n  &:focus {\n    outline: none;\n  }\n`;\n","import * as React from 'react';\nimport { createContainer } from 'components/common/helpers/containerComponentCreator';\n\nimport { Container, ContentContainer, IconContainer, Header, Body } from './ContentBlock.styled';\n\ntype ContentBlockProps = {\n  role: string;\n  tabIndex?: number;\n  ariaLabel?: string;\n  contentRef?(): void;\n  children: any[];\n  isCorrect?: boolean;\n  isLoading?: boolean;\n  value?: string;\n  title?: string;\n};\n\nexport const ContentBlock = ({ contentRef, children, role, tabIndex, ariaLabel }: ContentBlockProps) => {\n  const { Icon, Content, Title } = getChildrenObject(children);\n  children.forEach((child: React.ReactChildren) => {\n    validationChildren(child)\n  })\n  return (\n    <Container ariaLabel={ariaLabel || ''} role={role} tabIndex={tabIndex} ref={contentRef}>\n      <Header>\n        <IconContainer>{Icon}</IconContainer>\n        {Title}\n      </Header>\n      {Content && (\n        <Body>\n          <ContentContainer tabIndex={tabIndex}>{Content}</ContentContainer>\n        </Body>\n      )}\n    </Container>\n  );\n};\n\nconst typeNames = {\n  icon: 'icon',\n  title: 'title',\n  content: 'content'\n};\nContentBlock.Icon = createContainer(typeNames.icon);\nContentBlock.Title = createContainer(typeNames.title);\nContentBlock.Content = createContainer(typeNames.content);\n\nfunction validationChildren(children: any) {\n  const childrenObj = getChildrenObject(children);\n\n  if (!childrenObj.Icon) {\n    return new Error(`ContentBlock: Invalid Prop children, must contain ContentBlock.Icon`);\n  }\n  if (!childrenObj.Title) {\n    return new Error(`Page: Invalid Prop children, must contain ContentBlock.Title`);\n  }\n}\n\nfunction getChildrenObject(children: any[]) {\n  return React.Children.toArray(children).reduce((acc: any, child: any) => {\n    switch (child.type.typeName) {\n      case typeNames.icon: {\n        acc.Icon = child;\n        break;\n      }\n      case typeNames.content: {\n        acc.Content = child;\n        break;\n      }\n      case typeNames.title: {\n        acc.Title = child;\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n    return acc;\n  }, {});\n}\n\nexport default ContentBlock;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { localize } from 'core/localization';\nimport { ShapedIcon, Collapse, Delay, Text } from 'components/common';\nimport { ICON, SIZES } from 'constants/components';\nimport Contents from 'components/contents/Contents';\nimport ContentBlock from 'components/contents/ContentBlock';\nimport { OPEN_QUESTION } from 'constants/questionTypes';\nimport {\n  isQuestionAnswered,\n  isQuestionAnsweredCorrectly,\n  getQuestionResponse\n} from 'store/questions/selectors';\nimport * as questionActions from 'store/questions/actions';\nimport { RootAppState } from 'store/types';\n\ntype FeedbackProps = {\n  actions?: { [key: string]: any };\n  question: { [key: string]: any };\n  delay: number;\n  duration?: number;\n  animate: boolean;\n  onShown?(): void;\n  onHidden?(): void;\n  isAnswered?: boolean;\n  isAnsweredCorrectly?: boolean;\n  questionResponse?: Array<any>\n};\n\nexport class Feedback extends React.PureComponent<FeedbackProps, {}> {\n  refFeedback: any;\n  constructor(props: FeedbackProps) {\n    super(props);\n    this.refFeedback = React.createRef();\n  }\n\n  static defaultProps = {\n    delay: 0,\n    duration: 200,\n    animate: true\n  };\n\n  onShown = () => {\n    const { onShown, animate } = this.props;\n    if (onShown && this.refFeedback.current) {\n      onShown();\n      this.refFeedback.current.focus();\n    }\n    if (animate) {\n      this.props.actions && this.props.actions.animateFeedback({\n        questionId: this.props.question.id,\n        isAnimating: false\n      });\n    }\n  };\n\n  onHidden = () => {\n    const { onHidden, animate } = this.props;\n    if (onHidden) onHidden();\n    if (animate) {\n      this.props.actions && this.props.actions.animateFeedback({\n        questionId: this.props.question.id,\n        isAnimating: false\n      });\n    }\n  };\n\n  render() {\n    const { animate, delay, isAnswered } = this.props;\n\n    if (!animate) {\n      this.onShown();\n      return this.renderContent();\n    }\n\n    return (\n      <Delay wait={delay}>\n        <Collapse\n          delayOpacityTransition={true}\n          isExpanded={isAnswered}\n          onExpanded={this.onShown}\n          onCollapsed={this.onHidden}\n          scrollIntoView={true}\n        >\n          {this.renderContent()}\n        </Collapse>\n      </Delay>\n    );\n  }\n\n  renderContent = () => {\n    const { isAnsweredCorrectly, question } = this.props;\n    const { isSurvey } = this.props.question;\n    const isOpenQuestionType = question.type === OPEN_QUESTION;\n    const isCorrect = isSurvey || isAnsweredCorrectly;\n    const items = this.feedbackContentItems();\n    return (\n      <ContentBlock\n        role=\"dialog\"\n        tabIndex={1}\n        ariaLabel={getTitle(isCorrect, isSurvey, isOpenQuestionType)}\n        contentRef={this.refFeedback}\n      >\n        <ContentBlock.Icon>\n          <ShapedIcon\n            name={isCorrect ? 'ok' : 'close'}\n            color={'buttonTextColor'}\n            shapeColor={isCorrect ? 'correctColor' : 'incorrectColor'}\n            size={SIZES.LARGE}\n            shape={ICON.SHAPES.ROUND_FULL_COLOR}\n          />\n        </ContentBlock.Icon>\n        <ContentBlock.Title>\n          <Text appearance=\"h4\">{getTitle(isCorrect, isSurvey, isOpenQuestionType)}</Text>\n        </ContentBlock.Title>\n        {items.length > 0 && (\n          <ContentBlock.Content>\n            <Contents items={items} />\n          </ContentBlock.Content>\n        )}\n      </ContentBlock>\n    );\n  };\n\n  feedbackContentItems() {\n    const {\n      isAnsweredCorrectly,\n      correctFeedback,\n      incorrectFeedback,\n      isGeneralFeedback,\n      answers\n    } = this.props.question;\n    const { questionResponse = [] } = this.props;\n    if (isGeneralFeedback !== undefined && !isGeneralFeedback) {\n      let items: any[] = [];\n      questionResponse.forEach(item => {\n        const currentAnswer = answers.find((answer: any) => answer.id === item);\n        if (currentAnswer.explanationBlocks) {\n          currentAnswer.explanationBlocks.forEach((block: any) => items.push(block.id));\n        }\n      });\n\n      return items;\n    }\n    return isAnsweredCorrectly ? correctFeedback : incorrectFeedback;\n  }\n}\n\nfunction getTitle(isCorrect: boolean, isSurvey: boolean, isOpenQuestionType: boolean) {\n  if (isOpenQuestionType) {\n    return isCorrect\n      ? localize('[your answer has been stored]')\n      : localize('[your answer is empty and was not stored]');\n  }\n\n  return localize(\n    isSurvey ? '[your answer has been stored]' : isCorrect ? '[thats correct]' : '[thats incorrect]'\n  );\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(questionActions, dispatch) };\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: FeedbackProps) {\n  const questionId = ownProps.question.id;\n  return {\n    isAnswered: isQuestionAnswered(state, questionId),\n    isAnsweredCorrectly: isQuestionAnsweredCorrectly(state, questionId),\n    questionResponse: getQuestionResponse(state, questionId)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feedback);\n","import styled, { css } from 'styled-components';\nimport {\n  Button as ButtonComponent,\n  Separator as SeparatorComponent,\n  Text\n} from 'components/common';\n\ntype ControlContainerProps = {\n  visible?: boolean\n}\nexport const ControlContainer = styled.div.attrs(props => ({\n  tabIndex: props.tabIndex\n}))<ControlContainerProps>`\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  &:focus {\n    outline: none;\n  }\n  &.hideHint {\n    transform: translate(0, 100%);\n  }\n  ${props =>\n    props.visible &&\n    css`\n      visibility: visible;\n    `};\n  ${props =>\n    props.visible &&\n    css`\n      visibility: hidden;\n      opacity: 0;\n    `};\n`;\n\nexport const Button = styled(ButtonComponent)`\n  flex-shrink: 0;\n`;\n\nexport const ButtonSeparator = styled(SeparatorComponent)`\n  margin: 0;\n`;\n\nexport const TitleText = styled(Text)`\n  font-weight: 600;\n`;\n\nexport const ContainerHint = styled.div.attrs({\n  'data-test': 'hint-container'\n})`\n  position: relative;\n  padding-bottom: 69px;\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport ContentBlock from 'components/contents/ContentBlock';\nimport Contents from 'components/contents/Contents';\nimport { Icon, Separator, Collapse } from 'components/common';\n\nimport { ControlContainer, Button, ButtonSeparator, TitleText, ContainerHint } from './Hint.styled';\n\ntype HintProps = {\n  items: Array<string>\n};\n\ntype HintState = {\n  isExpanded: boolean;\n}\n\nexport class Hint extends React.PureComponent<HintProps, HintState> {\n\n  constructor(props: HintProps) {\n    super(props);\n    this.state = { isExpanded: false };\n  }\n\n  componentDidUpdate(prevProps: HintProps) {\n    if (prevProps.items !== this.props.items) {\n      this.setState({ isExpanded: false });\n    }\n  }\n\n  toggleIsExpanded = () => {\n    this.setState(prevState => ({ isExpanded: !prevState.isExpanded }));\n  };\n\n  render() {\n    const { items } = this.props;\n    const { isExpanded } = this.state;\n    return (\n      <ContainerHint>\n        <ControlContainer>\n          <ButtonSeparator opacity={0.1} color=\"textColor\" />\n          <Button\n            tabIndex={1}\n            layout=\"secondary\"\n            onClick={this.toggleIsExpanded}\n            textTransform=\"uppercase\"\n            size=\"small\"\n            aria-expanded={isExpanded}\n          >\n            {localize(isExpanded ? '[hide hint]' : '[show hint]')}\n          </Button>\n          <ButtonSeparator opacity={0.1} color=\"textColor\" />\n        </ControlContainer>\n        <Collapse\n          isExpanded={isExpanded}\n          scrollIntoView={true}\n          duration={300}\n          opacityDuration=\"500\"\n        >\n          <Separator margin={32} opacity={0.1} color=\"textColor\" />\n          <ContentBlock title=\"Hint\" role=\"status\">\n            <ContentBlock.Icon>\n              <Icon name=\"hint\" color=\"mainColor\" size={22} />\n            </ContentBlock.Icon>\n            <ContentBlock.Title>\n              <TitleText>{localize('[hint]')}</TitleText>\n            </ContentBlock.Title>\n            <ContentBlock.Content>\n              <Contents items={items} />\n            </ContentBlock.Content>\n          </ContentBlock>\n        </Collapse>\n      </ContainerHint>\n    );\n  }\n}\nexport default Hint;\n","import styled from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport media from 'components/mixins/media';\nimport { defaultBoxShadowColor } from 'constants/common';\n\nexport const Container = styled.div`\n  display: inline-block;\n  width: inherit;\n  height: 84px;\n  background: ${props => props.theme.colors.contentBodyColor};\n  box-shadow: 0 2px 10px 0 ${transparentize(defaultBoxShadowColor, 0.1)};\n  padding: 0 15px 8px 15px;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  ${media.small`\n    width: 100%;\n    padding-bottom: 0;\n  `};\n`;\n\nexport const IframeElement = styled.iframe.attrs((props: any) => ({\n  allow: props.allow,\n  audioid: props.audioid\n}))`\n  height: 65px;\n  width: 100%;\n  border: none;\n  ${media.small`\n    height: 48px;\n  `};\n`;\n","import * as React from 'react';\nimport { withTheme } from 'styled-components';\nimport { getStyles } from 'utils/element';\nimport { getDOMNode, getAttributesNodeElement } from 'utils/dom';\nimport { addQueryStringParameter } from 'utils/window';\nimport { Container, IframeElement } from './VoiceOver.styled';\n\n\ntype VoiceOverProps = {\n  embedCode: string;\n  theme: { [key: string]: any };\n  tabIndex: number\n};\n\nexport class VoiceOver extends React.PureComponent<VoiceOverProps, {}> {\n  static defaultProps = {\n    tabIndex: 0\n  };\n  getIframeSrcWithStyleVariable(src: string) {\n    return addQueryStringParameter(\n      src,\n      'style_variables',\n      encodeURIComponent(getStyles(this.props.theme))\n    );\n  }\n\n  renderIframeElement() {\n    const iframeNode = getDOMNode(this.props.embedCode);\n    const attrName = getAttributesNodeElement(iframeNode);\n    const iframeAttr: { [key: string]: any } = {};\n\n    attrName.forEach(name => {\n      iframeAttr[name] = iframeNode.attributes[name].nodeValue;\n    });\n\n    iframeAttr.tabIndex = this.props.tabIndex;\n    iframeAttr.src = this.getIframeSrcWithStyleVariable(iframeAttr.src);\n\n    return <IframeElement {...iframeAttr} />;\n  }\n\n  render() {\n    return <Container>{this.renderIframeElement()}</Container>;\n  }\n}\n\nexport default withTheme(VoiceOver);\n","\nexport function getDOMNode(embedCode: string):any {\n  const nodeElement = new DOMParser().parseFromString(embedCode, 'text/html');\n  return nodeElement.body.firstChild;\n}\n\nexport function getAttributesNodeElement(elem: any) {\n  const attributes = elem.attributes; // eslint-disable-line\n  const length = attributes.length; // eslint-disable-line\n\n  const result = new Array(length);\n  for (let i = 0; i < length; i++) {\n    result[i] = attributes[i].name;\n  }\n  return result;\n}\n","import styled from 'styled-components';\nimport { transition } from 'components/mixins/interactivity';\nimport { transparentize } from 'utils/color';\nimport { secondaryFont } from 'components/mixins/typography';\n\ntype ActionButtonsContainerProps = {\n  isHidden: boolean;\n}\nexport const ActionButtonsContainer = styled.div<ActionButtonsContainerProps>`\n  ${transition('opacity', '0.2s')};\n  opacity: ${props => (props.isHidden ? 0 : 1)};\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n\n  & > button {\n    margin-bottom: 20px;\n    margin-right: 24px;\n  }\n\n  & > .tooltip {\n    bottom: 105%;\n    left: 0;\n  }\n`;\n\ntype NavButtonsBlockProps = {\n  tabIndex: number;\n}\nexport const NavButtonsBlock = styled.div.attrs((props: NavButtonsBlockProps) => ({\n  tabIndex: props.tabIndex\n})) <NavButtonsBlockProps>`\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 49px;\n\n  & > button {\n    margin: 0 24px 20px 0;\n  }\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const SurveyHint = styled.p`\n  ${secondaryFont};\n  font-size: 12px;\n  line-height: 24px;\n  margin-bottom: 20px;\n  color: ${props => transparentize(props.theme.colors.textColor, 0.5)};\n  align-self: center;\n`;\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { localize } from 'core/localization';\nimport * as questionActions from 'store/questions/actions';\nimport { BUTTON, TOOLTIP } from 'constants/components';\nimport { INFORMATION_CONTENT, SCENARIO } from 'constants/questionTypes';\nimport { Button, CssAnimation, StatusTooltip } from 'components/common';\nimport {\n  isQuestionAnswered,\n  isQuestionAnsweredCorrectly,\n  isFeedbackAnimating\n} from 'store/questions/selectors';\n\nimport { ActionButtonsContainer, NavButtonsBlock, SurveyHint } from './ActionsBlock.styled';\nimport { RootAppState } from 'store/types.js';\n\ntype ActionBlocksState = {\n  isJustSubmitted: boolean;\n  showTooltip: boolean;\n  isInformationContent: any;\n  canGoNext: boolean;\n}\n\ntype ActionBlocksProps = {\n  actions?: { [key: string]: any };\n  question: { [key: string]: any };\n  goToNextPage(): void;\n  isNextPageResults: boolean;\n  feedbackAnimated?: boolean;\n  questionCountInSection: number;\n  questionIndex: number;\n};\nexport class ActionBlocks extends React.Component<ActionBlocksProps, ActionBlocksState> {\n  constructor(props: ActionBlocksProps) {\n    super(props);\n    this.state = {\n      isJustSubmitted: false,\n      showTooltip: false,\n      isInformationContent: this.props.question.type === INFORMATION_CONTENT,\n      canGoNext: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      canGoNext: this.canGoToNextQuestion()\n    });\n  }\n\n  componentDidUpdate(prevProps: ActionBlocksProps) {\n    if (prevProps.question.id !== this.props.question.id) {\n      this.setState({ isJustSubmitted: false });\n    }\n  }\n\n  render() {\n    const { isJustSubmitted, isInformationContent } = this.state;\n    const { question, feedbackAnimated= false } = this.props;\n    const { isSurvey } = question;\n    const canGoNext = this.canGoToNextQuestion();\n    return (\n      <ActionButtonsContainer isHidden={feedbackAnimated}>\n        {!isInformationContent && (!question.isAnswered || feedbackAnimated) && (\n          <React.Fragment>\n            {question.type === SCENARIO ? (\n              <StatusTooltip\n                popoverPosition={'top'}\n                layout={TOOLTIP.INCORRECT}\n                showTooltip={this.state.showTooltip}\n                message={localize('[scenario tooltip text]')}\n                popoverButton={\n                  <Button tabIndex={1} onClick={this.submit} onBlur={this.hidePopover}>\n                    {localize('[submit]')}\n                  </Button>\n                }\n              />\n            ) : (\n                <React.Fragment>\n                  <Button tabIndex={1} onClick={this.submit}>\n                    {localize('[submit]')}\n                  </Button>\n                  {isSurvey && !canGoNext && (\n                    <SurveyHint>{localize('[survey question hint]')}</SurveyHint>\n                  )}\n                </React.Fragment>\n              )}\n          </React.Fragment>\n        )}\n        {!feedbackAnimated &&\n          (isJustSubmitted ? (\n            <CssAnimation type={CssAnimation.AnimationType.slideInDown}>\n              {this.renderNavButtonsBlock()}\n            </CssAnimation>\n          ) : (\n              this.renderNavButtonsBlock()\n            ))}\n      </ActionButtonsContainer>\n    );\n  }\n\n  renderNavButtonsBlock() {\n    const { question, questionIndex, questionCountInSection, goToNextPage } = this.props;\n    const { isAnsweredCorrectly, isSurvey } = question;\n    const isLastPageInSection = questionIndex + 1 === questionCountInSection;\n    const isInformationContent = question.type === INFORMATION_CONTENT;\n    const canGoNext = this.canGoToNextQuestion();\n    return (\n      <NavButtonsBlock tabIndex={-1}>\n        {this.canTryAgainQuestion() && (\n          <Button tabIndex={1} onClick={this.tryAgain}>\n            {localize('[try again]')}\n          </Button>\n        )}\n        {canGoNext && (\n          <Button\n            data-test=\"button-next\"\n            layout={\n              isInformationContent || isAnsweredCorrectly || isSurvey\n                ? BUTTON.LAYOUT.PRIMARY\n                : BUTTON.LAYOUT.SECONDARY\n            }\n            onClick={goToNextPage}\n            tabIndex={1}\n            suffixIcon=\"arrow-down\"\n          >\n            {this.getNextNavigationText(isLastPageInSection)}\n          </Button>\n        )}\n      </NavButtonsBlock>\n    );\n  }\n\n  hidePopover = async () => {\n    this.setState({ showTooltip: false });\n  };\n\n  submit = () => {\n    const { question } = this.props;\n    if (question.type === SCENARIO) {\n      if (question.response.isFinished) {\n        this.props.actions && this.props.actions.answer(question.id);\n        this.props.actions && this.props.actions.animateFeedback({ questionId: question.id, isAnimating: true });\n        this.setState({ isJustSubmitted: true, showTooltip: false });\n      } else {\n        this.setState({ showTooltip: true });\n      }\n    } else {\n      this.props.actions && this.props.actions.answer(question.id);\n      this.props.actions && this.props.actions.animateFeedback({ questionId: question.id, isAnimating: true });\n      this.setState({\n        isJustSubmitted: true,\n        canGoNext: this.canGoToNextQuestion()\n      });\n    }\n  };\n\n  getNextNavigationText = (isLastPageInSection: boolean) => {\n    const { isNextPageResults } = this.props;\n    if (isNextPageResults) return localize('[go to results]');\n    return localize(isLastPageInSection ? '[next section]' : '[next]');\n  };\n\n  canGoToNextQuestion() {\n    return this.props.question.type === INFORMATION_CONTENT ? true : this.props.question.isAnswered;\n  }\n\n  canTryAgainQuestion() {\n    const { question } = this.props;\n    return (\n      question.type !== INFORMATION_CONTENT &&\n      question.isAnswered &&\n      !question.isAnsweredCorrectly &&\n      !question.isSurvey\n    );\n  }\n\n  tryAgain = () => {\n    const { question } = this.props;\n    this.props.actions && this.props.actions.resetProgress(question);\n    this.setState({ isJustSubmitted: false });\n    this.props.actions && this.props.actions.animateFeedback({ questionId: question.id, isAnimating: true });\n  };\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: ActionBlocksProps) {\n  const questionId = ownProps.question.id;\n  return {\n    isAnswered: isQuestionAnswered(state, questionId),\n    isAnsweredCorrectly: isQuestionAnsweredCorrectly(state, questionId),\n    feedbackAnimated: isFeedbackAnimating(state, questionId)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(questionActions, dispatch) };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActionBlocks);\n","import styled from 'styled-components';\nimport { Text } from 'components/common';\nimport media from 'components/mixins/media';\n\nexport const QuestionTitleWrapper = styled.div`\n  & > .reviewable-container {\n    height: auto;\n  }\n`;\n\nexport const QuestionTitle = styled(Text).attrs({\n  tabindex: 1,\n  'data-test': 'question-title'\n})`\n  margin: 12px 0 32px;\n\n  ${media.medium`\n    padding-right: 22px;\n  `}\n`;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { INFORMATION_CONTENT } from 'constants/questionTypes';\nimport { REVIEW_COMMENT_PROPERTIES, REVIEW_COMMENT_TYPES } from 'constants/review';\nimport {\n  getSection,\n  getQuestionIndex,\n  getQuestionCount,\n  sectionExists\n} from 'store/sections/selectors';\n\nimport { getBackground, getLogo, isMainLogoShown } from 'store/settings/selectors';\nimport { Separator, CourseLogo } from 'components/common';\nimport Contents from 'components/contents/Contents';\nimport withFallbackToNotFound from 'components/hocs/withFallbackToNotFound';\nimport withNavigation from 'components/hocs/withNavigation';\nimport Question from 'components/questions/Question';\nimport Reviewable from 'components/review/Reviewable';\nimport { localize } from 'core/localization';\nimport * as questionActions from 'store/questions/actions';\nimport {\n  getQuestion,\n  isQuestionAnswered,\n  isQuestionAnsweredCorrectly,\n  questionExists,\n  getQuestionResponse\n} from 'store/questions/selectors';\nimport PageCounter from 'components/question/PageCounter';\nimport Feedback from 'components/question/Feedback';\nimport Hint from 'components/question/Hint';\nimport VoiceOver from 'components/question/VoiceOver';\nimport { getCourseTitle } from 'store/course/selectors';\n\nimport ActionBlock from './actionsBlock/ActionsBlock';\n\nimport { QuestionTitle, QuestionTitleWrapper } from './QuestionPage.styled';\nimport { RootAppState } from 'store/types';\n\ntype QuestionPageProps = {\n  section: { [key: string]: any };\n  question: { [key: string]: any };\n  actions: { [key: string]: any };\n  navigateToNextPage(): void;\n  checkIsNextPageResults(): boolean;\n  questionIndex: number;\n  questionCountInSection: number;\n  bodyBackground: { [key: string]: any };\n  logoUrl: string;\n  logoShown: boolean;\n  title: string;\n  questionResponse: any[];\n};\n\ntype QuestionPageState = {\n  showTooltip: boolean;\n  feedbackContentList: any[];\n}\nexport class QuestionPage extends Component<QuestionPageProps, QuestionPageState> {\n  constructor(props: QuestionPageProps) {\n    super(props);\n    this.state = {\n      showTooltip: false,\n      feedbackContentList: []\n    };\n  }\n\n  componentDidMount() {\n    this.props.actions.markAsOpened(this.props.question.id);\n    this.props.actions.loadFeedback(this.props.question.id);\n    this.setTitlePage();\n  }\n\n  componentDidUpdate(prevProps: QuestionPageProps) {\n    if (prevProps.question.id !== this.props.question.id) {\n      this.props.actions.loadFeedback(this.props.question.id);\n    }\n  }\n\n  hidePopover = async () => {\n    this.setState({ showTooltip: false });\n  };\n\n  getNextNavigationText = (isLastPageInSection: boolean) => {\n    const { checkIsNextPageResults } = this.props;\n    if (checkIsNextPageResults()) {\n      return localize('[go to results]');\n    }\n    return localize(isLastPageInSection ? '[next section]' : '[next]');\n  };\n\n  setTitlePage = () => {\n    const { question } = this.props;\n    const isInformationContent = question.type === INFORMATION_CONTENT;\n    if (isInformationContent) {\n      document.title = `${localize('[content page title]')} | ${this.props.title}`;\n    } else {\n      document.title = `${localize('[questions page title]')} | ${this.props.title}`;\n    }\n  };\n\n  render() {\n    const {\n      question,\n      questionIndex,\n      questionCountInSection,\n      bodyBackground,\n      logoUrl,\n      logoShown\n    } = this.props;\n    const questionType = question.type === INFORMATION_CONTENT ? INFORMATION_CONTENT : 'question';\n    return (\n      <Fragment>\n        {logoShown && <CourseLogo logoUrl={logoUrl} />}\n        <PageCounter index={questionIndex + 1} total={questionCountInSection} />\n        <QuestionTitleWrapper>\n          <Reviewable context={{ type: questionType, id: question.id, title: question.title }}>\n            <QuestionTitle appearance=\"h1\">{question.title}</QuestionTitle>\n          </Reviewable>\n        </QuestionTitleWrapper>\n        {this.renderInstructions()}\n        <Question\n          id={question.id}\n          type={question.type}\n          isAnswered={question.isAnswered}\n          bodyBackground={bodyBackground}\n        />\n        {this.renderHints()}\n        {this.renderFeedback()}\n        <ActionBlock\n          question={question}\n          goToNextPage={this.navigateToNextPage}\n          isNextPageResults={this.props.checkIsNextPageResults()}\n          questionCountInSection={questionCountInSection}\n          questionIndex={questionIndex}\n        />\n        {this.renderVoiceOver()}\n      </Fragment>\n    );\n  }\n\n  navigateToNextPage = () => {\n    const { navigateToNextPage } = this.props;\n    navigateToNextPage();\n  };\n\n  renderHints() {\n    const { question } = this.props;\n    if (question.hints.length === 0) {\n      return <Separator margin={32} opacity={0.1} color=\"textColor\" />;\n    }\n    if (question.type === INFORMATION_CONTENT) {\n      return <Contents items={question.hints} />;\n    }\n    return (\n      <Reviewable\n        context={{\n          type: REVIEW_COMMENT_TYPES.QUESTION,\n          property: REVIEW_COMMENT_PROPERTIES.LEARNING_CONTENT,\n          id: question.id,\n          title: question.title\n        }}\n      >\n        <Hint items={question.hints} />\n      </Reviewable>\n    );\n  }\n\n  renderFeedback() {\n    const { question } = this.props;\n    if (question.type === INFORMATION_CONTENT) {\n      return;\n    }\n\n    return <Feedback question={question} animate={true} delay={200} />;\n  }\n\n  renderInstructions() {\n    const { question } = this.props;\n    const { instructions, type } = question;\n    return (\n      <React.Fragment>\n        {instructions.length > 0 && <Contents items={instructions} />}\n        {type !== INFORMATION_CONTENT && instructions.length !== 0 && (\n          <Separator opacity={0.1} color=\"textColor\" />\n        )}\n      </React.Fragment>\n    );\n  }\n\n  renderVoiceOver() {\n    const { question } = this.props;\n    return (\n      !!question.voiceOver && (\n        <Reviewable\n          isVoiceOver={true}\n          context={{\n            type: REVIEW_COMMENT_TYPES.INFORMATION_CONTENT,\n            property: REVIEW_COMMENT_PROPERTIES.VOICE_OVER,\n            id: question.id,\n            title: question.title\n          }}\n        >\n          <VoiceOver tabIndex={1} embedCode={question.voiceOver} />\n        </Reviewable>\n      )\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: any) {\n  const { sectionId, questionId } = ownProps.match.params;\n  return {\n    logoUrl: getLogo(state),\n    logoShown: isMainLogoShown(state),\n    section: getSection(state, sectionId),\n    questionIndex: getQuestionIndex(state, sectionId, questionId),\n    questionCountInSection: getQuestionCount(state, sectionId),\n    question: getQuestion(state, questionId),\n    isAnswered: isQuestionAnswered(state, questionId),\n    isAnsweredCorrectly: isQuestionAnsweredCorrectly(state, questionId),\n    bodyBackground: getBackground(state).body,\n    title: getCourseTitle(state),\n    sectionExists: sectionExists(state, sectionId),\n    questionExists: questionExists(state, questionId),\n    questionResponse: getQuestionResponse(state, questionId)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(questionActions, dispatch) };\n}\n\nfunction predicateForRedirect(props: any) {\n  return !props.sectionExists || !props.questionExists;\n}\n\nexport default withNavigation(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(withFallbackToNotFound(QuestionPage, predicateForRedirect))\n);\n","import styled from 'styled-components';\nimport { Text, Icon } from 'components/common';\nimport media from 'components/mixins/media';\nimport {\n  secondaryFont,\n  secondaryFontText,\n  secondaryFontSmallText,\n  bold\n} from 'components/mixins/typography';\nimport { transparentize } from 'utils/color';\n\nexport const PageTitle = styled(Text)`\n  ${secondaryFont};\n  color: ${props => transparentize(props.theme.colors.textColor, 0.4)};\n  font-size: 12px;\n  font-weight: 600;\n`;\n\nexport const LearningObjectiveSectionTitle = styled(Text)`\n  margin: 12px 0 32px 0;\n\n  ${media.medium`\n    padding-right: 22px;\n  `}\n`;\n\nexport const LearningObjectiveWrapper = styled.div`\n  color: ${props => props.theme.colors.textColor};\n  padding: 32px 32px 32px 68px;\n  background: ${props => transparentize(props.theme.colors.textColor, 0.02)};\n`;\n\nexport const LearningObjectiveContent = styled.div`\n  position: relative;\n`;\n\nexport const LearningObjectiveTitle = styled(Text)`\n  ${secondaryFontText};\n  ${bold};\n  margin-bottom: 5px;\n`;\n\nexport const LearningObjectiveText = styled(Text)`\n  ${secondaryFontText};\n  margin-bottom: 16px;\n`;\n\nexport const LearningObjectiveResult = styled(Text)`\n  ${secondaryFontSmallText};\n  font-style: italic;\n  font-weight: normal;\n  opacity: 0.7;\n`;\n\nexport const LearningObjectiveIcon = styled(Icon)`\n  color: ${props => props.theme.colors.mainColor};\n  left: -32px;\n  position: absolute;\n  top: 0;\n`;\n","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport withNavigation from 'components/hocs/withNavigation';\nimport { Button, Separator, CourseLogo } from 'components/common';\nimport { getLogo, isMainLogoShown } from 'store/settings/selectors';\nimport { BUTTON } from 'constants/components';\nimport Reviewable from 'components/review/Reviewable';\nimport { localize } from 'core/localization';\nimport * as sectionSelectors from 'store/sections/selectors';\nimport {\n  PageTitle,\n  LearningObjectiveSectionTitle,\n  LearningObjectiveContent,\n  LearningObjectiveWrapper,\n  LearningObjectiveTitle,\n  LearningObjectiveText,\n  LearningObjectiveResult,\n  LearningObjectiveIcon\n} from './LearningObjective.styled';\nimport withFallbackToNotFound from '../../components/hocs/withFallbackToNotFound';\nimport { RootAppState } from 'store/types';\nimport { REVIEW_COMMENT_PROPERTIES, REVIEW_COMMENT_TYPES } from 'constants/review';\n\ntype LearningObjectiveProps = {\n  section: { [key: string]: any };\n  navigateToNextPage(): void;\n  logoUrl: string;\n  logoShown: boolean;\n};\nexport class LearningObjective extends Component<LearningObjectiveProps, {}> {\n  navigateToNextPage = () => {\n    const { navigateToNextPage } = this.props;\n    navigateToNextPage();\n  };\n\n  render() {\n    const { section, logoUrl, logoShown } = this.props;\n    const {\n      affectedProgressCount,\n      learningObjective,\n      title,\n      id,\n      affectedProgressCorrectlyAnsweredQuestionsCount\n    } = section;\n    return (\n      <Fragment>\n        {logoShown && <CourseLogo logoUrl={logoUrl} />}\n        <PageTitle>{localize('[section overview]')}</PageTitle>\n        <Reviewable context={{ type: REVIEW_COMMENT_TYPES.SECTION, property: REVIEW_COMMENT_PROPERTIES.TITLE, id, title }}>\n          <LearningObjectiveSectionTitle appearance=\"h1\">{title}</LearningObjectiveSectionTitle>\n        </Reviewable>\n        <LearningObjectiveWrapper>\n          <LearningObjectiveContent>\n            <LearningObjectiveIcon size={24} name=\"learning-objective\" />\n            <LearningObjectiveTitle appearance={'p'}>\n              {localize('[learning objective]')}\n            </LearningObjectiveTitle>\n            <LearningObjectiveText appearance={'p'}>{learningObjective}</LearningObjectiveText>\n            {!!affectedProgressCount && (\n              <LearningObjectiveResult appearance={'p'}>\n                {localize('[you need to answer X questions out of Y]', {\n                  correctQuestionsCount: affectedProgressCorrectlyAnsweredQuestionsCount,\n                  totalQuestionsCount: affectedProgressCount\n                })}\n              </LearningObjectiveResult>\n            )}\n          </LearningObjectiveContent>\n        </LearningObjectiveWrapper>\n        <Separator margin={48} opacity={0.1} color=\"textColor\" />\n        <Button\n          layout={BUTTON.LAYOUT.PRIMARY}\n          onClick={this.navigateToNextPage}\n          tabIndex={1}\n          suffixIcon=\"arrow-down\"\n        >\n          {localize('[start section]')}\n        </Button>\n      </Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState, ownProps: any) {\n  const { sectionId } = ownProps.match.params;\n  const { title, learningObjective } = sectionSelectors.getSection(state, sectionId);\n  return {\n    logoUrl: getLogo(state),\n    logoShown: isMainLogoShown(state),\n    section: {\n      id: sectionId,\n      title,\n      learningObjective,\n      affectedProgressCount: sectionSelectors.getAffectProgressQuestionsCountInSection(\n        state,\n        sectionId\n      ),\n      affectedProgressCorrectlyAnsweredQuestionsCount: sectionSelectors.getAffectCorrectlyAnsweredQuestionsCount(\n        state,\n        sectionId\n      )\n    }\n  };\n}\n\nfunction predicateForRedirect(props: any) {\n  return !props.section;\n}\n\nexport default withNavigation(\n  connect(mapStateToProps)(withFallbackToNotFound(LearningObjective, predicateForRedirect))\n);\n","import React from 'react';\nimport { withTheme } from 'styled-components';\nimport { transparentize } from 'utils/color';\nimport { localize } from 'core/localization';\nimport { Figure } from './Figure.styled';\n\ntype RocketProps = {\n  theme: { [key: string]: any }\n};\nexport const Rocket = (props: RocketProps) => (\n  <Figure\n    width=\"260px\"\n    height=\"123px\"\n    viewBox=\"0 0 260 123\"\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    role=\"img\"\n    arialabel={`${localize('[aria label rocket]')}`}\n  >\n    <title>22A00D1A-3369-4516-81AB-CC2786BABD7B</title>\n    <desc>Created with sketchtool.</desc>\n    <defs>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-1\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n      <filter\n        x=\"0.0%\"\n        y=\"0.0%\"\n        width=\"100.0%\"\n        height=\"100.0%\"\n        filterUnits=\"objectBoundingBox\"\n        id=\"filter-2\"\n      >\n        <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\" />\n      </filter>\n    </defs>\n    <g\n      id=\"styles-simple-course\"\n      stroke=\"none\"\n      strokeWidth=\"1\"\n      fill=\"none\"\n      fillRule=\"evenodd\"\n      transform=\"translate(-372.000000, -580.000000)\"\n    >\n      <g id=\"Group-16\" transform=\"translate(372.000000, 581.000000)\">\n        <path\n          d=\"M74.4791667,20.4233129 L20.9852982,20.4233129 C20.9852982,20.4233129 11.6071429,21.4348819 11.6071429,28.8895706 C11.6071429,36.3442592 \n          20.9852982,37.3558282 20.9852982,37.3558282 L52.8125,37.4163015 C52.8125,37.4163015 60.2604167,38.8676599 60.2604167,45.398773 \n          C60.2604167,51.9298861 52.8125,53.8650307 52.8125,53.8650307 L36.3690476,53.8650307 C36.3690476,53.8650307 23.0208333,54.6797948 \n          23.0208333,62.7546012 C23.0208333,70.8294077 36.3690476,72.0674847 36.3690476,72.0674847 L9.47916667,72.0674847 C9.47916667,72.0674847 \n          5.06725961e-16,73.7002629 0,80.4732691 C0,87.2462752 9.47916667,89 9.47916667,89 L217.344853,89 C217.344853,89 229.047619,87.6695881 \n          229.047619,80.4732691 C229.047619,73.27695 217.344853,72.0674847 217.344853,72.0674847 L197.020332,72.0674847 C197.020332,72.0674847 \n          185.152433,71.3602005 184.940476,64.0245399 C184.728519,56.6888793 197.020332,55.3163891 197.020332,55.3163891 L220.606061,54.5 \n          C220.606061,54.5 232.916667,56.3142786 232.916667,46.1244522 C232.916667,35.9346259 221.590909,37.3558282 221.590909,37.3558282 \n          L249.84375,37.4163015 C249.84375,37.4163015 260,36.8060045 260,28.8895706 C260,20.9731366 249.84375,20 249.84375,20 L74.4791667,20.4233129 Z\"\n          id=\"Path-8\"\n          fill={props.theme.colors.textColor}\n          opacity=\"0.0199999996\"\n          filter=\"url(#filter-1)\"\n        />\n        <g\n          id=\"startup\"\n          transform=\"translate(130.500000, 71.500000) scale(-1, 1) rotate(-315.000000) translate(-130.500000, -71.500000) translate(80.000000, 21.000000)\"\n        >\n          <g id=\"Layer_1\" transform=\"translate(-0.000000, 0.000000)\">\n            <path\n              d=\"M51.8696722,47.9219537 L47.922099,47.7701072 L48.0739455,51.7176803 C48.225792,58.2464987 53.6916849,63.7123916 60.2205033,63.8642381 \n              L64.1680764,64.0160846 L64.0162299,60.0685115 C63.8643834,53.5396931 58.3983452,48.0738002 51.8696722,47.9219537 Z\"\n              id=\"Shape\"\n              fill={transparentize(props.theme.colors.textColor, 0.8, { solidColor: true })}\n              fillRule=\"nonzero\"\n              opacity=\"0.600000024\"\n            />\n            <path\n              d=\"M73.1260029,44.4297747 C72.3669157,43.0633015 71.3039902,41.8486748 70.24121,40.7857493 C67.5082636,38.0528028 64.1679311,36.2307901 \n              60.5239057,35.3198564 C53.6915396,33.6496902 46.099941,35.4717029 40.7857493,40.7857493 C35.4715576,46.0997957 33.6496902,53.6913943 \n              35.3198564,60.5239057 C36.2307901,64.0160846 38.0528028,67.5081183 40.7857493,70.2410647 C41.8485295,71.3038449 43.2150027,72.3667704 \n              44.4297747,73.1258576 C36.5344831,73.4295506 28.3356438,70.5447577 22.2623649,64.4714788 C17.4037128,59.6128266 14.6707663,53.6913943 \n              13.7598326,47.4662689 C12.5452059,38.5081971 15.4299988,29.2464322 22.2623649,22.4140661 C29.094731,15.5817 38.5083424,12.6969071 \n              47.3145677,13.9115338 C53.5396931,14.8224675 59.612972,17.5555593 64.3197776,22.4140661 C70.544903,28.3356438 73.4296959,36.5346284 \n              73.1260029,44.4297747 Z\"\n              id=\"Shape\"\n              fill={props.theme.colors.textColor}\n              fillRule=\"nonzero\"\n              opacity=\"0.600000024\"\n            />\n            <path\n              d=\"M60.0685115,44.5816212 C55.8172453,18.6184848 33.497989,-0.512285575 5.86454101,0.246801632 L0.398648135,0.398648135 \n              L0.246801632,5.86454101 C-0.512285575,33.497989 18.6184848,55.8172453 44.5816212,60.0685115 L60.0685115,44.5816212 Z\"\n              id=\"Shape\"\n              strokeOpacity=\"0.3\"\n              stroke={props.theme.colors.textColor}\n              strokeWidth=\"1.6031746\"\n              fill={props.theme.colors.contentBodyColor}\n              fillRule=\"nonzero\"\n            />\n            <g id=\"Group\" transform=\"translate(0.225005, 0.225005)\" />\n            <path\n              d=\"M44.5816212,60.0685115 C46.099941,60.3722045 47.7701072,60.524051 49.2884269,60.6758975 L60.5239057,49.4404187 \n              C60.3720592,47.7702525 \n              60.2202127,46.2519328 59.9165196,44.7336131 L44.5816212,60.0685115 Z\"\n              id=\"Shape\"\n              fillOpacity=\"0.3\"\n              fill={props.theme.colors.textColor}\n              fillRule=\"nonzero\"\n              opacity=\"0.300000012\"\n            />\n            <circle\n              id=\"Oval\"\n              fillOpacity=\"0.6\"\n              fill={props.theme.colors.textColor}\n              fillRule=\"nonzero\"\n              cx=\"25.8475427\"\n              cy=\"25.9124952\"\n              r=\"10.8214286\"\n            />\n            <circle\n              id=\"Oval\"\n              fill={props.theme.colors.contentBodyColor}\n              fillRule=\"nonzero\"\n              cx=\"25.5833715\"\n              cy=\"25.648324\"\n              r=\"8.19883931\"\n            />\n            <path\n              d=\"M20.4404975,21.6551242 C23.3252905,18.7703313 27.8802496,18.7703313 30.7650426,21.6551242 C33.497989,24.3880707 \n              33.6498355,28.7911833 31.0687356,31.6759763 C31.2205821,31.5241298 31.3724286,31.5241298 31.3724286,31.3722833 C34.5609145,28.1837973 \n              34.5609145,23.0215974 31.3724286,19.8331115 C28.1839426,16.6446256 23.0217428,16.6446256 19.8332568,19.8331115 C16.6447709,23.0215974 \n              16.6447709,28.1837973 19.8332568,31.3722833 C19.9851033,31.5241298 20.1369498,31.5241298 20.1369498,31.6759763 C17.7075511,28.7911833 \n              17.7075511,24.3880707 20.4404975,21.6551242 Z\"\n              id=\"Shape\"\n              fillOpacity=\"0.1\"\n              fill={props.theme.colors.textColor}\n              fillRule=\"nonzero\"\n            />\n          </g>\n        </g>\n        <ellipse\n          id=\"Oval-6-Copy\"\n          fill={props.theme.colors.textColor}\n          opacity=\"0.100000001\"\n          filter=\"url(#filter-2)\"\n          cx=\"130\"\n          cy=\"118.5\"\n          rx=\"26\"\n          ry=\"3.5\"\n        />\n      </g>\n    </g>\n  </Figure>\n);\n\nexport default withTheme(Rocket);\n","import styled from 'styled-components';\nimport { Button, Text } from 'components/common';\nimport buttonDefaultStyle from 'components/mixins/normalize';\nimport { transparentize } from 'utils/color';\n\nexport const ButtonElement = styled(Button)`\n  ${buttonDefaultStyle};\n  flex: 0 0 auto;\n  width: 227px;\n  background-color: ${props => props.theme.colors.mainColor};\n  font-size: 14px;\n  margin-bottom: 24px;\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.mainColor, 0.9)};\n  }\n`;\n\nexport const DescriptionWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 0 0 auto;\n  margin-bottom: 40px;\n`;\n\nexport const TitleElement = styled(Text)`\n  font-weight: 300;\n  line-height: 1.43;\n  text-align: center;\n  margin-bottom: 48px;\n  color: ${props => props.theme.colors.textColor};\n`;\n\nexport const ContinueLaterWrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  z-index: 1;\n`;\n","import * as React from 'react';\nimport { localize } from 'core/localization';\nimport { Link, CssAnimation } from 'components/common';\nimport { BUTTON, LINK } from 'constants/components';\nimport DescriptionWithBackground from '../descriptionWithBackground';\nimport {\n  DescriptionWrapper,\n  TitleElement,\n  ContinueLaterWrapper,\n  ButtonElement\n} from './StartNewAttempt.styled';\n\ntype StartNewAttemptProps = {\n  closePopup(): void;\n  popupSettings: { [key: string]: any };\n};\n\nexport const StartNewAttempt: React.FunctionComponent<StartNewAttemptProps> = (props: StartNewAttemptProps) => {\n  const [restoreAttemptStarted, setRestoreAttemptStarted] = React.useState<boolean>(false);\n\n  const startNewAttemptHandler = async () => {\n    if (!restoreAttemptStarted) {\n      setRestoreAttemptStarted(true);\n      const { newAttempt, navigateToIndex } = props.popupSettings;\n      const { closePopup } = props;\n      await newAttempt();\n      closePopup();\n      navigateToIndex();\n    }\n  };\n\n  const renderDescription = () => (\n    <CssAnimation type={CssAnimation.AnimationType.fadeInDown}>\n      <DescriptionWrapper>\n        <DescriptionWithBackground\n          iconName=\"rounded-info\"\n          iconSize={12}\n          descriptionText={localize('[start new attempt text]')}\n        />\n      </DescriptionWrapper>\n    </CssAnimation>\n  );\n\n  return (\n    <CssAnimation type={CssAnimation.AnimationType.fadeInDown}>\n      <ContinueLaterWrapper>\n        <TitleElement appearance=\"span\" size={35}>\n          {localize('[start new attempt title]')}\n        </TitleElement>\n        {renderDescription()}\n        <ButtonElement layout={BUTTON.LAYOUT.PRIMARY} onClick={startNewAttemptHandler}>\n          {localize('[start new attempt]')}\n        </ButtonElement>\n        <Link\n          text={localize('[back to the course]')}\n          layout={LINK.LAYOUT.FORM}\n          onClick={props.closePopup}\n        />\n      </ContinueLaterWrapper>\n    </CssAnimation>\n  );\n};\n\nexport default StartNewAttempt;\n","import download from 'downloadjs';\n\nexport default {\n  async loadFile(downloadUrl: any, fileName: any) {\n    const response: any = await fetch(`${downloadUrl}`).catch(er => console.error(er));\n    const blob = await response.blob();\n    const isChrome = navigator.userAgent.match('CriOS');\n    const isFirefox = navigator.userAgent.match('FxiOS');\n    // For ios and firefox chrome (Remove when webkit patch with fix is in production)\n    if (!isChrome && !isFirefox) {\n      return download(blob, fileName, blob.type);\n    }\n    const reader = new FileReader();\n    const out = new Blob([blob], { type: blob.type });\n    reader.onload = () => {\n      const win: any = window.open();\n      win.document.write(\n        `<iframe src=\"${reader.result}\" frameborder=\"0\" style=\"display: block; width: 100vw; height: 100vh; max-width: 100%;\" allowfullscreen />`\n      );\n    };\n    return reader.readAsDataURL(out);\n  }\n};\n","import requester from 'core/http/requester';\nimport progressStorage from 'core/progressStorage';\nimport { localize } from 'core/localization';\nimport { CONTENT_TYPES } from 'constants/common';\nimport { IdToUuid } from 'utils/string';\nimport fileLoader from './fileLoader';\n\nclass CertificateLoader {\n  getNewLogoUrl(logoUrl: string) {\n    const urlCheckPattern = /(http|https):\\/\\/(\\w+:{0,1}\\w*)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%!\\-/]))?/;\n    if (logoUrl && !urlCheckPattern.test(logoUrl)) {\n      if (logoUrl.match(/\\/\\//g)) {\n        return `https:${logoUrl}`;\n      }\n      return `https://${logoUrl}`;\n    }\n    return logoUrl;\n  }\n\n  async getCertificateUrl(data: any, learnStorageUrl: any, selectedLanguage: any) {\n    const headers: any = progressStorage.getHeaders({\n      contentType: CONTENT_TYPES.JSON,\n      bearerToken: progressStorage.getToken()\n    });\n    headers['X-UI-Culture'] = selectedLanguage;\n\n    const { courseId, templateId, logoUrl } = data;\n    const logo = this.getNewLogoUrl(logoUrl);\n    const response: any = await requester.get(\n      `${learnStorageUrl}/api/learner/me/courses/${IdToUuid(courseId)}/attempts/last/certificate`,\n      {\n        query: {\n          templateId,\n          logoUrl: logo\n        },\n        headers\n      } as any\n    );\n    if (response.status !== 200) {\n      const error = response.json();\n      console.error(error.message);\n      return false;\n    }\n    const responseData = await response.json();\n    return responseData.url;\n  }\n\n  async downloadCertificate(data: any, learnStorageUrl: any, selectedLanguage: any) {\n    const downloadUrl = await this.getCertificateUrl(data, learnStorageUrl, selectedLanguage);\n    const fileName = `${localize('[certificate file name]')}.pdf`;\n    if (downloadUrl) {\n      return fileLoader.loadFile(downloadUrl, fileName);\n    }\n    return false;\n  }\n}\n\nexport default new CertificateLoader();\n","import styled from 'styled-components';\n\nconst AfterwordContainer = styled.div`\n  margin-top: 56px;\n  text-align: left;\n`;\n\nexport default AfterwordContainer;\n","import * as React from 'react';\nimport Contents from 'components/contents/Contents';\nimport * as courseSelectors from 'store/course/selectors';\nimport { connect } from 'react-redux';\n\nimport AfterwordContainer from './courseAfterword.styled';\nimport { RootAppState } from 'store/types';\n\ntype AfterwordContainerProps = {\n  isPassed: boolean;\n  passedAfterwordsIds: string[];\n  failedAfterwordsIds: string[];\n};\nexport const CourseAfterword = (props: AfterwordContainerProps) => {\n  const { isPassed, passedAfterwordsIds, failedAfterwordsIds } = props;\n  let afterWordsIds = isPassed ? passedAfterwordsIds : failedAfterwordsIds;\n\n  return (\n    <React.Fragment>\n      {afterWordsIds.length > 0 && (\n        <AfterwordContainer>\n          <Contents items={afterWordsIds} />\n        </AfterwordContainer>\n      )}\n    </React.Fragment>\n  );\n};\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    isPassed: courseSelectors.isPassed(state),\n    passedAfterwordsIds: courseSelectors.getPassedAfterwords(state),\n    failedAfterwordsIds: courseSelectors.getFailedAfterwords(state)\n  };\n}\n\nexport default connect(mapStateToProps)(CourseAfterword);\n","import styled from 'styled-components';\nimport { Text, Separator } from 'components/common';\nimport media from 'components/mixins/media';\n\ntype ContainerProps = {\n  logoShown?: boolean\n}\nexport const Container = styled.div<ContainerProps>`\n  text-align: center;\n  margin-top: ${props => (props.logoShown ? '0' : '40px')};\n`;\n\nexport const Figure = styled.div`\n  margin-bottom: 40px;\n`;\n\nexport const Header = styled(Text)`\n  margin-bottom: 32px;\n\n  ${media.small`\n    margin-bottom: 16px;\n  `};\n`;\n\nexport const StyledText = styled(Text)`\n  font-size: 16px;\n  color: ${props => props.theme.colors.textColor};\n\n  ${media.xlarge`\n  font-size: 16px;\n  `}\n\n  ${media.large`\n  font-size: 14px;\n  `}\n\n  ${media.mobile`\n  font-size: 13px;\n  `}\n`;\n\nexport const ButtonWrapper = styled.div`\n  margin-bottom: 20px;\n  position: relative;\n  & div[role='presentation'] {\n    display: block;\n  }\n  & button {\n    width: 100%;\n  }\n`;\n\nexport const SeparatorElement = styled(Separator)`\n  margin-top: 80px;\n  margin-bottom: 0;\n\n  ${media.mobile`\n    display: none;\n  `};\n`;\n\nexport const WidthLimiterContainer = styled.div`\n  display: inline-block;\n`;\n\nexport const AfterwordContainer = styled.div`\n  margin-top: 56px;\n`;\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { localize } from 'core/localization';\nimport Trophy from 'assets/figures/Trophy';\nimport Rocket from 'assets/figures/Rocket';\nimport withNavigation from 'components/hocs/withNavigation';\nimport { StatusTooltip, Button, Link, CourseLogo } from 'components/common';\nimport * as courseSelectors from 'store/course/selectors';\nimport * as courseActions from 'store/course/actions';\nimport * as popupActions from 'store/popup/actions';\nimport CloseCoursePopup from 'components/popups/closeCourse';\nimport NpsPopup from 'components/popups/nps';\nimport startNewAttempt from 'components/popups/startNewAttempt';\nimport {\n  POPUP_ID_NPS_POPUP,\n  POPUP_ID_CLOSE_COURSE,\n  POPUP_ID_START_NEW_ATTEMPT\n} from 'constants/popups';\nimport * as settingSelectors from 'store/settings/selectors';\nimport { isAuthorized } from 'store/user/selectors';\nimport { getAffectProgressSectionsCount, getSectionsPassedCount } from 'store/sections/selectors';\nimport certificateLoader from 'core/documentLoaders/certificateLoader';\nimport {\n  getAffectProgressQuestionsCount,\n  getCorrectlyAffectProgressAnsweredQuestionsCount\n} from 'store/questions/selectors';\nimport { TOOLTIP, LINK } from 'constants/components';\nimport CourseAfterword from 'components/common/courseAfterword';\nimport { isLtiInitialized } from 'store/modules/selectors';\nimport { RootAppState } from 'store/types';\nimport {\n  Container,\n  Figure,\n  Header,\n  StyledText,\n  ButtonWrapper,\n  SeparatorElement,\n  WidthLimiterContainer\n} from './ResultsPage.styled';\n\ntype ResultsPageProps = {\n  isPassed?: boolean;\n  isPreviewMode: boolean;\n  navigateToIndex(): void;\n  navigateToPrevPage(): void;\n  checkHasPrevPage(): any;\n  affectProgressQuestionsCount: number;\n  affectProgressSectionsCount: number;\n  correctlyAnsweredQuestionsCount: number;\n  title: string;\n  isScormMode: boolean;\n  isLti: boolean;\n  courseActions: { [key: string]: any };\n  courseId: string;\n  templateId: string;\n  score: number;\n  logoUrl: string;\n  logoShown: boolean;\n  isCrossDeviceSavingEnabled: boolean;\n  learnStorageUrl: string;\n  selectedLanguage: string;\n  courseHasBeenContinued: boolean;\n  userAuthorized: boolean;\n  isAllowedDownloadCertificate: boolean;\n  certificateDownloaded: boolean;\n  popupActions: { [key: string]: any };\n  isNpsEnabled: boolean;\n  isOverallMasteryScore: boolean;\n  sectionsPassedCount: number;\n};\n\ntype ResultsPageState = {\n  isCertificateLoading: boolean;\n  showCertificateLoadedError: boolean;\n  npsPopupWasOpened: boolean;\n};\nexport class ResultsPage extends PureComponent<ResultsPageProps, ResultsPageState> {\n  constructor(props: ResultsPageProps) {\n    super(props);\n    this.state = {\n      isCertificateLoading: false,\n      showCertificateLoadedError: false,\n      npsPopupWasOpened: false\n    };\n  }\n\n  continueCourse = () => {\n    const { checkHasPrevPage, navigateToPrevPage, navigateToIndex } = this.props;\n    if (checkHasPrevPage()) {\n      navigateToPrevPage();\n    } else {\n      navigateToIndex();\n    }\n  };\n\n  openNpsPopup({ certificateButton = false } = {}) {\n    this.props.popupActions.openPopup({\n      popupId: POPUP_ID_NPS_POPUP,\n      popupAriaLabelKey: '[aria label close nps popup]',\n      component: NpsPopup,\n      fromDownloadCertificateButton: certificateButton,\n      disablePopupClosing: true,\n      disableBottomLine: true\n    });\n    this.setState({ npsPopupWasOpened: true });\n  }\n\n  openStartNewAttemptPopup = () => {\n    const { navigateToIndex } = this.props;\n    this.props.popupActions.openPopup({\n      popupId: POPUP_ID_START_NEW_ATTEMPT,\n      popupAriaLabelKey: '[aria label start new attempt popup]',\n      component: startNewAttempt,\n      newAttempt: this.props.courseActions.startNewAttempt,\n      navigateToIndex,\n      disablePopupClosing: false,\n      disableBottomLine: true\n    });\n  };\n\n  submitResults = async () => {\n    await this.props.courseActions.finished();\n\n    if (!this.props.isNpsEnabled) {\n      this.props.popupActions.openPopup({\n        popupId: POPUP_ID_CLOSE_COURSE,\n        popupAriaLabelKey: '[aria label close course popup]',\n        component: CloseCoursePopup,\n        disablePopupClosing: true\n      });\n      await this.props.courseActions.finalized();\n    }\n\n    if (this.props.isNpsEnabled) {\n      this.openNpsPopup();\n    }\n  };\n\n  downloadCertificate = async () => {\n    const data = {\n      courseId: this.props.courseId,\n      templateId: this.props.templateId,\n      courseTitle: this.props.title,\n      score: this.props.score,\n      logoUrl: this.props.logoUrl\n    };\n    this.setState({ isCertificateLoading: true });\n\n    const isCertificateDownloaded = await certificateLoader.downloadCertificate(\n      data,\n      this.props.learnStorageUrl,\n      this.props.selectedLanguage\n    );\n    await this.props.courseActions.certificateDownloaded(isCertificateDownloaded);\n    this.setState({\n      isCertificateLoading: false,\n      showCertificateLoadedError: !isCertificateDownloaded\n    });\n\n    if (this.props.isNpsEnabled && !this.state.npsPopupWasOpened) {\n      this.openNpsPopup({ certificateButton: true });\n    }\n  };\n\n  closeCourse = () => {\n    const { isNpsEnabled, userAuthorized } = this.props;\n    this.props.popupActions.openPopup({\n      popupId:\n        isNpsEnabled && !this.state.npsPopupWasOpened ? POPUP_ID_NPS_POPUP : POPUP_ID_CLOSE_COURSE,\n      popupAriaLabelKey:\n        isNpsEnabled && !this.state.npsPopupWasOpened\n          ? '[aria label close nps popup]'\n          : '[aria label close course popup]',\n      component:\n        isNpsEnabled && userAuthorized && !this.state.npsPopupWasOpened\n          ? NpsPopup\n          : CloseCoursePopup,\n      disablePopupClosing: true,\n      disableBottomLine: isNpsEnabled\n    });\n  };\n\n  hidePopover = async () => {\n    this.setState({ showCertificateLoadedError: false });\n  };\n\n  componentDidMount() {\n    document.title = `${localize('[title for results page]')} | ${this.props.title}`;\n  }\n\n  renderDownloadCertificateButton() {\n    const { courseHasBeenContinued, certificateDownloaded } = this.props;\n    return (\n      <ButtonWrapper>\n        <StatusTooltip\n          popoverPosition={'top'}\n          layout={TOOLTIP.INCORRECT}\n          showTooltip={this.state.showCertificateLoadedError}\n          message={localize('[certificate failed load]')}\n          popoverButton={\n            <Button\n              type=\"submit\"\n              layout={courseHasBeenContinued || certificateDownloaded ? 'secondary' : 'primary'}\n              tabIndex={1}\n              onClick={this.downloadCertificate}\n              isLoading={this.state.isCertificateLoading}\n              onBlur={this.hidePopover}\n            >\n              {localize('[download certificate]')}\n            </Button>\n          }\n        />\n      </ButtonWrapper>\n    );\n  }\n\n  renderCloseCourseButton() {\n    return (\n      <ButtonWrapper>\n        <Button layout={'secondary'} tabIndex={1} onClick={this.closeCourse}>\n          {localize('[close course]')}\n        </Button>\n      </ButtonWrapper>\n    );\n  }\n\n  renderContinueCourseButton() {\n    return (\n      <ButtonWrapper>\n        <Button tabIndex={1} onClick={this.continueCourse}>\n          {localize('[continue course]')}\n        </Button>\n      </ButtonWrapper>\n    );\n  }\n\n  renderStartNewAttemptButton() {\n    return (\n      <Link\n        text={localize('[start new attempt]')}\n        layout={LINK.LAYOUT.FORM}\n        onClick={this.openStartNewAttemptPopup}\n      />\n    );\n  }\n\n  renderSubmitResultsButton() {\n    const { isPassed } = this.props;\n\n    return (\n      <ButtonWrapper>\n        <Button\n          layout={isPassed ? 'primary' : 'secondary'}\n          tabIndex={1}\n          onClick={this.submitResults}\n        >\n          {localize('[submit results]')}\n        </Button>\n      </ButtonWrapper>\n    );\n  }\n\n  render() {\n    const {\n      isPassed,\n      isPreviewMode,\n      affectProgressQuestionsCount,\n      correctlyAnsweredQuestionsCount,\n      isScormMode,\n      isLti,\n      isAllowedDownloadCertificate,\n      userAuthorized,\n      isCrossDeviceSavingEnabled,\n      affectProgressSectionsCount,\n      isOverallMasteryScore,\n      sectionsPassedCount,\n      logoUrl,\n      logoShown\n    } = this.props;\n    return (\n      <Container logoShown={logoShown}>\n        {logoShown && <CourseLogo logoUrl={logoUrl} />}\n        <Figure>{isPassed ? <Trophy /> : <Rocket />}</Figure>\n        <Header appearance=\"h2\">\n          {localize(isPassed ? '[congratulations]' : '[course is not passed yet]')}\n        </Header>\n        <StyledText>\n          {localize(\n            isPassed\n              ? '[you passed the course successfully]'\n              : '[you have not passed the course yet]'\n          )}\n        </StyledText>\n        &nbsp;\n        {affectProgressQuestionsCount > 0 && isOverallMasteryScore && (\n          <StyledText>\n            {localize('[you correctly answered X questions out of Y]', {\n              correctQuestionsCount: correctlyAnsweredQuestionsCount,\n              totalQuestionsCount: affectProgressQuestionsCount\n            })}\n          </StyledText>\n        )}\n        {affectProgressSectionsCount > 0 && !isOverallMasteryScore && (\n          <StyledText>\n            {localize('[you passed X out of Y sections]', {\n              correctSectionsCount: sectionsPassedCount,\n              totalSectionsCount: affectProgressSectionsCount\n            })}\n          </StyledText>\n        )}\n        <Container>\n          <WidthLimiterContainer>\n            {isAllowedDownloadCertificate &&\n              isPassed &&\n              userAuthorized &&\n              isCrossDeviceSavingEnabled &&\n              !isScormMode &&\n              this.renderDownloadCertificateButton()}\n            {!isPassed && this.renderContinueCourseButton()}\n            {isPassed && !isScormMode && !isLti && this.renderCloseCourseButton()}\n            {!isPreviewMode && isPassed && this.renderStartNewAttemptButton()}\n            {(isScormMode || isLti) && this.renderSubmitResultsButton()}\n          </WidthLimiterContainer>\n          <CourseAfterword />\n        </Container>\n        <SeparatorElement />\n      </Container>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    isPassed: courseSelectors.isPassed(state),\n    isPreviewMode: settingSelectors.isPreviewMode(state),\n    title: courseSelectors.getCourseTitle(state),\n    affectProgressQuestionsCount: getAffectProgressQuestionsCount(state),\n    affectProgressSectionsCount: getAffectProgressSectionsCount(state),\n    correctlyAnsweredQuestionsCount: getCorrectlyAffectProgressAnsweredQuestionsCount(state),\n    isScormMode: settingSelectors.isScormMode(state),\n    isLti: isLtiInitialized(state),\n    courseId: courseSelectors.getCourseId(state),\n    templateId: courseSelectors.getTemplateId(state),\n    score: courseSelectors.getScore(state),\n    logoUrl: settingSelectors.getLogo(state),\n    logoShown: settingSelectors.isMainLogoShown(state),\n    isCrossDeviceSavingEnabled: settingSelectors.isCrossDeviceSavingEnabled(state),\n    learnStorageUrl: settingSelectors.getLearnServiceUrl(state),\n    selectedLanguage: settingSelectors.getSelectedLanguage(state),\n    courseHasBeenContinued: courseSelectors.hasBeenContinued(state),\n    userAuthorized: isAuthorized(state),\n    isAllowedDownloadCertificate: settingSelectors.isAllowedDownloadCertificate(state),\n    certificateDownloaded: courseSelectors.isCertificateDownloaded(state),\n    isNpsEnabled: settingSelectors.isNpsEnabled(state),\n    isOverallMasteryScore: settingSelectors.isOverallMasteryScore(state),\n    sectionsPassedCount: getSectionsPassedCount(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    courseActions: bindActionCreators(courseActions, dispatch),\n    popupActions: bindActionCreators(popupActions, dispatch)\n  };\n}\n\nexport default withNavigation(connect(mapStateToProps, mapDispatchToProps)(ResultsPage));\n","import styled, { css } from 'styled-components';\nimport media from 'components/mixins/media';\nimport { Z_INDEX, TOC } from 'constants/components';\nimport { MEDIA_TABLET, MEDIA_LARGE } from 'constants/screenResolutions';\nimport { getCustomScrollbars } from 'components/mixins/customScrollbars';\nimport { transition, pointerOnHover } from 'components/mixins/interactivity';\nimport { PageSidebar, PageContent } from 'components/shell/Layout';\nimport { PageContentChild } from 'components/shell/Layout/Layout.styled';\nimport { bodyBackground } from 'components/mixins/backgrounds';\nimport { transparentize } from 'utils/color';\n\ntype BlockoutProps = {\n  ariaHidden: any;\n  isTreeOfContentExpanded: boolean;\n}\nexport const Blockout = styled.div.attrs((props: BlockoutProps) => ({\n  'aria-hidden': props.ariaHidden\n})) <BlockoutProps>`\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: ${Z_INDEX.BLOCKOUT};\n  opacity: 0;\n  background-color: ${props => transparentize(props.theme.colors.contentBodyColor, 0.9)};\n  ${transition('opacity')};\n  ${pointerOnHover()};\n  ${(props: BlockoutProps) =>\n    props.isTreeOfContentExpanded &&\n    css`${media.tablet`\n      width: 100%;\n      height: 100vh;\n      opacity: 1;\n    `}`};\n`;\n\ntype CourseOverviewSidebarProps = {\n  isTreeOfContentExpanded: boolean;\n  background: any;\n}\nexport const CourseOverviewSidebar = styled(PageSidebar) <CourseOverviewSidebarProps>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: ${Z_INDEX.TOC};\n  width: ${TOC.EXPANDED_WIDTH}px;\n  height: 100%;\n  ${transition('left, transform')};\n  ${props => bodyBackground(props.background.body)};\n  ${media.tablet`\n    & [data-sidebar-child]{\n      height: 100%;\n    }\n  `};\n  ${props =>\n    props.isTreeOfContentExpanded &&\n    css`\n      @media (max-width: ${TOC.EXPANDED_WIDTH + TOC.TAIL_WIDTH}px) {\n        width: auto;\n        right: 30px;\n      }\n    `};\n  ${props =>\n    !props.isTreeOfContentExpanded &&\n    css`\n      left: -${TOC.EXPANDED_WIDTH}px;\n      ${media.xsmall`\n        left: 0;\n        transform: translateX(-100%);\n      `};\n    `};\n`;\n\ntype CourseOverviewContentProps = {\n  background: any;\n  isTreeOfContentExpanded: boolean;\n}\nexport const CourseOverviewContent = styled(PageContent) <CourseOverviewContentProps>`\n  position: absolute;\n  top: 0;\n  left: ${TOC.EXPANDED_WIDTH}px;\n  width: calc(100% - ${TOC.EXPANDED_WIDTH}px);\n  height: 100%;\n  ${props => bodyBackground(props.background.body)};\n  ${transition('left, width')};\n  ${props =>\n    !props.isTreeOfContentExpanded &&\n    css`\n      left: 0 !important;\n      width: 100% !important;\n    `};\n  ${media.tablet`\n    width: 100% !important;\n    left: 0 !important;\n  `};\n\n  & ${PageContentChild} {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n`;\n\nexport const PageContainer = styled.div`\n  max-height: 100vh;\n  margin: 0 auto;\n`;\n\ntype ContentContainerProps = {\n  logoShown: boolean;\n  isTreeOfContentExpanded: boolean;\n}\nexport const ContentContainer = styled.section<ContentContainerProps>`\n  width: 880px;\n  padding: ${props => (props.logoShown ? ' 0 0 120px 0' : '70px 0 120px 0')};\n  margin-right: auto !important;\n  margin-left: auto !important;\n  position: relative;\n\n  &:focus {\n    outline: none;\n  }\n\n  ${media.xlarge`\n    width: 750px;\n  `}\n\n  @media (max-width: ${props =>\n    props.isTreeOfContentExpanded ? MEDIA_LARGE - 40 : MEDIA_TABLET}px) {\n    width: 560px;\n  }\n\n  ${media.small`\n    width: 100%;\n  `};\n\n  ${props => props.logoShown ? css`\n    ${media.small`\n      padding: 0 30px 80px 30px;\n    `}\n  ` : css`\n    ${\n      media.small`\n      padding: 50px 30px 80px 30px;\n    `}\n  `}\n\n`;\n\nexport const Container = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  ${getCustomScrollbars()}\n  overflow-x: hidden;\n  background-color: ${props => props.theme.colors.secondaryColor};\n  -webkit-overflow-scrolling: touch;\n`;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { TransitionGroup, Transition } from 'react-transition-group';\nimport { TweenMax } from 'gsap';\nimport { getChain } from 'store/navigation/selectors';\nimport { history } from 'store';\nimport { CourseOverviewContent } from './CourseOverview.styled';\nimport { RootAppState } from 'store/types';\n\nexport const COURSE_OVERVIEW_TRANSITION_DURATION = 0.4;\n\nexport const COURSE_OVERVIEW_TRANSITION_TIMEOUT = 1000;\n\ntype CourseOverviewRouteTransitionProps = {\n  children: any;\n  location: { [key: string]: any };\n  isTreeOfContentExpanded: boolean;\n  background: { [key: string]: any };\n  urlsChain: any[];\n\n}\nexport class CourseOverviewRouteTransition extends Component<CourseOverviewRouteTransitionProps, {}> {\n  prevUrl: string;\n  unlistenHistory: any;\n  constructor(props: CourseOverviewRouteTransitionProps) {\n    super(props);\n    this.prevUrl = '';\n    this.unlistenHistory = '';\n  }\n\n  componentDidMount() {\n    const { location } = this.props;\n    this.prevUrl = location.pathname;\n    this.unlistenHistory = history.listen(listenLocation => {\n      this.prevUrl = listenLocation.pathname;\n    });\n  }\n\n  componentWillUnmount() {\n    this.unlistenHistory();\n  }\n\n  onEnter = (node: any, isAppearing: any) => {\n    const { location, urlsChain } = this.props;\n    if (isAppearing) {\n      return undefined;\n    }\n    if (urlsChain.indexOf(this.prevUrl) < urlsChain.indexOf(location.pathname)) {\n      TweenMax.fromTo(\n        node,\n        COURSE_OVERVIEW_TRANSITION_DURATION,\n        { opacity: 0, y: 300 },\n        { opacity: 1, y: 0, delay: COURSE_OVERVIEW_TRANSITION_DURATION, clearProps: 'transform' }\n      );\n    } else {\n      TweenMax.fromTo(\n        node,\n        COURSE_OVERVIEW_TRANSITION_DURATION,\n        { opacity: 0, y: -300 },\n        { opacity: 1, y: 0, delay: COURSE_OVERVIEW_TRANSITION_DURATION, clearProps: 'transform' }\n      );\n    }\n  };\n\n  onExit = (node: any) => {\n    const { location, urlsChain } = this.props;\n    if (urlsChain.indexOf(this.prevUrl) < urlsChain.indexOf(location.pathname)) {\n      TweenMax.fromTo(\n        node,\n        COURSE_OVERVIEW_TRANSITION_DURATION,\n        { opacity: 1, y: 0 },\n        { opacity: 0, y: -300, clearProps: 'transform' }\n      );\n    } else {\n      TweenMax.fromTo(\n        node,\n        COURSE_OVERVIEW_TRANSITION_DURATION,\n        { opacity: 1, y: 0 },\n        { opacity: 0, y: 300, clearProps: 'transform' }\n      );\n    }\n  };\n\n  render() {\n    const { children, location, isTreeOfContentExpanded, background } = this.props;\n    return (\n      <TransitionGroup\n        component={CourseOverviewContent}\n        isTreeOfContentExpanded={isTreeOfContentExpanded}\n        background={background}\n      >\n        <Transition\n          key={location.pathname}\n          in\n          appear={false}\n          onEnter={this.onEnter}\n          onExit={this.onExit}\n          timeout={COURSE_OVERVIEW_TRANSITION_TIMEOUT}\n        >\n          {children}\n        </Transition>\n      </TransitionGroup>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    urlsChain: getChain(state)\n  };\n}\n\nexport default connect(mapStateToProps)(CourseOverviewRouteTransition);\n","import React, { Fragment, Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { getTreeOfContentVisibility } from 'store/treeOfContent/selectors';\nimport TreeOfContent from 'components/treeOfContent/TreeOfContent';\nimport { RESULTS_PATH, QUESTION_PATH, LEARNING_OBJECTIVE_PATH } from 'constants/navigation';\nimport * as actions from 'store/treeOfContent/actions';\nimport { getBackground, isMainLogoShown } from 'store/settings/selectors';\nimport QuestionPage from '../question/QuestionPage';\nimport LearningObjective from '../learningObjective/LearningObjective';\nimport ResultsPage from '../results/ResultsPage';\nimport CourseOverviewRouteTransition from './RouteTransition';\nimport NotFound from '../../components/notFound/NotFound';\n\nimport {\n  Container,\n  PageContainer,\n  ContentContainer,\n  CourseOverviewSidebar,\n  Blockout\n} from './CourseOverview.styled';\nimport { RootAppState } from 'store/types';\n\ntype CourseOverviewProps = {\n  theme: {[key: string]: any};\n  isLowResolution: boolean;\n  isTreeOfContentExpanded: boolean;\n  actions: {[key: string]: any};\n  background: {[key: string]: any};\n  logoShown: boolean;\n};\nexport class CourseOverview extends Component<CourseOverviewProps, {}> {\n  render() {\n    const { isTreeOfContentExpanded, background, logoShown } = this.props;\n    return (\n      <Fragment>\n        <CourseOverviewSidebar\n          background={background}\n          isTreeOfContentExpanded={isTreeOfContentExpanded}\n        >\n          <TreeOfContent />\n        </CourseOverviewSidebar>\n        <Blockout\n          isTreeOfContentExpanded={isTreeOfContentExpanded}\n          onClick={this.props.actions.toggleTreeOfContentVisibility}\n          ariaHidden={true}\n        />\n        <Route\n          render={({ location }) => (\n            <CourseOverviewRouteTransition\n              background={background}\n              isTreeOfContentExpanded={isTreeOfContentExpanded}\n              location={location}\n            >\n              <Container>\n                <PageContainer>\n                  <ContentContainer\n                    isTreeOfContentExpanded={isTreeOfContentExpanded}\n                    logoShown={logoShown}\n                  >\n                    <Switch location={location}>\n                      <Route exact path={LEARNING_OBJECTIVE_PATH} component={LearningObjective} />\n                      <Route exact path={QUESTION_PATH} component={QuestionPage} />\n                      <Route exact path={RESULTS_PATH} component={ResultsPage} />\n                      <Route exact path=\"*\" component={NotFound} />\n                    </Switch>\n                  </ContentContainer>\n                </PageContainer>\n              </Container>\n            </CourseOverviewRouteTransition>\n          )}\n        />\n      </Fragment>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return { actions: bindActionCreators(actions, dispatch) };\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    isLowResolution: state.app.isLowResolution,\n    isTreeOfContentExpanded: getTreeOfContentVisibility(state),\n    background: getBackground(state),\n    logoShown: isMainLogoShown(state)\n  };\n}\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CourseOverview);\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\nimport { secondaryFont } from 'components/mixins/typography';\nimport { MEDIA_LARGE } from 'constants/screenResolutions';\nimport { bodyBackground } from 'components/mixins/backgrounds';\nimport { BasicStyledSidebar, PageContent } from 'components/shell/Layout';\nimport { transparentize } from 'utils/color';\nimport { centerAbsoluteElement } from 'components/mixins/placement';\nimport Text from 'components/common/Text';\nimport Icon from 'components/common/Icon';\nimport Button from 'components/common/Button';\nimport { getCustomScrollbars } from 'components/mixins/customScrollbars';\n\nexport const LoginPageSidebar = styled(BasicStyledSidebar)``;\n\nexport const FootNoteText = styled(Text)`\n  position: absolute;\n  bottom: 47px;\n  color: ${props => props.theme.colors.coverBgOverlayTextColor};\n  width: 400px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-weight: normal;\n  line-height: 1.5;\n  text-align: center;\n`;\n\ntype LoginPageContentProps = {\n  background: any\n}\nexport const LoginPageContent = styled(PageContent)<LoginPageContentProps>`\n  position: absolute;\n  top: 0;\n  left: 50%;\n  height: 100%;\n  width: 50%;\n  z-index: 100;\n  overflow-y: auto;\n  ${getCustomScrollbars()}\n  ${props => bodyBackground(props.background.body)};\n  ${media.tablet`\n    position: relative;\n    width: 100%;\n    left: 0;\n  `};\n`;\n\nexport const LoginSection = styled.section`\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n  padding-top: 40px;\n`;\n\ntype CourseLogoProps = {\n  altText: string;\n  logoUrl: string;\n}\nexport const CourseLogo = styled.img.attrs((props: CourseLogoProps) => ({\n  alt: props.altText,\n  src: props.logoUrl\n})) <CourseLogoProps>`\n  display: none;\n  margin: 56px auto;\n  max-width: 200px;\n  max-height: 80px;\n\n  ${media.tablet`\n    margin: 36px auto;\n    display: block;\n  `};\n`;\n\nexport const CourseLogoSidebar = styled.img.attrs((props: CourseLogoProps) => ({\n  alt: props.altText,\n  src: props.logoUrl\n})) <CourseLogoProps>`\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n  margin: 0 auto;\n`;\n\nexport const CourseLogoSidebarWrapper = styled.div`\n  width: 360px;\n  height: 200px;\n  position: absolute;\n  ${centerAbsoluteElement};\n`;\n\nexport const IconLimitAccess = styled(Icon)`\n  opacity: 0.5;\n`;\n\nexport const TextLimitAccess = styled(Text)`\n  word-wrap: break-word;\n  font-weight: 300;\n  font-size: 35px;\n  text-align: center;\n  line-height: 1.5;\n  margin: 40px 0;\n  width: 100%;\n  ${media.medium`\n    & {\n      font-size: 30px;\n    }\n  `};\n  ${media.mobile`\n    & {\n      font-size: 22px;\n    }\n  `};\n`;\n\nexport const ContainerLimitAccess = styled.div`\n  width: 440px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 130px 0;\n  ${media.medium`\n    & {\n      margin-top: 80px;\n    }\n  `};\n  ${media.mobile`\n    & {\n      width: 100%;\n      padding: 0 20px;\n      margin-top: 40px;\n    }\n  `};\n`;\n\nexport const ButtonLimitAccess = styled(Button)`\n  background-color: ${props => props.theme.colors.mainColor};\n  width: 198px;\n  text-align: center;\n\n  & span:first-child {\n    margin-top: 0;\n    ${secondaryFont};\n    font-weight: 600;\n    transition: all 0.1s ease-out;\n  }\n\n  & .icon {\n    font-size: 8px;\n    right: auto;\n    left: 30px;\n  }\n  &:hover,\n  &:focus {\n    background-color: ${props => transparentize(props.theme.colors.mainColor, 0.9)};\n  }\n  @media (min-width: ${MEDIA_LARGE}px) {\n    &:hover span:first-child,\n    &:focus span:first-child {\n      padding-right: 0;\n      padding-left: 20px;\n    }\n  }\n  &:active {\n    background-color: ${props => transparentize(props.theme.colors.mainColor)};\n  }\n`;\n","import React, { Fragment, PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport withNavigation from 'components/hocs/withNavigation';\nimport { getBackground, getLogo, getAlternativeLogo } from 'store/settings/selectors';\nimport { getCourseTitle } from 'store/course/selectors';\nimport * as userActions from 'store/user/actions';\nimport { localize } from 'core/localization';\nimport { BUTTON } from 'constants/components';\nimport {\n  LoginPageSidebar,\n  LoginPageContent,\n  CourseLogo,\n  CourseLogoSidebar,\n  CourseLogoSidebarWrapper,\n  LoginSection,\n  IconLimitAccess,\n  TextLimitAccess,\n  ContainerLimitAccess,\n  ButtonLimitAccess,\n  FootNoteText\n} from './LimitAccessPage.styled';\nimport { RootAppState } from 'store/types';\n\ntype  LimitAccessPageProps = {\n  actions: {[key: string]: any};\n  navigateToUrl(): void;\n  background:{[key: string]: any};\n  logoUrl: string;\n  alternativeLogoUrl: string;\n  title: string;\n};\n\nexport class LimitAccessPage extends PureComponent<LimitAccessPageProps, {}> {\n  componentDidMount() {\n    document.title = `${localize('[title for noaccess page]')} | ${this.props.title}`;\n  }\n\n  async backToLoginAction() {\n    return this.props.actions.logout();\n  }\n\n  render() {\n    const { background, logoUrl, alternativeLogoUrl } = this.props;\n    return (\n      <Fragment>\n        <LoginPageSidebar background={background}>\n          <CourseLogoSidebarWrapper>\n            <CourseLogoSidebar\n              altText={localize('[alt logo login]')}\n              logoUrl={alternativeLogoUrl}\n            />\n          </CourseLogoSidebarWrapper>\n          <FootNoteText appearance=\"p\" font=\"secondaryFont\" size={12}>\n            {localize('[footnote]')}\n          </FootNoteText>\n        </LoginPageSidebar>\n        <LoginPageContent background={background}>\n          <LoginSection>\n            <CourseLogo altText={localize('[alt logo login]')} logoUrl={logoUrl} />\n            <ContainerLimitAccess>\n              <IconLimitAccess name=\"attention\" size={64} color=\"textColor\" />\n              <TextLimitAccess appearance=\"p\" font=\"secondaryFont\">\n                {localize('[the owner of the course has limited the access]')}\n              </TextLimitAccess>\n              <ButtonLimitAccess\n                suffixIcon=\"arrow-left\"\n                onClick={this.backToLoginAction.bind(this)}\n                target=\"_self\"\n                layout={BUTTON.LAYOUT.PRIMARY}\n              >\n                {localize('[back to login]')}\n              </ButtonLimitAccess>\n            </ContainerLimitAccess>\n          </LoginSection>\n        </LoginPageContent>\n      </Fragment>\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    title: getCourseTitle(state),\n    background: getBackground(state),\n    logoUrl: getLogo(state),\n    alternativeLogoUrl: getAlternativeLogo(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(userActions, dispatch)\n  };\n}\n\nexport default withNavigation(connect(mapStateToProps, mapDispatchToProps)(LimitAccessPage));\n","/* eslint-disable prefer-destructuring */\nconst error = console.error;\nconst warn = console.warn;\nconst info = console.info;\nconst log = console.log;\n\nexport default {\n  log,\n  warn,\n  info,\n  error\n};\n","import resourceLoader from 'core/http/resourceLoader';\n\nexport const SETTINGS_LOADED = 'SETTINGS_LOADED';\nexport const SETTINGS_LOADING_FAILED = 'SETTINGS_LOADING_FAILED';\n\nclass ConfigurationReader {\n  readManifest() {\n    return resourceLoader.getLocalJsonResource('manifest.json');\n  }\n\n  readSettings() {\n    return resourceLoader.getLocalJsonResource('settings.js');\n  }\n\n  readPublishSettings() {\n    return resourceLoader.getLocalJsonResource('publishSettings.js');\n  }\n\n  readThemeSettings() {\n    return resourceLoader.getLocalJsonResource('themeSettings.js');\n  }\n\n  readCustomization() {\n    return resourceLoader.getLocalJsonResource('customisations.json');\n  }\n}\n\nexport default new ConfigurationReader();\n","import { deepMerge } from 'utils/object';\nimport resourceLoader from 'core/http/resourceLoader';\nimport { DEFAULT_LANGUAGE_CODE, CUSTOM_LANGUAGE_CODE } from 'constants/common';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const getTranslations = async function (settings: { [key: string]: any}) {\n  const languageCode = settings.languages.selected;\n\nif (languageCode === CUSTOM_LANGUAGE_CODE) {\n  const defaultTranslations = await loadTranslation(DEFAULT_LANGUAGE_CODE);\n  return deepMerge(defaultTranslations, settings.languages.customTranslations);\n}\n\nreturn loadTranslation(languageCode);\n};\n\nfunction loadTranslation(code: any) {\n  return resourceLoader.getLocalJsonResource(`lang/${code}.json`);\n}\n","import { deepExtend } from 'utils/object';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const processSettings = function (settings: { [key: string]: any}, themeSettings: { [key: string]: any }, manifest: { [key: string]: any }) {\n  return deepExtend(\n    processThemeSettings(themeSettings, manifest),\n    processTemplateSettings(settings, manifest)\n  );\n};\n\nfunction processThemeSettings(themeSettings: any, manifest: any) {\n  let preset = manifest && Array.isArray(manifest.presets) ? manifest.presets[0] : null;\n  let defaultThemeSettings = preset != null ? preset.settings : {};\n\n  return deepExtend(defaultThemeSettings, themeSettings);\n}\n\nfunction processTemplateSettings(templateSettings: any, manifest: any) {\n  if (!manifest.defaultTemplateSettings) {\n    throw new Error(\"Manifest doesn't have defaultTemplateSettings\");\n  }\n  return deepExtend(manifest.defaultTemplateSettings, templateSettings);\n}\n","import * as settingsActions from 'store/settings/actions';\nimport * as courseActions from 'store/course/actions';\nimport * as userActions from 'store/user/actions';\nimport * as modulesActions from 'store/modules/actions';\nimport * as tocActions from 'store/treeOfContent/actions';\nimport { isAuthenticated } from 'store/user/selectors';\nimport { isReviewMode } from 'store/settings/selectors';\nimport { isLowerResolution, clearQueryString, getValueFromUrl } from 'utils/window';\nimport logger from 'utils/logger';\nimport { MEDIA_TABLET } from 'constants/screenResolutions';\nimport { LTI_CALLBACK_URL_PARAMETER_NAME } from 'constants/common';\n\nimport { isAppLoaded } from './selectors';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from 'store/types';\n\nexport const load = (): ThunkResult => async (dispatch, getState) => {\n  if (isAppLoaded(getState())) return;\n\n  try {\n    await dispatch(settingsActions.load());\n    await dispatch(modulesActions.subscribeProgressStorage());\n    await dispatch(courseActions.load());\n    if (isReviewMode(getState())) {\n      await dispatch(modulesActions.enableReview());\n    }\n    await dispatch(userActions.load());\n    clearQueryString();\n    if (isAuthenticated(getState())) {\n      await dispatch(courseActions.launch());\n    }\n\n    const ltiCallbackUrl = getValueFromUrl(LTI_CALLBACK_URL_PARAMETER_NAME);\n    if (ltiCallbackUrl) {\n      dispatch(modulesActions.subscribeLti(ltiCallbackUrl));\n    }\n    dispatch({ type: ActionTypes.APP_LOADED });\n  } catch (e) {\n    logger.error(e);\n    dispatch({ type: ActionTypes.APP_LOADING_FAILED, reason: e });\n\n  }\n};\n\nexport const resolutionChanged = (): ThunkResult => dispatch => {\n  dispatch({\n    type: ActionTypes.APP_RESOLUTION_CHANGED,\n    payload: {\n      isLowResolution: isLowerResolution(MEDIA_TABLET)\n    }\n  });\n  dispatch(tocActions.adaptToResolution());\n};\n","import logger from 'utils/logger';\nimport { hasQueryStringParameter } from 'utils/window';\nimport configurationReader from 'core/configuration/reader';\nimport { getTranslations } from 'core/configuration/translationProvider';\nimport { processSettings } from 'core/configuration/settingsProcessor';\nimport { loadFonts } from 'core/fonts/loader';\n\nimport { ActionTypes } from './types';\nimport { ThunkResult } from 'store/types';\n\nexport const load = (): ThunkResult<Promise<void>> => async dispatch => {\n  try {\n    const manifest: { [key: string]: any } = await configurationReader.readManifest();\n    const customization: { [key: string]: any } = await configurationReader.readCustomization();\n    const publishSettings: { [key: string]: any } = await configurationReader.readPublishSettings();\n    const templateThemeSettings = await configurationReader.readThemeSettings();\n    const templateSettings = await configurationReader.readSettings();\n    const settings: { [key: string]: any } = processSettings(templateSettings, templateThemeSettings, manifest);\n    const translations: { [key: string]: any } = await getTranslations(settings);\n    await loadFonts(settings && settings.fonts, publishSettings.customFontPlace);\n\n    const publishMode: { [key: string]: any } = {\n      isPreview: publishSettings.publishMode === 'Preview',\n      isReview: hasQueryStringParameter('reviewApiUrl'),\n      isScorm: publishSettings.publishMode === 'Lms' || publishSettings.publishMode === 'Lms2004',\n      isScorm2004: publishSettings.publishMode === 'Lms2004'\n    };\n\n    if (publishMode.isPreview || publishMode.isReview) {\n      settings.general.conductLearnerSatisfactionSurvey.enabled = false;\n      settings.general.saveProgressCrossDevice.enabled = false;\n      settings.results.resultsTracking.enabled = false;\n    }\n\n    delete publishSettings.publishMode;\n\n    dispatch({\n      type: ActionTypes.SETTINGS_LOADED,\n      settings: {\n        manifest,\n        publishSettings,\n        settings,\n        customization,\n        translations,\n        publishMode\n      } as any\n    });\n  } catch (e) {\n    logger.error(e);\n    dispatch({ type: ActionTypes.SETTINGS_LOADING_FAILED, reason: e });\n    throw e;\n  }\n};\n","import * as React from 'react';\n\ntype Props = {\n  location: { [key: string]: any }\n}\n\nfunction withScrollOnRedirect<T>(WrappedComponent: React.ComponentType<T>): any {\n  return class ScrollToTop extends React.Component<Props & T, {}> {\n    componentDidUpdate(prevProps: Props & T) {\n      if (this.props.location !== prevProps.location) {\n        window.scrollTo(0, 0);\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n\n    static propTypes: Props;\n  };\n}\n\nexport default withScrollOnRedirect;\n","import styled from 'styled-components';\nimport media from 'components/mixins/media';\n\nexport default styled.div`\n  position: absolute;\n  top: 0;\n  left: 50%;\n  height: 100%;\n  width: 50%;\n  z-index: 106;\n  ${media.tablet`\n    position: relative;\n    width: 100%;\n    left: 0;\n    min-height: 500px;\n  `};\n`;\n","import { connect } from 'react-redux';\nimport { getBackground, getLogo } from 'store/settings/selectors';\nimport * as React from 'react';\nimport NotFound from '../../components/notFound/NotFound';\nimport NotFoundPageContent from './NotFoundPage.styled';\nimport { RootAppState } from 'store/types';\n\ntype NotFoundPageProps = {\n  background: {[key: string]: any};\n  logoUrl: string;\n};\n\nconst NotFoundPage = (props: NotFoundPageProps) => (\n  <NotFoundPageContent>\n    <NotFound {...props} />\n  </NotFoundPageContent>\n);\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    background: getBackground(state),\n    logoUrl: getLogo(state)\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  {}\n)(NotFoundPage);\n","import { TweenMax } from 'gsap';\nimport { isIndexView, isSectionsView, isCourseOverviewView } from './viewChecker';\n\nexport const MOBILE_TRANSITION_DURATION = 0.5;\n\nexport const MOBILE_TRANSITION_TIMEOUT = MOBILE_TRANSITION_DURATION * 2;\n\nexport const useMobileTransition = (node: any, pathname?: any, background?: any) => {\n  TweenMax.to(node, 0, { opacity: 1 });\n  return {\n    appear: () => {},\n    enter: () => {\n      const windowWidth = window.innerWidth;\n      if (isIndexView.test(pathname) || isSectionsView.test(pathname)) {\n        TweenMax.fromTo(\n          node,\n          MOBILE_TRANSITION_DURATION,\n          {\n            x: -windowWidth\n          },\n          {\n            x: 0\n          }\n        );\n      } else if (isCourseOverviewView(pathname)) {\n        TweenMax.fromTo(\n          node,\n          MOBILE_TRANSITION_DURATION,\n          {\n            x: windowWidth\n          },\n          {\n            x: 0\n          }\n        );\n      }\n    },\n    exit: () => {\n      const windowWidth = window.innerWidth;\n      const { body } = background;\n      const getBodyColor = body.enabled && body.color ? body.color : 'transparent';\n\n      if (isIndexView.test(pathname) || isSectionsView.test(pathname)) {\n        TweenMax.fromTo(\n          node,\n          MOBILE_TRANSITION_DURATION,\n          {\n            x: 0,\n            scale: 0.8\n          },\n          {\n            x: windowWidth,\n            scale: 1\n          }\n        );\n        TweenMax.to(document.body, 0.1, { backgroundColor: getBodyColor });\n      } else if (isCourseOverviewView(pathname)) {\n        TweenMax.fromTo(\n          node,\n          MOBILE_TRANSITION_DURATION,\n          {\n            x: 0,\n            scale: 0.8\n          },\n          {\n            x: -windowWidth,\n            scale: 1\n          }\n        );\n        TweenMax.to(document.body, 0.1, { backgroundColor: getBodyColor });\n      }\n    }\n  };\n};\n","export const SIDEBAR_SELECTOR = 'data-sidebar';\nexport const CONTENT_SELECTOR = 'data-content';\nexport const SIDEBAR_CHILD_SELECTOR = 'data-sidebar-child';\nexport const CONTENT_CHILD_SELECTOR = 'data-content-child';\n\nexport const getNodeByDataAttribute = (selector: any, node: any) =>\n  node ? node.querySelector(`[${selector}]`) : document.querySelector(`[${selector}]`);\n\nexport const getNodes = (parentNode: any) => ({\n  layout: parentNode,\n  sidebar: getNodeByDataAttribute(SIDEBAR_SELECTOR, parentNode),\n  sidebarChild: getNodeByDataAttribute(SIDEBAR_CHILD_SELECTOR, parentNode),\n  content: getNodeByDataAttribute(CONTENT_SELECTOR, parentNode),\n  contentChild: getNodeByDataAttribute(CONTENT_CHILD_SELECTOR, parentNode)\n});\n","import { TweenMax, TimelineMax } from 'gsap';\nimport { transparentize } from 'utils/color';\nimport { TOC } from 'constants/components';\nimport { getNodes } from './domHelper';\nimport { isHomeView, isCourseOverviewView } from './viewChecker';\n\nexport const animateToHome = (nodes: any, background: any) => {\n  const timeLine = new TimelineMax();\n  const duration = 0.2;\n  timeLine\n    .staggerTo([nodes.sidebarChild, nodes.contentChild], 0.3, { y: -200, opacity: 0 }, 0.1)\n    .to(\n      nodes.content,\n      duration,\n      {\n        width: '50%',\n        left: '50%'\n      },\n      '-=0.1'\n    )\n    .to(\n      nodes.sidebar,\n      duration,\n      {\n        width: '50%',\n        left: 0,\n        backgroundColor: background.header.coverOverlay.enabled\n          ? transparentize(\n            background.header.coverOverlay.color,\n            background.header.coverOverlay.opacity\n          )\n          : 'transparent'\n      },\n      `-=${duration}`\n    )\n    .to(nodes.layout, 0, { opacity: 0 }, '+=0.2');\n\n  return timeLine;\n};\n\nexport const animateToCourseOverview = (nodes: any, isTocExpanded: any, { body, header }: { [key: string]: any }) => {\n  const timeLine = new TimelineMax();\n  const duration = 0.5;\n  const getSidebarBackgroundColor = () => {\n    if (body.enabled && body.color) {\n      return transparentize(body.color, 0.9);\n    }\n    if (header.coverOverlay.enabled) {\n      return transparentize(header.coverOverlay.color, header.coverOverlay.opacity);\n    }\n    return 'transparent';\n  };\n\n  timeLine\n    .staggerTo([nodes.sidebarChild, nodes.contentChild], 0.3, { y: -200, opacity: 0 }, 0.1)\n    .to(\n      nodes.content,\n      duration,\n      {\n        width: isTocExpanded ? window.innerWidth - TOC.EXPANDED_WIDTH : window.innerWidth,\n        left: isTocExpanded ? TOC.EXPANDED_WIDTH : 0\n      },\n      '-=0.1'\n    )\n    .to(\n      nodes.sidebar,\n      duration,\n      {\n        width: isTocExpanded ? TOC.EXPANDED_WIDTH : 0,\n        left: isTocExpanded ? 0 : -TOC.EXPANDED_WIDTH + 150,\n        delay: 0,\n        backgroundColor: getSidebarBackgroundColor()\n      },\n      `-=${duration - 0.2}`\n    )\n    .to(nodes.layout, 0, { opacity: 0 }, '+=0.1');\n\n  return timeLine;\n};\n\nexport const useDesktopTransitionForNextPage = (\n  pathname: any,\n  nodes: any,\n  theme: any,\n  isTocExpanded: any,\n  background: any\n) => {\n  if (isHomeView(pathname)) {\n    return animateToHome(nodes, background);\n  }\n  if (isCourseOverviewView(pathname)) {\n    return animateToCourseOverview(nodes, isTocExpanded, background);\n  }\n};\n\nexport const useDesktopTransition = (node: any) => {\n  TweenMax.to(node, 0, { opacity: 1 });\n  document.body.removeAttribute('style');\n  return {\n    appear: () => {\n      const nodes: any = getNodes(node);\n      if (!nodes.content) {\n        return;\n      }\n\n      const timeLine = new TimelineMax();\n      timeLine\n        .to(nodes.content, 0, { zIndex: 9999 })\n        .from(nodes.content, 0.2, { width: '100%', left: 0, delay: 0.1 })\n        .staggerFrom([nodes.sidebarChild, nodes.contentChild], 0.2, { y: -200, opacity: 0 }, 0.1)\n        .eventCallback('onComplete', () => {\n          for (const n in nodes) {\n            nodes[n].removeAttribute('style');\n          }\n        });\n    },\n    enter: () => {\n      const nodes = getNodes(node);\n      if (!nodes.content) {\n        return;\n      }\n      TweenMax.staggerFrom(\n        [nodes.sidebarChild, nodes.contentChild],\n        0.2,\n        { y: -300, opacity: 0, delay: 1 },\n        0.1,\n        () => {\n          nodes.sidebarChild.removeAttribute('style');\n          nodes.contentChild.removeAttribute('style');\n        }\n      );\n    },\n    exit: (location: any, theme: any, isTocExpanded: any, background: any) => {\n      const nodes = getNodes(node);\n      if (!nodes.content) {\n        return;\n      }\n      if (nodes.content && isTocExpanded) {\n        nodes.content.style.zIndex = 9999;\n      }\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useDesktopTransitionForNextPage(location.pathname, nodes, theme, isTocExpanded, background);\n    }\n  };\n};\n","import styled from 'styled-components';\n\n/* eslint-disable */\nexport const RouteContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100vh;\n`;\n","import React, { Component } from 'react';\nimport { withTheme } from 'styled-components';\nimport { TransitionGroup, Transition } from 'react-transition-group';\nimport { isHomeView } from './viewChecker';\nimport { useMobileTransition, MOBILE_TRANSITION_TIMEOUT } from './mobile';\nimport { useDesktopTransition } from './desktop';\nimport { RouteContainer } from './RouteTransition.styled';\n\nexport const DESKTOP_TIMEOUT = 1000;\n\ntype RouteTransitionProps = {\n  children: any;\n  isLowResolution: boolean;\n  location: { [key: string]: any };\n  theme: { [key: string]: any };\n  isTocExpanded: boolean;\n  background: { [key: string]: any };\n\n}\nexport class RouteTransition extends Component<RouteTransitionProps, {}> {\n  getTransitionKey = (pathname: any) => {\n    if (isHomeView(pathname)) {\n      return 'sections';\n    }\n    return 'courseOverview';\n  };\n\n  onEnter = (node: any, isAppearing: any) => {\n    const { isLowResolution, location } = this.props;\n    if (isLowResolution && isAppearing) {\n      return useMobileTransition(node).appear();\n    }\n    if (isLowResolution) {\n      return useMobileTransition(node, location.pathname).enter();\n    }\n    if (!isLowResolution && isAppearing) {\n      return useDesktopTransition(node).appear();\n    }\n    return useDesktopTransition(node).enter();\n  };\n\n  onExit = (node: any) => {\n    const { isLowResolution, location, theme, isTocExpanded, background } = this.props;\n    if (isLowResolution) {\n      return useMobileTransition(node, location.pathname, background).exit();\n    }\n    return useDesktopTransition(node).exit(location, theme, isTocExpanded, background);\n  };\n\n  render() {\n    const { children, location, isLowResolution } = this.props;\n    return (\n      <TransitionGroup component={RouteContainer}>\n        <Transition\n          in\n          appear={true}\n          onEnter={this.onEnter}\n          onExit={this.onExit}\n          key={this.getTransitionKey(location.pathname)}\n          timeout={isLowResolution ? MOBILE_TRANSITION_TIMEOUT : DESKTOP_TIMEOUT}\n        >\n          {children}\n        </Transition>\n      </TransitionGroup>\n    );\n  }\n}\n\nexport default withTheme(RouteTransition);\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport throttle from 'lodash.throttle';\nimport { ThemeProvider } from 'styled-components';\nimport { getColors, getFonts, getBackground } from 'store/settings/selectors';\nimport {\n  INDEX_PATH,\n  SECTIONS_PATH,\n  SECTION_PATH,\n  RESULTS_PATH,\n  SIGNUP_PATH,\n  LOGIN_PATH\n} from 'constants/navigation';\nimport { IS_NO_ACCESS, IS_NOT_AUTHORIZED, IS_SUCCESSFUL_ACCESS } from 'constants/typeAccess';\nimport { withRouter, Switch, Route } from 'react-router-dom';\nimport Sections from 'pages/sections';\nimport SignUp from 'pages/signUp';\nimport Login from 'pages/login';\nimport CourseOverview from 'pages/courseOverview';\nimport NoAccess from 'pages/noAccess';\nimport * as actions from 'store/app/actions';\nimport { isAppLoading, isAppLoadingFailed } from 'store/app/selectors';\nimport withScrollOnRedirect from 'components/hocs/withScrollOnRedirect';\nimport NotFoundPage from 'pages/notFound/NotFoundPage';\nimport { getTreeOfContentVisibility } from 'store/treeOfContent/selectors';\nimport { isAuthenticated } from 'store/user/selectors';\nimport { isCourseAccessLimited } from 'store/course/selectors';\nimport { CircleLoader, PrivateRoute, RouteWithRedirect } from '../common';\nimport Layout from './Layout';\nimport RouteTransition from './RouteTransition';\nimport { RootAppState } from 'store/types';\n\ntype ShellProps = {\n  colors: { [key: string]: any };\n  fonts: { [key: string]: any };\n  background: { [key: string]: any };\n  actions: { [key: string]: any };\n  isLoading: boolean;\n  isLoadingFailed: boolean;\n  isLowResolution: boolean;\n  isTocExpanded: boolean;\n  isUserAuthenticated: boolean;\n  location: { [key: string]: any };\n  userAccessIsLimited: boolean;\n}\n\ntype ShellState = {\n  hasError: boolean;\n}\nexport class Shell extends React.Component<ShellProps, ShellState> {\n  constructor(props: ShellProps) {\n    super(props);\n    this.state = {\n      hasError: false\n    };\n  }\n\n  windowResizeHandler = throttle(() => {\n    this.props.actions.resolutionChanged();\n  }, 500);\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.windowResizeHandler);\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.windowResizeHandler);\n    this.props.actions.resolutionChanged();\n    this.props.actions.load();\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(`Component did catch: ${error}, ${errorInfo}`);\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    const { isLoading, isLoadingFailed } = this.props;\n    const { hasError } = this.state;\n\n    if (isLoading) {\n      return <CircleLoader iconSize={96} />;\n    }\n\n    if (isLoadingFailed || hasError) {\n      return <h1>Something went wrong.</h1>;\n    }\n\n    return this.renderRoute();\n  }\n\n  renderRoute() {\n    const {\n      isLowResolution,\n      colors,\n      fonts,\n      isTocExpanded,\n      background,\n      isUserAuthenticated,\n      userAccessIsLimited\n    } = this.props;\n\n    let typeAccess = IS_SUCCESSFUL_ACCESS;\n\n    const forbidRoute = userAccessIsLimited || !isUserAuthenticated;\n\n    if (forbidRoute) {\n      typeAccess = userAccessIsLimited && isUserAuthenticated ? IS_NO_ACCESS : IS_NOT_AUTHORIZED;\n    }\n\n    return (\n      <Route\n        render={({ location }) => (\n          <ThemeProvider theme={{ colors, fonts }}>\n            <RouteTransition\n              location={location}\n              isLowResolution={isLowResolution}\n              isTocExpanded={isTocExpanded}\n              background={background}\n            >\n              <Layout className=\"layout\">\n                <Switch location={location}>\n                  <PrivateRoute\n                    exact\n                    path={INDEX_PATH}\n                    component={Sections}\n                    componentNoAccess={NoAccess}\n                    typeAccess={typeAccess}\n                  />\n                  <PrivateRoute\n                    exact\n                    path={SECTIONS_PATH}\n                    component={Sections}\n                    componentNoAccess={NoAccess}\n                    typeAccess={typeAccess}\n                  />\n                  <PrivateRoute\n                    exact\n                    path={RESULTS_PATH}\n                    component={CourseOverview}\n                    componentNoAccess={NoAccess}\n                    typeAccess={typeAccess}\n                  />\n                  <PrivateRoute\n                    path={SECTION_PATH}\n                    component={CourseOverview}\n                    componentNoAccess={NoAccess}\n                    typeAccess={typeAccess}\n                  />\n                  <RouteWithRedirect\n                    exact\n                    path={LOGIN_PATH}\n                    shouldRedirect={!forbidRoute && isUserAuthenticated}\n                    component={Login}\n                  />\n                  <RouteWithRedirect\n                    exact\n                    path={SIGNUP_PATH}\n                    shouldRedirect={!forbidRoute && isUserAuthenticated}\n                    component={SignUp}\n                  />\n                  <Route path=\"*\" exact component={NotFoundPage} />\n                </Switch>\n              </Layout>\n            </RouteTransition>\n          </ThemeProvider>\n        )}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state: RootAppState) {\n  return {\n    colors: getColors(state),\n    fonts: getFonts(state),\n    isLoading: isAppLoading(state),\n    isLoadingFailed: isAppLoadingFailed(state),\n    isLowResolution: state.app.isLowResolution,\n    isTocExpanded: getTreeOfContentVisibility(state),\n    background: getBackground(state),\n    isUserAuthenticated: isAuthenticated(state),\n    userAccessIsLimited: isCourseAccessLimited(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n}\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(withScrollOnRedirect(Shell))\n);\n","import { css } from 'styled-components';\n\nconst commonCSS = css`\n  * {\n    box-sizing: border-box;\n    word-wrap: break-word;\n    -webkit-overflow-scrolling: touch; /* smooth scrolling on safari */\n  }\n  html,\n  body,\n  #root {\n    width: 100%;\n    height: 100%;\n    font-size: 16px;\n    line-height: 32px;\n  }\n`;\n\nexport default commonCSS;\n","import { css } from 'styled-components';\nimport { transition } from 'components/mixins/interactivity';\n\nconst animationsCSS = css`\n  /*fade*/\n  .fade-enter,\n  .fade-appear {\n    opacity: 0;\n  }\n\n  .fade-enter.fade-enter-active,\n  .fade-appear.fade-appear-active {\n    ${transition('opacity', '0.4s')};\n    opacity: 1;\n  }\n\n  .fade-exit {\n    opacity: 1;\n  }\n\n  .fade-exit.fade-exit-active {\n    ${transition('opacity', '0.4s')};\n    opacity: 0.01;\n  }\n\n  /*slideInDown*/\n  .slideInDown-enter,\n  .slideInDown-appear {\n    transform: translateY(-10px);\n  }\n\n  .slideInDown-enter.slideInDown-enter-active,\n  .slideInDown-appear.slideInDown-appear-active {\n    ${transition('transform', '0.4s')};\n    transform: translateY(0px);\n  }\n\n  .slideInDown-exit {\n    transform: translateY(0px);\n  }\n\n  .slideInDown-exit.slideInDown-exit-active {\n    ${transition('transform', '0.4s')};\n    transform: translateY(-10px);\n  }\n\n  /*fadeInDown*/\n  .fadeInDown-enter,\n  .fadeInDown-appear {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n\n  .fadeInDown-enter.fadeInDown-enter-active,\n  .fadeInDown-appear.fadeInDown-appear-active {\n    ${transition('all', '0.3s')};\n    opacity: 1;\n    transform: translateY(0px);\n  }\n\n  .fadeInDown-exit {\n    opacity: 1;\n    transform: translateY(0px);\n  }\n\n  .fadeInDown-exit.fadeInDown-exit-active {\n    ${transition('all', '0.3s')};\n    opacity: 0.01;\n    transform: translateY(-10px);\n  }\n`;\n\nexport default animationsCSS;\n","import { createGlobalStyle } from 'styled-components';\nimport resetCss from 'styled-reset';\nimport commonCss from './common';\nimport animationsCss from './animations';\nimport './icons';\n\nconst BaseStyles = createGlobalStyle`\n  ${resetCss};\n  ${commonCss};\n  ${animationsCss};\n`;\n\nexport default BaseStyles;\n","import 'babel-polyfill';\nimport 'react-app-polyfill/ie11';\nimport 'webfontloader';\nimport 'react-hot-loader/patch';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'react-router-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport Shell from './components/shell';\nimport store, { history } from './store';\nimport 'react-circular-progressbar/dist/styles.css';\n\nimport BaseStyles from './assets/styles';\n\nconst render = (Component: any) => {\n  ReactDOM.render(\n    <React.Fragment>\n      <BaseStyles />\n      <AppContainer>\n        <Provider store={store}>\n          <ConnectedRouter history={history}>\n            <HashRouter>\n              <Component />\n            </HashRouter>\n          </ConnectedRouter>\n        </Provider>\n      </AppContainer>\n    </React.Fragment>,\n    document.querySelector('#root')\n  );\n};\n\nrender(Shell);\n\nif (module.hot) {\n  module.hot.accept('components/shell', () => {\n    /* eslint-disable global-require */\n    const NextShell = require('components/shell').default;\n    render(NextShell);\n  });\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  const axe = require('react-axe');\n  const config = {\n    rules: [\n      {\n        id: 'heading-order',\n        enabled: false\n      },\n      {\n        id: 'tabindex',\n        enabled: false\n      },\n      {\n        id: 'button-name',\n        enabled: false\n      },\n      {\n        id: 'color-contrast',\n        enabled: false\n      }\n    ]\n  };\n  axe(React, ReactDOM, 1000, config);\n}\n","import { css } from 'styled-components';\n\nexport const centerAbsoluteElement = css`\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nexport const centerAbsoluteElementY = css`\n  top: 50%;\n  transform: translate(0, -50%);\n`;\n","import { css } from 'styled-components';\nimport {\n  MEDIA_XSMALL,\n  MEDIA_SMALL,\n  MEDIA_MEDIUM,\n  MEDIA_LARGE,\n  MEDIA_XLARGE,\n  MEDIA_SMALL_FONT_RATIO,\n  MEDIA_TABLET,\n  MEDIA_MOBILE\n} from 'constants/screenResolutions';\n\nconst sizes: { [key: string]: any } = {\n  xsmall: MEDIA_XSMALL,\n  small: MEDIA_SMALL,\n  medium: MEDIA_MEDIUM,\n  large: MEDIA_LARGE,\n  xlarge: MEDIA_XLARGE,\n  tablet: MEDIA_TABLET,\n  smallFontRatio: MEDIA_SMALL_FONT_RATIO,\n  mobile: MEDIA_MOBILE\n};\n\nconst media = Object.keys(sizes).reduce((acc: { [key: string]: any }, label: any) => {\n  acc[label] = (...args: any) => css`\n    @media (max-width: ${sizes[label]}px) {\n      ${css(args[0], ...args)};\n    }\n  `;\n\n  return acc;\n}, {});\n\nexport default media;\n","import { QUESTION_PATH, SECTION_PATH, LEARNING_OBJECTIVE_PATH } from 'constants/navigation';\nimport pathToRegexp from 'path-to-regexp';\nimport { getCurrentLocationHash, getCurrentUrl } from 'utils/window';\n\nconst SECTION_ID = ':sectionId';\n\nexport const getQuestionUrl = (sectionId: string, questionId: string) =>\n  QUESTION_PATH.replace(SECTION_ID, sectionId).replace(':questionId', questionId);\n\nexport const getLearningObjectiveUrl = (sectionId: string) =>\n  LEARNING_OBJECTIVE_PATH.replace(SECTION_ID, sectionId);\n\nexport const getQuestionAbsoluteUrl = (sectionId: string, questionId: string) =>\n  `${getCurrentUrl()}#${getQuestionUrl(sectionId, questionId)}`;\n\nexport const getSectionUrl = (sectionId: string) => SECTION_PATH.replace(SECTION_ID, sectionId);\n\nexport const getSectionAbsoluteUrl = (sectionId: string) => `${getCurrentUrl()}#${getSectionUrl(sectionId)}`;\n\nexport const getLocationParams = (path: string) => {\n  const keys: any[] = [];\n  const match = pathToRegexp(path, keys).exec(getCurrentLocationHash().replace('#', ''));\n  return keys.reduce((acc, key, index) => {\n    acc[key.name] = (match ? match[index + 1] : null) || null;\n    return acc;\n  }, {});\n};\n","export type SectionsState = {\n    [key: string]: {\n        [key: string]: any\n    }\n}\n\n\nexport enum ActionTypes {\n    SECTIONS_LOADED = 'SECTIONS_LOADED',\n    SECTION_SCORE_UPDATED = 'SECTION_SCORE_UPDATED',\n    SECTION_IS_PASSED = 'SECTION_PASSED'\n}\n\ntype SectionScoreUpdated = {\n    [key: string]: any,\n    type: ActionTypes.SECTION_SCORE_UPDATED,\n    payload: {\n        id: string,\n        score: number,\n        isPassed: boolean\n    }\n}\n\ntype SectionPassed = {\n    [key: string]: any,\n    type: ActionTypes.SECTION_IS_PASSED,\n    payload: {\n        id: string,\n        isPassed: boolean\n    }\n}\n\ntype SectionLoaded = {\n    type: ActionTypes.SECTIONS_LOADED,\n    payload: {\n        [sections: string]: any\n    }\n}\n\nexport type SectionsActionTypes = SectionLoaded | SectionPassed | SectionScoreUpdated;\n\n","export enum ActionTypes {\n    QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED = 'QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED',\n    QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED = 'QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED',\n    SET_SINGLE_ANSWER_SELECTED = 'SET_SINGLE_ANSWER_SELECTED'\n}\n\ntype AnswerIsSelected = {\n    type: ActionTypes.QUESTION_MULTIPLECHOICE_TOGGLE_ANSWER_IS_SELECTED,\n    payload: {\n        questionId: string,\n        answerId: string\n    }\n}\n\ntype MultipleChoiceSingleAnswerSelected = {\n    type: ActionTypes.QUESTION_MULTIPLECHOICE_SET_SINGLE_ANSWER_SELECTED,\n    payload: {\n        questionId: string,\n        answerId: string\n    }\n}\n\ntype SingleAnswerSelected = {\n    type: ActionTypes.SET_SINGLE_ANSWER_SELECTED,\n    payload: {\n        questionId: string,\n        answerId: string\n    }\n}\n\nexport type MultipleChoiceActionTypes = AnswerIsSelected | MultipleChoiceSingleAnswerSelected | SingleAnswerSelected;\n","import { RootAppState } from 'store/types';\n\nexport const getTreeOfContentVisibility = (state: RootAppState) => state.treeOfContent.isExpanded; // eslint-disable-line\n","import {ActionTypes} from './types';\nimport { ThunkResult } from '../types';\n\nexport const openPopup = (settings: {[key: string]: any}): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.OPEN_POPUP, payload: { settings } });\n};\n\nexport const closePopup = (): ThunkResult => dispatch => {\n  dispatch({ type: ActionTypes.CLOSE_POPUP });\n};\n","import styled from 'styled-components';\nimport { transition } from 'components/mixins/interactivity';\n\ntype IconElementProps = {\n  size: number;\n}\n/* eslint-disable import/prefer-default-export */\nexport const IconElement = styled.span<IconElementProps>`\n  position: relative;\n  font-size: ${props => `${props.size}px`};\n  color: ${props => getColor(props)};\n  ${transition('color')};\n`;\n\ntype TextElementProps = {\n  fontSize: number;\n  theme?: {[key: string]: any};\n}\nexport const TextElement = styled.span<TextElementProps>`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-weight: 600;\n  font-size: ${props => `${props.fontSize}px`};\n  color: ${props => getColor(props)};\n  ${transition('color')};\n`;\n\nfunction getColor(props: any) {\n  if (props.getColor) {\n    return props.getColor(props.theme.colors);\n  }\n\n  return props.theme.colors[props.color];\n}\n"],"sourceRoot":""}